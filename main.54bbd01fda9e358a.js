(self.webpackChunkfretboard_explorer=self.webpackChunkfretboard_explorer||[]).push([[792],{45:(ne,Dt,mt)=>{var rt=mt(738).default;ne.exports=function _t(bt,At){if("object"!=rt(bt)||!bt)return bt;var Vt=bt[Symbol.toPrimitive];if(void 0!==Vt){var gn=Vt.call(bt,At||"default");if("object"!=rt(gn))return gn;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===At?String:Number)(bt)},ne.exports.__esModule=!0,ne.exports.default=ne.exports},79:ne=>{ne.exports=function Dt(mt,rt){(null==rt||rt>mt.length)&&(rt=mt.length);for(var _t=0,bt=Array(rt);_t<rt;_t++)bt[_t]=mt[_t];return bt},ne.exports.__esModule=!0,ne.exports.default=ne.exports},122:(ne,Dt,mt)=>{var rt=mt(79);ne.exports=function _t(bt,At){if(bt){if("string"==typeof bt)return rt(bt,At);var Vt={}.toString.call(bt).slice(8,-1);return"Object"===Vt&&bt.constructor&&(Vt=bt.constructor.name),"Map"===Vt||"Set"===Vt?Array.from(bt):"Arguments"===Vt||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Vt)?rt(bt,At):void 0}},ne.exports.__esModule=!0,ne.exports.default=ne.exports},156:ne=>{ne.exports=function Dt(mt,rt){var _t=null==mt?null:typeof Symbol<"u"&&mt[Symbol.iterator]||mt["@@iterator"];if(null!=_t){var bt,At,Vt,gn,yn=[],Rr=!0,ls=!1;try{if(Vt=(_t=_t.call(mt)).next,0===rt){if(Object(_t)!==_t)return;Rr=!1}else for(;!(Rr=(bt=Vt.call(_t)).done)&&(yn.push(bt.value),yn.length!==rt);Rr=!0);}catch(Ut){ls=!0,At=Ut}finally{try{if(!Rr&&null!=_t.return&&(gn=_t.return(),Object(gn)!==gn))return}finally{if(ls)throw At}}return yn}},ne.exports.__esModule=!0,ne.exports.default=ne.exports},383:ne=>{ne.exports=function Dt(mt,rt){if(!(mt instanceof rt))throw new TypeError("Cannot call a class as a function")},ne.exports.__esModule=!0,ne.exports.default=ne.exports},508:(ne,Dt,mt)=>{"use strict";let _t;function bt(){return _t}function At(t){const e=_t;return _t=t,e}mt(935);const gn=Symbol("NotFound");function Rr(t){return t===gn||"\u0275NotFound"===t?.name}function ls(t,e){return Object.is(t,e)}Error;let Ut=null,Pn=!1,Sn=1;const Nt=Symbol("SIGNAL");function we(t){const e=Ut;return Ut=t,e}const St={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function yi(t){if(Pn)throw new Error("");if(null===Ut)return;Ut.consumerOnSignalRead(t);const e=Ut.producersTail;if(void 0!==e&&e.producer===t)return;let n;const r=Ut.recomputing;if(r&&(n=void 0!==e?e.nextProducer:Ut.producers,void 0!==n&&n.producer===t))return Ut.producersTail=n,void(n.lastReadVersion=t.version);const s=t.consumersTail;if(void 0!==s&&s.consumer===Ut&&(!r||function Zi(t,e){const n=e.producersTail;if(void 0!==n){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(void 0!==r)}return!1}(s,Ut)))return;const i=he(Ut),o={producer:t,consumer:Ut,nextProducer:n,prevConsumer:s,lastReadVersion:t.version,nextConsumer:void 0};Ut.producersTail=o,void 0!==e?e.nextProducer=o:Ut.producers=o,i&&te(t,o)}function Gi(t){if((!he(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==Sn)){if(!t.producerMustRecompute(t)&&!Mt(t))return void bi(t);t.producerRecomputeValue(t),bi(t)}}function _a(t){if(void 0===t.consumers)return;const e=Pn;Pn=!0;try{for(let n=t.consumers;void 0!==n;n=n.nextConsumer){const r=n.consumer;r.dirty||So(r)}}finally{Pn=e}}function vi(){return!1!==Ut?.consumerAllowSignalWrites}function So(t){t.dirty=!0,_a(t),t.consumerMarkedDirty?.(t)}function bi(t){t.dirty=!1,t.lastCleanEpoch=Sn}function Ys(t){return t&&function Mo(t){t.producersTail=void 0,t.recomputing=!0}(t),we(t)}function Wi(t,e){we(e),t&&function _c(t){t.recomputing=!1;const e=t.producersTail;let n=void 0!==e?e.nextProducer:t.producers;if(void 0!==n){if(he(t))do{n=J(n)}while(void 0!==n);void 0!==e?e.nextProducer=void 0:t.producers=void 0}}(t)}function Mt(t){for(let e=t.producers;void 0!==e;e=e.nextProducer){const n=e.producer,r=e.lastReadVersion;if(r!==n.version||(Gi(n),r!==n.version))return!0}return!1}function re(t){if(he(t)){let e=t.producers;for(;void 0!==e;)e=J(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function te(t,e){const n=t.consumersTail,r=he(t);if(void 0!==n?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let s=t.producers;void 0!==s;s=s.nextProducer)te(s.producer,s)}function J(t){const e=t.producer,n=t.nextProducer,r=t.nextConsumer,s=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,void 0!==r?r.prevConsumer=s:e.consumersTail=s,void 0!==s)s.nextConsumer=r;else if(e.consumers=r,!he(e)){let i=e.producers;for(;void 0!==i;)i=J(i)}return n}function he(t){return t.consumerIsAlwaysLive||void 0!==t.consumers}const Zr=Symbol("UNSET"),ds=Symbol("COMPUTING"),hr=Symbol("ERRORED"),Yi={...St,value:Zr,dirty:!0,error:null,equal:ls,kind:"computed",producerMustRecompute:t=>t.value===Zr||t.value===ds,producerRecomputeValue(t){if(t.value===ds)throw new Error("");const e=t.value;t.value=ds;const n=Ys(t);let r,s=!1;try{r=t.computation(),we(null),s=e!==Zr&&e!==hr&&r!==hr&&t.equal(e,r)}catch(i){r=hr,t.error=i}finally{Wi(t,n)}s?t.value=e:(t.value=r,t.version++)}};let Ci=function Ln(){throw new Error};function Di(t){Ci(t)}function Qi(t,e){const n=Object.create(eu);n.value=t,void 0!==e&&(n.equal=e);const r=()=>function yc(t){return yi(t),t.value}(n);return r[Nt]=n,[r,o=>hs(n,o),o=>function ya(t,e){vi()||Di(t),hs(t,e(t.value))}(n,o)]}function hs(t,e){vi()||Di(t),t.equal(t.value,e)||(t.value=e,function Cm(t){t.version++,function To(){Sn++}(),_a(t)}(t))}const eu={...St,equal:ls,value:void 0,kind:"signal"};function en(t){return"function"==typeof t}function vc(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const bc=vc(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,s)=>`${s+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function xo(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class tr{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const i of n)i.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(en(r))try{r()}catch(i){e=i instanceof bc?i.errors:[i]}const{_finalizers:s}=this;if(s){this._finalizers=null;for(const i of s)try{hh(i)}catch(o){e=e??[],o instanceof bc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new bc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)hh(e);else{if(e instanceof tr){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&xo(n,e)}remove(e){const{_finalizers:n}=this;n&&xo(n,e),e instanceof tr&&e._removeParent(this)}}tr.EMPTY=(()=>{const t=new tr;return t.closed=!0,t})();const uh=tr.EMPTY;function dh(t){return t instanceof tr||t&&"closed"in t&&en(t.remove)&&en(t.add)&&en(t.unsubscribe)}function hh(t){en(t)?t():t.unsubscribe()}const Ki={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Cc={setTimeout(t,e,...n){const{delegate:r}=Cc;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Cc;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function fh(t){Cc.setTimeout(()=>{const{onUnhandledError:e}=Ki;if(!e)throw t;e(t)})}function ba(){}const w=C("C",void 0,void 0);function C(t,e,n){return{kind:t,value:e,error:n}}let A=null;function Q(t){if(Ki.useDeprecatedSynchronousErrorHandling){const e=!A;if(e&&(A={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=A;if(A=null,n)throw r}}else t()}class fe extends tr{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,dh(e)&&e.add(this)):this.destination=nr}static create(e,n,r){return new He(e,n,r)}next(e){this.isStopped?Gt(function B(t){return C("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Gt(function E(t){return C("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Gt(w,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ee=Function.prototype.bind;function $e(t,e){return Ee.call(t,e)}class pe{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ot(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ot(r)}else ot(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ot(n)}}}class He extends fe{constructor(e,n,r){let s;if(super(),en(e)||!e)s={next:e??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&Ki.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),s={next:e.next&&$e(e.next,i),error:e.error&&$e(e.error,i),complete:e.complete&&$e(e.complete,i)}):s=e}this.destination=new pe(s)}}function ot(t){Ki.useDeprecatedSynchronousErrorHandling?function ve(t){Ki.useDeprecatedSynchronousErrorHandling&&A&&(A.errorThrown=!0,A.error=t)}(t):fh(t)}function Gt(t,e){const{onStoppedNotification:n}=Ki;n&&Cc.setTimeout(()=>n(t,e))}const nr={closed:!0,next:ba,error:function jt(t){throw t},complete:ba},Vn="function"==typeof Symbol&&Symbol.observable||"@@observable";function qt(t){return t}function ie(t){return 0===t.length?qt:1===t.length?t[0]:function(n){return t.reduce((r,s)=>s(r),n)}}let Fe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,s){const i=function Wt(t){return t&&t instanceof fe||function vn(t){return t&&en(t.next)&&en(t.error)&&en(t.complete)}(t)&&dh(t)}(n)?n:new He(n,r,s);return Q(()=>{const{operator:o,source:a}=this;i.add(o?o.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Ot(r))((s,i)=>{const o=new He({next:a=>{try{n(a)}catch(c){i(c),o.unsubscribe()}},error:i,complete:s});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Vn](){return this}pipe(...n){return ie(n)(this)}toPromise(n){return new(n=Ot(n))((r,s)=>{let i;this.subscribe(o=>i=o,o=>s(o),()=>r(i))})}}return t.create=e=>new t(e),t})();function Ot(t){var e;return null!==(e=t??Ki.Promise)&&void 0!==e?e:Promise}const Ce=vc(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let yt=(()=>{class t extends Fe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new at(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Ce}next(n){Q(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Q(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Q(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:s,observers:i}=this;return r||s?uh:(this.currentObservers=null,i.push(n),new tr(()=>{this.currentObservers=null,xo(i,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:s,isStopped:i}=this;r?n.error(s):i&&n.complete()}asObservable(){const n=new Fe;return n.source=this,n}}return t.create=(e,n)=>new at(e,n),t})();class at extends yt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:uh}}class be extends yt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}class T extends Error{code;constructor(e,n){super(function b(t,e){return`${function me(t){return`NG0${Math.abs(t)}`}(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function ke(t){for(let e in t)if(t[e]===ke)return e;throw Error("")}function wt(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function bn(t){if("string"==typeof t)return t;if(Array.isArray(t))return`[${t.map(bn).join(", ")}]`;if(null==t)return""+t;const e=t.overriddenName||t.name;if(e)return`${e}`;const n=t.toString();if(null==n)return""+n;const r=n.indexOf("\n");return r>=0?n.slice(0,r):n}function fs(t,e){return t?e?`${t} ${e}`:t:e||""}globalThis;const ps=ke({__forward_ref__:ke});function H(t){return t.__forward_ref__=H,t.toString=function(){return bn(this())},t}function k(t){return x(t)?t():t}function x(t){return"function"==typeof t&&t.hasOwnProperty(ps)&&t.__forward_ref__===H}function _e(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ss(t){return{providers:t.providers||[],imports:t.imports||[]}}function Cr(t){return function KO(t,e){return t.hasOwnProperty(e)&&t[e]||null}(t,_h)}function mh(t){return t&&t.hasOwnProperty(Tm)?t[Tm]:null}const _h=ke({\u0275prov:ke}),Tm=ke({\u0275inj:ke});class Y{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=_e({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Mm(t){return t&&!!t.\u0275providers}const Im=ke({\u0275cmp:ke}),rF=ke({\u0275dir:ke}),sF=ke({\u0275pipe:ke}),ND=ke({\u0275mod:ke}),Da=ke({\u0275fac:ke}),su=ke({__NG_ELEMENT_ID__:ke}),kD=ke({__NG_ENV_ID__:ke});function nt(t){return"string"==typeof t?t:null==t?"":String(t)}const xm=ke({ngErrorCode:ke}),RD=ke({ngErrorMessage:ke}),iu=ke({ngTokenPath:ke});function Am(t,e){return OD("",-200,e)}function Nm(t,e){throw new T(-201,!1)}function OD(t,e,n){const r=new T(e,t);return r[xm]=e,r[RD]=t,n&&(r[iu]=n),r}let km;function FD(){return km}function Yr(t){const e=km;return km=t,e}function PD(t,e,n){const r=Cr(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:8&n?null:void 0!==e?e:void Nm()}const wa={};class uF{injector;constructor(e){this.injector=e}retrieve(e,n){const r=ou(n)||0;try{return this.injector.get(e,8&r?null:wa,r)}catch(s){if(Rr(s))return s;throw s}}}function dF(t,e=0){const n=bt();if(void 0===n)throw new T(-203,!1);if(null===n)return PD(t,void 0,e);{const r=function hF(t){return{optional:!!(8&t),host:!!(1&t),self:!!(2&t),skipSelf:!!(4&t)}}(e),s=n.retrieve(t,r);if(Rr(s)){if(r.optional)return null;throw s}return s}}function dt(t,e=0){return(FD()||dF)(k(t),e)}function U(t,e){return dt(t,ou(e))}function ou(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Om(t){const e=[];for(let n=0;n<t.length;n++){const r=k(t[n]);if(Array.isArray(r)){if(0===r.length)throw new T(900,!1);let s,i=0;for(let o=0;o<r.length;o++){const a=r[o],c=fF(a);"number"==typeof c?-1===c?s=a.token:i|=c:s=a}e.push(dt(s,i))}else e.push(dt(r))}return e}function fF(t){return t.__NG_DI_FLAG__}function Ea(t,e){return t.hasOwnProperty(Da)?t[Da]:null}function Dc(t,e){t.forEach(n=>Array.isArray(n)?Dc(n,e):e(n))}function VD(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function vh(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Ch(t,e,n){let r=cu(t,e);return r>=0?t[1|r]=n:(r=~r,function BD(t,e,n,r){let s=t.length;if(s==e)t.push(n,r);else if(1===s)t.push(r,t[0]),t[0]=n;else{for(s--,t.push(t[s-1],t[s]);s>e;)t[s]=t[s-2],s--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Fm(t,e){const n=cu(t,e);if(n>=0)return t[1|n]}function cu(t,e){return function gF(t,e,n){let r=0,s=t.length>>n;for(;s!==r;){const i=r+(s-r>>1),o=t[i<<n];if(e===o)return i<<n;o>e?s=i:r=i+1}return~(s<<n)}(t,e,1)}const Si={},rn=[],ko=new Y(""),HD=new Y("",-1),Pm=new Y("");class Dh{get(e,n=wa){if(n===wa){const s=OD("",-201);throw s.name="\u0275NotFound",s}return n}}function Mi(t){return t[ND]||null}function Bt(t){return t[Im]||null}function Or(t){return t[rF]||null}function Js(t){return t[sF]||null}function wh(t){return{\u0275providers:t}}function _F(...t){return{\u0275providers:Vm(0,t),\u0275fromNgModule:!0}}function Vm(t,...e){const n=[],r=new Set;let s;const i=o=>{n.push(o)};return Dc(e,o=>{const a=o;Eh(a,i,[],r)&&(s||=[],s.push(a))}),void 0!==s&&UD(s,i),n}function UD(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:s}=t[n];jm(s,i=>{e(i,r)})}}function Eh(t,e,n,r){if(!(t=k(t)))return!1;let s=null,i=mh(t);const o=!i&&Bt(t);if(i||o){if(o&&!o.standalone)return!1;s=t}else{const c=t.ngModule;if(i=mh(c),!i)return!1;s=c}const a=r.has(s);if(o){if(a)return!1;if(r.add(s),o.dependencies){const c="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const l of c)Eh(l,e,n,r)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let l;r.add(s);try{Dc(i.imports,u=>{Eh(u,e,n,r)&&(l||=[],l.push(u))})}finally{}void 0!==l&&UD(l,e)}if(!a){const l=Ea(s)||(()=>new s);e({provide:s,useFactory:l,deps:rn},s),e({provide:Pm,useValue:s,multi:!0},s),e({provide:ko,useValue:()=>dt(s),multi:!0},s)}const c=i.providers;if(null!=c&&!a){const l=t;jm(c,u=>{e(u,l)})}}}return s!==t&&void 0!==t.providers}function jm(t,e){for(let n of t)Mm(n)&&(n=n.\u0275providers),Array.isArray(n)?jm(n,e):e(n)}const yF=ke({provide:String,useValue:ke});function Bm(t){return null!==t&&"object"==typeof t&&yF in t}function Xi(t){return"function"==typeof t}const Hm=new Y(""),Th={},GD={};let Um;function qm(){return void 0===Um&&(Um=new Dh),Um}class Fr{}class Ta extends Fr{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,s){super(),this.parent=n,this.source=r,this.scopes=s,zm(e,o=>this.processProvider(o)),this.records.set(HD,Ec(void 0,this)),s.has("environment")&&this.records.set(Fr,Ec(void 0,this));const i=this.records.get(Hm);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Pm,rn,{self:!0}))}retrieve(e,n){const r=ou(n)||0;try{return this.get(e,wa,r)}catch(s){if(Rr(s))return s;throw s}}destroy(){lu(this),this._destroyed=!0;const e=we(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),we(e)}}onDestroy(e){return lu(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){lu(this);const n=At(this),r=Yr(void 0);try{return e()}finally{At(n),Yr(r)}}get(e,n=wa,r){if(lu(this),e.hasOwnProperty(kD))return e[kD](this);const s=ou(r),o=At(this),a=Yr(void 0);try{if(!(4&s)){let l=this.records.get(e);if(void 0===l){const u=function wF(t){return"function"==typeof t||"object"==typeof t&&"InjectionToken"===t.ngMetadataName}(e)&&Cr(e);l=u&&this.injectableDefInScope(u)?Ec($m(e),Th):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l,s)}return(2&s?qm():this.parent).get(e,n=8&s&&n===wa?null:n)}catch(c){const l=function cF(t){return t[xm]}(c);throw-200===l||-201===l?new T(l,null):c}finally{Yr(a),At(o)}}resolveInjectorInitializers(){const e=we(null),n=At(this),r=Yr(void 0);try{const i=this.get(ko,rn,{self:!0});for(const o of i)o()}finally{At(n),Yr(r),we(e)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(bn(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){let n=Xi(e=k(e))?e:k(e&&e.provide);const r=function bF(t){return Bm(t)?Ec(void 0,t.useValue):Ec(WD(t),Th)}(e);if(!Xi(e)&&!0===e.multi){let s=this.records.get(n);s||(s=Ec(void 0,Th,!0),s.factory=()=>Om(s.multi),this.records.set(n,s)),n=e,s.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){const s=we(null);try{if(n.value===GD)throw Am(bn(e));return n.value===Th&&(n.value=GD,n.value=n.factory(void 0,r)),"object"==typeof n.value&&n.value&&function DF(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{we(s)}}injectableDefInScope(e){if(!e.providedIn)return!1;const n=k(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function $m(t){const e=Cr(t),n=null!==e?e.factory:Ea(t);if(null!==n)return n;if(t instanceof Y)throw new T(204,!1);if(t instanceof Function)return function vF(t){if(t.length>0)throw new T(204,!1);const n=function XO(t){return(t?.[_h]??null)||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new T(204,!1)}function WD(t,e,n){let r;if(Xi(t)){const s=k(t);return Ea(s)||$m(s)}if(Bm(t))r=()=>k(t.useValue);else if(function $D(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Om(t.deps||[]));else if(function qD(t){return!(!t||!t.useExisting)}(t))r=(s,i)=>dt(k(t.useExisting),void 0!==i&&8&i?8:void 0);else{const s=k(t&&(t.useClass||t.provide));if(!function CF(t){return!!t.deps}(t))return Ea(s)||$m(s);r=()=>new s(...Om(t.deps))}return r}function lu(t){if(t.destroyed)throw new T(205,!1)}function Ec(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function zm(t,e){for(const n of t)Array.isArray(n)?zm(n,e):n&&Mm(n)?zm(n.\u0275providers,e):e(n)}function xs(t,e){let n;t instanceof Ta?(lu(t),n=t):n=new uF(t);const s=At(n),i=Yr(void 0);try{return e()}finally{At(s),Yr(i)}}function Cn(t){return Array.isArray(t)&&"object"==typeof t[1]}function Pr(t){return Array.isArray(t)&&!0===t[1]}function YD(t){return!!(4&t.flags)}function to(t){return t.componentOffset>-1}function xc(t){return!(1&~t.flags)}function ms(t){return!!t.template}function Po(t){return!!(512&t[2])}function no(t){return!(256&~t[2])}function ir(t){for(;Array.isArray(t);)t=t[0];return t}function Ac(t,e){return ir(e[t])}function Bn(t,e){return ir(e[t.index])}function Nc(t,e){return t.data[e]}function xa(t,e){return t[e]}function Lr(t,e){const n=e[t];return Cn(n)?n:n[0]}function Qm(t){return!(128&~t[2])}function wr(t,e){return null==e?null:t[e]}function tw(t){t[17]=0}function nw(t){1024&t[2]||(t[2]|=1024,Qm(t)&&kc(t))}function xh(t){return!!(9216&t[2]||t[24]?.dirty)}function Km(t){t[10].changeDetectionScheduler?.notify(8),64&t[2]&&(t[2]|=1024),xh(t)&&kc(t)}function kc(t){t[10].changeDetectionScheduler?.notify(0);let e=ro(t);for(;null!==e&&!(8192&e[2])&&(e[2]|=8192,Qm(e));)e=ro(e)}function Ah(t,e){if(no(t))throw new T(911,!1);null===t[21]&&(t[21]=[]),t[21].push(e)}function ro(t){const e=t[3];return Pr(e)?e[3]:e}function sw(t){return t[7]??=[]}function iw(t){return t.cleanup??=[]}const Ze={lFrame:bw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let e_=!1;function t_(){return Ze.bindingsEnabled}function O(){return Ze.lFrame.lView}function ct(){return Ze.lFrame.tView}function je(t){return Ze.lFrame.contextLView=t,t[8]}function Be(t){return Ze.lFrame.contextLView=null,t}function Je(){let t=uw();for(;null!==t&&64===t.type;)t=t.parent;return t}function uw(){return Ze.lFrame.currentTNode}function so(t,e){const n=Ze.lFrame;n.currentTNode=t,n.isParent=e}function dw(){return Ze.lFrame.isParent}function gw(){return e_}function Nh(t){const e=e_;return e_=t,e}function Vr(){const t=Ze.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Qr(){return Ze.lFrame.bindingIndex++}function oo(t){const e=Ze.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function PF(t,e){const n=Ze.lFrame;n.bindingIndex=n.bindingRootIndex=t,n_(e)}function n_(t){Ze.lFrame.currentDirectiveIndex=t}function s_(){return Ze.lFrame.currentQueryIndex}function kh(t){Ze.lFrame.currentQueryIndex=t}function VF(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[5]:null}function yw(t,e,n){if(4&n){let s=e,i=t;for(;!(s=s.parent,null!==s||1&n||(s=VF(i),null===s||(i=i[14],10&s.type))););if(null===s)return!1;e=s,t=i}const r=Ze.lFrame=vw();return r.currentTNode=e,r.lView=t,!0}function i_(t){const e=vw(),n=t[1];Ze.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function vw(){const t=Ze.lFrame,e=null===t?null:t.child;return null===e?bw(t):e}function bw(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Cw(){const t=Ze.lFrame;return Ze.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Dw=Cw;function o_(){const t=Cw();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function fr(){return Ze.lFrame.selectedIndex}function Aa(t){Ze.lFrame.selectedIndex=t}function Ii(){const t=Ze.lFrame;return Nc(t.tView,t.selectedIndex)}function jr(){Ze.lFrame.currentNamespace="svg"}let ww=!0;function Rh(){return ww}function fu(t){ww=t}function Ew(t,e=null,n=null,r){const s=Tw(t,e,n,r);return s.resolveInjectorInitializers(),s}function Tw(t,e=null,n=null,r,s=new Set){const i=[n||rn,_F(t)];return r=r||("object"==typeof t?void 0:bn(t)),new Ta(i,e||qm(),r||null,s)}class _s{static THROW_IF_NOT_FOUND=wa;static NULL=new Dh;static create(e,n){if(Array.isArray(e))return Ew({name:""},n,e,"");{const r=e.name??"";return Ew({name:r},e.parent,e.providers,r)}}static \u0275prov=_e({token:_s,providedIn:"any",factory:()=>dt(HD)});static __NG_ELEMENT_ID__=-1}const ei=new Y("");let xi=(()=>class t{static __NG_ELEMENT_ID__=$F;static __NG_ENV_ID__=n=>n})();class Sw extends xi{_lView;constructor(e){super(),this._lView=e}get destroyed(){return no(this._lView)}onDestroy(e){const n=this._lView;return Ah(n,e),()=>function Xm(t,e){if(null===t[21])return;const n=t[21].indexOf(e);-1!==n&&t[21].splice(n,1)}(n,e)}}function $F(){return new Sw(O())}class Oc{_console=console;handleError(e){this._console.error("ERROR",e)}}const ti=new Y("",{providedIn:"root",factory:()=>{const t=U(Fr);let e;return n=>{t.destroyed&&!e?setTimeout(()=>{throw n}):(e??=t.get(Oc),e.handleError(n))}}}),Mw={provide:ko,useValue:()=>{U(Oc)},multi:!0};function ao(t,e){const[n,r,s]=Qi(t,e?.equal),i=n;return i.set=r,i.update=s,i.asReadonly=a_.bind(i),i}function a_(){const t=this[Nt];if(void 0===t.readonlyFn){const e=()=>this();e[Nt]=t,t.readonlyFn=e}return t.readonlyFn}function xw(t){return function Iw(t){return"function"==typeof t&&void 0!==t[Nt]}(t)&&"function"==typeof t.set}class Na{}const c_=new Y("",{providedIn:"root",factory:()=>!1}),Aw=new Y(""),Nw=new Y("");let l_=(()=>class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=GF})();function GF(){return new l_(O(),Je())}let Lo=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new be(!1);get hasPendingTasks(){return!this.destroyed&&this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Fe(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=_e({token:t,providedIn:"root",factory:()=>new t})}return t})();function pu(...t){}let Rw=(()=>{class t{static \u0275prov=_e({token:t,providedIn:"root",factory:()=>new WF})}return t})();class WF{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){const r=this.queues.get(e.zone);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){const n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);const r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(const[n,r]of this.queues)e||=null===n?this.flushQueue(r):n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(const r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}}let Ow=null;function Vo(){return Ow}class YF{}let Fw=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=_e({token:t,factory:()=>U(QF),providedIn:"platform"})}return t})(),QF=(()=>{class t extends Fw{_location;_history;_doc=U(ei);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Vo().getBaseHref(this._doc)}onPopState(n){const r=Vo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Vo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,s){this._history.pushState(n,r,s)}replaceState(n,r,s){this._history.replaceState(n,r,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=_e({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function Pw(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function Lw(t){const e=t.search(/#|\?|$/);return"/"===t[e-1]?t.slice(0,e-1)+t.slice(e):t}function ka(t){return t&&"?"!==t[0]?`?${t}`:t}let Oh=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=_e({token:t,factory:()=>U(XF),providedIn:"root"})}return t})();const KF=new Y("");let XF=(()=>{class t extends Oh{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??U(ei).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Pw(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+ka(this._platformLocation.search),s=this._platformLocation.hash;return s&&n?`${r}${s}`:r}pushState(n,r,s,i){const o=this.prepareExternalUrl(s+ka(i));this._platformLocation.pushState(n,r,o)}replaceState(n,r,s,i){const o=this.prepareExternalUrl(s+ka(i));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(dt(Fw),dt(KF,8))};static \u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),gu=(()=>{class t{_subject=new yt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function tP(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(Lw(Vw(r))),this._locationStrategy.onPopState(s=>{this._subject.next({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+ka(r))}normalize(n){return t.stripTrailingSlash(function eP(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,Vw(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",s=null){this._locationStrategy.pushState(s,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ka(r)),s)}replaceState(n,r="",s=null){this._locationStrategy.replaceState(s,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ka(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(s=>s(n,r))}subscribe(n,r,s){return this._subject.subscribe({next:n,error:r??void 0,complete:s??void 0})}static normalizeQueryParams=ka;static joinWithSlash=Pw;static stripTrailingSlash=Lw;static \u0275fac=function(r){return new(r||t)(dt(Oh))};static \u0275prov=_e({token:t,factory:()=>function JF(){return new gu(dt(Oh))}(),providedIn:"root"})}return t})();function Vw(t){return t.replace(/\/index.html$/,"")}function Qw(t,e,n,r,s,i,o){try{var a=t[i](o),c=a.value}catch(l){return void n(l)}a.done?e(c):Promise.resolve(c).then(r,s)}function ze(t){return function(){var e=this,n=arguments;return new Promise(function(r,s){var i=t.apply(e,n);function o(c){Qw(i,r,s,o,a,"next",c)}function a(c){Qw(i,r,s,o,a,"throw",c)}o(void 0)})}}function Kw(t){return en(t?.lift)}function or(t){return e=>{if(Kw(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Hn(t,e,n,r,s){return new RP(t,e,n,r,s)}class RP extends fe{constructor(e,n,r,s,i,o){super(e),this.onFinalize=i,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=s?function(a){try{s(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ft(t,e){return or((n,r)=>{let s=0;n.subscribe(Hn(r,i=>{r.next(t.call(e,i,s++))}))})}function co(t){return{toString:t}.toString()}class GP{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function eE(t,e,n,r){null!==e?e.applyValueToInputSignal(e,r):t[n]=r}const ks=(()=>{const t=()=>tE;return t.ngInherit=!0,t})();function tE(t){return t.type.prototype.ngOnChanges&&(t.setInput=ZP),WP}function WP(){const t=rE(this),e=t?.current;if(e){const n=t.previous;if(n===Si)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function ZP(t,e,n,r,s){const i=this.declaredInputs[r],o=rE(t)||function YP(t,e){return t[nE]=e}(t,{previous:Si,current:null}),a=o.current||(o.current={}),c=o.previous,l=c[i];a[i]=new GP(l&&l.currentValue,n,c===Si),eE(t,e,s,n)}const nE="__ngSimpleChanges__";function rE(t){return t[nE]||null}const Ra=[],Ht=function(t,e=null,n){for(let r=0;r<Ra.length;r++)(0,Ra[r])(t,e,n)};function sE(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const i=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=i;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),null!=u&&(t.destroyHooks??=[]).push(n,u)}}function jh(t,e,n){iE(t,e,3,n)}function Bh(t,e,n,r){(3&t[2])===n&&iE(t,e,n,r)}function g_(t,e){let n=t[2];(3&n)===e&&(n&=16383,n+=1,t[2]=n)}function iE(t,e,n,r){const i=r??-1,o=e.length-1;let a=0;for(let c=void 0!==r?65535&t[17]:0;c<o;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(t[17]+=65536),(a<i||-1==i)&&(eL(t,n,e,c),t[17]=(4294901760&t[17])+c+2),c++}function oE(t,e){Ht(4,t,e);const n=we(null);try{e.call(t)}finally{we(n),Ht(5,t,e)}}function eL(t,e,n,r){const s=n[r]<0,i=n[r+1],a=t[s?-n[r]:n[r]];s?t[2]>>14<t[17]>>16&&(3&t[2])===e&&(t[2]+=16384,oE(a,i)):oE(a,i)}class bu{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,s){this.factory=e,this.name=s,this.canSeeViewProviders=n,this.injectImpl=r}}function cE(t){return 3===t||4===t||6===t}function lE(t){return 64===t.charCodeAt(0)}function Bc(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const s=e[r];"number"==typeof s?n=s:0===n||uE(t,n,s,0,-1===n||2===n?e[++r]:null)}}return t}function uE(t,e,n,r,s){let i=0,o=t.length;if(-1===e)o=-1;else for(;i<t.length;){const a=t[i++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=i-1;break}}}for(;i<t.length;){const a=t[i];if("number"==typeof a)break;if(a===n)return void(null!==s&&(t[i+1]=s));i++,null!==s&&i++}-1!==o&&(t.splice(o,0,e),i=o+1),t.splice(i++,0,n),null!==s&&t.splice(i++,0,s)}function __(t){return-1!==t}function Cu(t){return 32767&t}function Du(t,e){let n=function sL(t){return t>>16}(t),r=e;for(;n>0;)r=r[14],n--;return r}let y_=!0;function Hh(t){const e=y_;return y_=t,e}let iL=0;const Ai={};function Uh(t,e){const n=fE(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,v_(r.data,t),v_(e,null),v_(r.blueprint,null));const s=qh(t,e),i=t.injectorIndex;if(__(s)){const o=Cu(s),a=Du(s,e),c=a[1].data;for(let l=0;l<8;l++)e[i+l]=a[o+l]|c[o+l]}return e[i+8]=s,i}function v_(t,e){t.push(0,0,0,0,0,0,0,0,e)}function fE(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function qh(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,s=e;for(;null!==s;){if(r=bE(s),null===r)return-1;if(n++,s=s[14],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function b_(t,e,n){!function oL(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(su)&&(r=n[su]),null==r&&(r=n[su]=iL++);const s=255&r;e.data[t+(s>>5)]|=1<<s}(t,e,n)}function pE(t,e,n){if(8&n||void 0!==t)return t;Nm()}function gE(t,e,n,r){if(8&n&&void 0===r&&(r=null),!(3&n)){const s=t[9],i=Yr(void 0);try{return s?s.get(e,r,8&n):PD(e,r,8&n)}finally{Yr(i)}}return pE(r,0,n)}function mE(t,e,n,r=0,s){if(null!==t){if(2048&e[2]&&!(2&r)){const o=function dL(t,e,n,r,s){let i=t,o=e;for(;null!==i&&null!==o&&2048&o[2]&&!Po(o);){const a=_E(i,o,n,2|r,Ai);if(a!==Ai)return a;let c=i.parent;if(!c){const l=o[20];if(l){const u=l.get(n,Ai,r);if(u!==Ai)return u}c=bE(o),o=o[14]}i=c}return s}(t,e,n,r,Ai);if(o!==Ai)return o}const i=_E(t,e,n,r,Ai);if(i!==Ai)return i}return gE(e,n,r,s)}function _E(t,e,n,r,s){const i=function lL(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(su)?t[su]:void 0;return"number"==typeof e?e>=0?255&e:uL:e}(n);if("function"==typeof i){if(!yw(e,t,r))return 1&r?pE(s,0,r):gE(e,n,r,s);try{let o;if(o=i(r),null!=o||8&r)return o;Nm()}finally{Dw()}}else if("number"==typeof i){let o=null,a=fE(t,e),c=-1,l=1&r?e[15][5]:null;for((-1===a||4&r)&&(c=-1===a?qh(t,e):e[a+8],-1!==c&&vE(r,!1)?(o=e[1],a=Cu(c),e=Du(c,e)):a=-1);-1!==a;){const u=e[1];if(yE(i,a,u.data)){const d=cL(a,e,n,o,r,l);if(d!==Ai)return d}c=e[a+8],-1!==c&&vE(r,e[1].data[a+8]===l)&&yE(i,a,e)?(o=u,a=Cu(c),e=Du(c,e)):a=-1}}return s}function cL(t,e,n,r,s,i){const o=e[1],a=o.data[t+8],u=$h(a,o,n,null==r?to(a)&&y_:r!=o&&!!(3&a.type),1&s&&i===a);return null!==u?wu(e,o,u,a,s):Ai}function $h(t,e,n,r,s){const i=t.providerIndexes,o=e.data,a=1048575&i,c=t.directiveStart,u=i>>20,h=s?a+u:t.directiveEnd;for(let f=r?a:a+u;f<h;f++){const p=o[f];if(f<c&&n===p||f>=c&&p.type===n)return f}if(s){const f=o[c];if(f&&ms(f)&&f.type===n)return c}return null}function wu(t,e,n,r,s){let i=t[n];const o=e.data;if(i instanceof bu){const a=i;if(a.resolving)throw function It(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():nt(t)}(o[n]),Am();const c=Hh(a.canSeeViewProviders);a.resolving=!0;const d=a.injectImpl?Yr(a.injectImpl):null;yw(t,r,0);try{i=t[n]=a.factory(void 0,s,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function JP(t,e,n){const{ngOnChanges:r,ngOnInit:s,ngDoCheck:i}=e.type.prototype;if(r){const o=tE(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}s&&(n.preOrderHooks??=[]).push(0-t,s),i&&((n.preOrderHooks??=[]).push(t,i),(n.preOrderCheckHooks??=[]).push(t,i))}(n,o[n],e)}finally{null!==d&&Yr(d),Hh(c),a.resolving=!1,Dw()}}return i}function yE(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function vE(t,e){return!(2&t||1&t&&e)}class In{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return mE(this._tNode,this._lView,e,ou(r),n)}}function uL(){return new In(Je(),O())}function ar(t){return co(()=>{const e=t.prototype.constructor,n=e[Da]||C_(e),r=Object.prototype;let s=Object.getPrototypeOf(t.prototype).constructor;for(;s&&s!==r;){const i=s[Da]||C_(s);if(i&&i!==n)return i;s=Object.getPrototypeOf(s)}return i=>new i})}function C_(t){return x(t)?()=>{const e=C_(k(t));return e&&e()}:Ea(t)}function bE(t){const e=t[1],n=e.type;return 2===n?e.declTNode:1===n?t[5]:null}function vL(){return Hc(Je(),O())}function Hc(t,e){return new ys(Bn(t,e))}let ys=(()=>class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=vL})();function TE(t){return t instanceof ys?t.nativeElement:t}function bL(){return this._results[Symbol.iterator]()}class CL{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new yt}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;const r=function Is(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function pF(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let s=t[r],i=e[r];if(n&&(s=n(s),i=n(i)),i!==s)return!1}return!0}(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=bL}function Tu(t){return!(128&~t.flags)}var Gh=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Gh||{});const Wh=new Map;let EL=0;function E_(t){Wh.delete(t[19])}const S_="__ngContext__";function Xr(t,e){Cn(e)?(t[S_]=e[19],function SL(t){Wh.set(t[19],t)}(e)):t[S_]=e}function PE(t){return VE(t[12])}function LE(t){return VE(t[4])}function VE(t){for(;null!==t&&!Pr(t);)t=t[4];return t}let M_;const Mu=new Y("",{providedIn:"root",factory:()=>ZL}),ZL="ng",zE=new Y(""),I_=new Y("",{providedIn:"platform",factory:()=>"unknown"}),GE=new Y("",{providedIn:"root",factory:()=>function Bo(){if(void 0!==M_)return M_;if(typeof document<"u")return document;throw new T(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),n2=new Y("",{providedIn:"root",factory:()=>!1});function Xh(t){return!(32&~t.flags)}function y0(t,e){const n=t.contentQueries;if(null!==n){const r=we(null);try{for(let s=0;s<n.length;s+=2){const o=n[s+1];if(-1!==o){const a=t.data[o];kh(n[s]),a.contentQueries(2,e[o],o)}}}finally{we(r)}}}function z_(t,e,n){kh(0);const r=we(null);try{e(t,n)}finally{we(r)}}function G_(t,e,n){if(YD(e)){const r=we(null);try{const i=e.directiveEnd;for(let o=e.directiveStart;o<i;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{we(r)}}}var lo=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(lo||{});class w0{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss)`}}const nV=/^>|^->|<!--|-->|--!>|<!-$/g,rV=/(<|>)/g;function Ni(t){return t instanceof Function?t():t}function mV(t,e,n){let r=t.length;for(;;){const s=t.indexOf(e,n);if(-1===s)return s;if(0===s||t.charCodeAt(s-1)<=32){const i=e.length;if(s+i===r||t.charCodeAt(s+i)<=32)return s}n=s+1}}const q0="ng-template";function _V(t,e,n,r){let s=0;if(r){for(;s<e.length&&"string"==typeof e[s];s+=2)if("class"===e[s]&&-1!==mV(e[s+1].toLowerCase(),n,0))return!0}else if(ey(t))return!1;if(s=e.indexOf(1,s),s>-1){let i;for(;++s<e.length&&"string"==typeof(i=e[s]);)if(i.toLowerCase()===n)return!0}return!1}function ey(t){return 4===t.type&&t.value!==q0}function yV(t,e,n){return e===(4!==t.type||n?t.value:q0)}function vV(t,e,n){let r=4;const s=t.attrs,i=null!==s?function DV(t){for(let e=0;e<t.length;e++)if(cE(t[e]))return e;return t.length}(s):0;let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!yV(t,c,n)||""===c&&1===e.length){if(ni(r))return!1;o=!0}}else if(8&r){if(null===s||!_V(t,s,c,n)){if(ni(r))return!1;o=!0}}else{const l=e[++a],u=bV(c,s,ey(t),n);if(-1===u){if(ni(r))return!1;o=!0;continue}if(""!==l){let d;if(d=u>i?"":s[u+1].toLowerCase(),2&r&&l!==d){if(ni(r))return!1;o=!0}}}}else{if(!o&&!ni(r)&&!ni(c))return!1;if(o&&ni(c))continue;o=!1,r=c|1&r}}return ni(r)||o}function ni(t){return!(1&t)}function bV(t,e,n,r){if(null===e)return-1;let s=0;if(r||!n){let i=!1;for(;s<e.length;){const o=e[s];if(o===t)return s;if(3===o||6===o)i=!0;else{if(1===o||2===o){let a=e[++s];for(;"string"==typeof a;)a=e[++s];continue}if(4===o)break;if(0===o){s+=4;continue}}s+=i?1:2}return-1}return function wV(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function $0(t,e,n=!1){for(let r=0;r<e.length;r++)if(vV(t,e[r],n))return!0;return!1}function z0(t,e){return t?":not("+e.trim()+")":e}function TV(t){let e=t[0],n=1,r=2,s="",i=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];s+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?s+="."+o:4&r&&(s+=" "+o);else""!==s&&!ni(o)&&(e+=z0(i,s),s=""),r=o,i=i||!ni(r);n++}return""!==s&&(e+=z0(i,s)),e}const $t={};function ny(t,e){return t.createComment(function F0(t){return t.replace(nV,e=>e.replace(rV,"\u200b$1\u200b"))}(e))}function uf(t,e,n){return t.createElement(e,n)}function Fa(t,e,n,r,s){t.insertBefore(e,n,r,s)}function W0(t,e,n){t.appendChild(e,n)}function Z0(t,e,n,r,s){null!==r?Fa(t,e,n,r,s):W0(t,e,n)}function Q0(t,e,n){const{mergedAttrs:r,classes:s,styles:i}=n;null!==r&&function rL(t,e,n){let r=0;for(;r<n.length;){const s=n[r];if("number"==typeof s){if(0!==s)break;r++;const i=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,i)}else{const i=s,o=n[++r];lE(i)?t.setProperty(e,i,o):t.setAttribute(e,i,o),r++}}}(t,e,r),null!==s&&function xV(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}(t,e,s),null!==i&&function IV(t,e,n){t.setAttribute(e,"style",n)}(t,e,i)}function ry(t,e,n,r,s,i,o,a,c,l,u){const d=27+r,h=d+s,f=function AV(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:$t);return n}(d,h),p="function"==typeof l?l():l;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}function df(t,e,n,r,s,i,o,a,c,l,u){const d=e.blueprint.slice();return d[0]=s,d[2]=1228|r,(null!==l||t&&2048&t[2])&&(d[2]|=2048),tw(d),d[3]=d[14]=t,d[8]=n,d[10]=o||t&&t[10],d[11]=a||t&&t[11],d[9]=c||t&&t[9]||null,d[5]=i,d[19]=function TL(){return EL++}(),d[6]=u,d[20]=l,d[15]=2==e.type?t[15]:d,d}function sy(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function Ou(t,e,n,r){if(0===n)return-1;const s=e.length;for(let i=0;i<n;i++)e.push(r),t.blueprint.push(r),t.data.push(null);return s}function iy(t,e){return t[12]?t[13][4]=e:t[12]=e,t[13]=e,e}function F(t=1){X0(ct(),O(),fr()+t,!1)}function X0(t,e,n,r){if(!r)if(3&~e[2]){const i=t.preOrderHooks;null!==i&&Bh(e,i,0,n)}else{const i=t.preOrderCheckHooks;null!==i&&jh(e,i,n)}Aa(n)}var hf=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(hf||{});function Fu(t,e,n,r){const s=we(null);try{const[i,o,a]=t.inputs[n];let c=null;0!==(o&hf.SignalBased)&&(c=e[i][Nt]),null!==c&&void 0!==c.transformFn?r=c.transformFn(r):null!==a&&(r=a.call(e,r)),null!==t.setInput?t.setInput(e,c,r,n,i):eE(e,c,i,r)}finally{we(s)}}var qo=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(qo||{});function ay(t,e){return undefined(t,e)}const pf=new Set;function Qc(t,e,n,r,s,i){if(null!=r){let o,a=!1;Pr(r)?o=r:Cn(r)&&(a=!0,r=r[0]);const c=ir(r);0===t&&null!==n?null==s?W0(e,n,c):Fa(e,n,c,s||null,!0):1===t&&null!==n?Fa(e,n,c,s||null,!0):2===t?sT(i,l=>{!function Ru(t,e,n,r){t.removeChild(null,e,n,r)}(e,c,a,l)}):3===t&&sT(i,()=>{e.destroyNode(c)}),null!=o&&function qV(t,e,n,r,s){const i=n[7];i!==ir(n)&&Qc(e,t,r,i,s);for(let a=10;a<n.length;a++){const c=n[a];mf(c[1],c,t,e,r,i)}}(e,t,o,n,s)}}function rT(t,e){e[10].changeDetectionScheduler?.notify(9),mf(t,e,e[11],2,null,null)}function cy(t,e){const n=t[9],r=n.indexOf(e);n.splice(r,1)}function Pu(t,e){if(no(e))return;const n=e[11];n.destroyNode&&mf(t,e,n,3,null,null),function VV(t){let e=t[12];if(!e)return ly(t[1],t);for(;e;){let n=null;if(Cn(e))n=e[12];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)Cn(e)&&ly(e[1],e),e=e[3];null===e&&(e=t),Cn(e)&&ly(e[1],e),n=e&&e[4]}e=n}}(e)}function ly(t,e){if(no(e))return;const n=we(null);try{e[2]&=-129,e[2]|=256,e[24]&&re(e[24]),function HV(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const s=e[n[r]];if(!(s instanceof bu)){const i=n[r+1];if(Array.isArray(i))for(let o=0;o<i.length;o+=2){const a=s[i[o]],c=i[o+1];Ht(4,a,c);try{c.call(a)}finally{Ht(5,a,c)}}else{Ht(4,s,i);try{i.call(s)}finally{Ht(5,s,i)}}}}}(t,e),function BV(t,e){const n=t.cleanup,r=e[7];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const a=n[o+3];a>=0?r[a]():r[-a].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(e[7]=null);const s=e[21];if(null!==s){e[21]=null;for(let o=0;o<s.length;o++)(0,s[o])()}const i=e[23];if(null!==i){e[23]=null;for(const o of i)o.destroy()}}(t,e),1===e[1].type&&e[11].destroy();const r=e[16];if(null!==r&&Pr(e[3])){r!==e[3]&&cy(r,e);const s=e[18];null!==s&&s.detachView(t)}E_(e)}finally{we(n)}}function sT(t,e){if(t&&t[26]&&t[26].leave)if(t[26].skipLeaveAnimations)t[26].skipLeaveAnimations=!1;else{const n=t[26].leave,r=[];for(let s=0;s<n.length;s++)r.push((0,n[s])());t[26].running=Promise.allSettled(r),t[26].leave=void 0}!function jV(t,e){t&&t[26]&&t[26].running?t[26].running.then(()=>{t[26]&&t[26].running&&(t[26].running=void 0),pf.delete(t),e(!0)}):e(!1)}(t,e)}function uy(t,e,n){return function iT(t,e,n){let r=e;for(;null!==r&&168&r.type;)r=(e=r).parent;if(null===r)return n[0];if(to(r)){const{encapsulation:s}=t.data[r.directiveStart+r.componentOffset];if(s===lo.None||s===lo.Emulated)return null}return Bn(r,n)}(t,e.parent,n)}let cT=function aT(t,e,n){return 40&t.type?Bn(t,n):null};function hy(t,e,n,r){const s=uy(t,r,e),i=e[11],a=function oT(t,e,n){return cT(t,e,n)}(r.parent||e[5],r,e);if(null!=s)if(Array.isArray(n))for(let c=0;c<n.length;c++)Z0(i,s,n[c],a,!1);else Z0(i,s,n,a,!1)}function Pa(t,e){if(null!==e){const n=e.type;if(3&n)return Bn(e,t);if(4&n)return gf(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Pa(t,r);{const s=t[e.index];return Pr(s)?gf(-1,s):ir(s)}}if(128&n)return Pa(t,e.next);if(32&n)return ay(e,t)()||ir(t[e.index]);{const r=uT(t,e);return null!==r?Array.isArray(r)?r[0]:Pa(ro(t[15]),r):Pa(t,e.next)}}return null}function uT(t,e){return null!==e?t[15][5].projection[e.projection]:null}function gf(t,e){const n=10+t+1;if(n<e.length){const r=e[n],s=r[1].firstChild;if(null!==s)return Pa(r,s)}return e[7]}function fy(t,e,n,r,s,i,o){for(;null!=n;){if(128===n.type){n=n.next;continue}const a=r[n.index],c=n.type;if(o&&0===e&&(a&&Xr(ir(a),r),n.flags|=2),!Xh(n))if(8&c)fy(t,e,n.child,r,s,i,!1),Qc(e,t,s,a,i,r);else if(32&c){const l=ay(n,r);let u;for(;u=l();)Qc(e,t,s,u,i,r);Qc(e,t,s,a,i,r)}else 16&c?dT(t,e,r,n,s,i):Qc(e,t,s,a,i,r);n=o?n.projectionNext:n.next}}function mf(t,e,n,r,s,i){fy(n,r,t.firstChild,e,s,i,!1)}function dT(t,e,n,r,s,i){const o=n[15],c=o[5].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)Qc(e,t,s,c[l],i,n);else{let l=c;const u=o[3];Tu(r)&&(l.flags|=128),fy(t,e,l,u,s,i,!0)}}function hT(t,e,n,r,s){const i=fr(),o=2&r;try{Aa(-1),o&&e.length>27&&X0(t,e,27,!1),Ht(o?2:0,s,n),n(r,s)}finally{Aa(i),Ht(o?3:1,s,n)}}function _f(t,e,n){(function YV(t,e,n){const r=n.directiveStart,s=n.directiveEnd;to(n)&&function NV(t,e,n){const r=Bn(e,t),s=function K0(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ry(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}(n),i=t[10].rendererFactory,o=iy(t,df(t,s,null,sy(n),r,e,null,i.createRenderer(r,n),null,null,null));t[e.index]=o}(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Uh(n,e);const i=n.initialInputs;for(let o=r;o<s;o++){const a=t.data[o],c=wu(e,t,o,n);Xr(c,e),null!==i&&JV(0,o-r,c,a,0,i),ms(a)&&(Lr(n.index,e)[8]=wu(e,t,o,n))}})(t,e,n),!(64&~n.flags)&&function QV(t,e,n){const r=n.directiveStart,s=n.directiveEnd,i=n.index,o=function LF(){return Ze.lFrame.currentDirectiveIndex}();try{Aa(i);for(let a=r;a<s;a++){const c=t.data[a],l=e[a];n_(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&KV(c,l)}}finally{Aa(-1),n_(o)}}(t,e,n)}function Kc(t,e,n=Bn){const r=e.localNames;if(null!==r){let s=e.index+1;for(let i=0;i<r.length;i+=2){const o=r[i+1],a=-1===o?n(e,t):t[o];t[s++]=a}}}let fT=()=>null;function py(t,e,n,r,s,i){Cf(t,e[1],e,n,r)?to(t)&&function pT(t,e){const n=Lr(e,t);16&n[2]||(n[2]|=64)}(e,t.index):(3&t.type&&(n=function ZV(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(n)),function gy(t,e,n,r,s,i){if(3&t.type){const o=Bn(t,e);r=null!=i?i(r,t.value||"",n):r,s.setProperty(o,n,r)}}(t,e,n,r,s,i))}function KV(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function my(t,e){const n=t.directiveRegistry;let r=null;if(n)for(let s=0;s<n.length;s++){const i=n[s];$0(e,i.selectors,!1)&&(r??=[],ms(i)?r.unshift(i):r.push(i))}return r}function JV(t,e,n,r,s,i){const o=i[e];if(null!==o)for(let a=0;a<o.length;a+=2)Fu(r,n,o[a],o[a+1])}function vf(t,e,n,r,s){const i=27+n,o=e[1],a=s(o,e,t,r,n);e[i]=a,so(t,!0);const c=2===t.type;return c?(Q0(e[11],a,t),(0===function NF(){return Ze.lFrame.elementDepthCount}()||xc(t))&&Xr(a,e),function kF(){Ze.lFrame.elementDepthCount++}()):Xr(a,e),Rh()&&(!c||!Xh(t))&&hy(o,e,a,t),t}function bf(t){let e=t;return dw()?function hw(){Ze.lFrame.isParent=!1}():(e=e.parent,so(e,!1)),e}function Cf(t,e,n,r,s){const i=t.inputs?.[r],o=t.hostDirectiveInputs?.[r];let a=!1;if(o)for(let c=0;c<o.length;c+=2){const l=o[c];Fu(e.data[l],n[l],o[c+1],s),a=!0}if(i)for(const c of i)Fu(e.data[c],n[c],r,s),a=!0;return a}function tj(t,e){const n=Lr(e,t),r=n[1];!function nj(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const s=n[0];null!==s&&null===n[6]&&(n[6]=null),Ht(18),Df(r,n,n[8]),Ht(19,n[8])}function Df(t,e,n){i_(e);try{const r=t.viewQuery;null!==r&&z_(1,r,n);const s=t.template;null!==s&&hT(t,e,s,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[18]?.finishViewCreation(t),t.staticContentQueries&&y0(t,e),t.staticViewQueries&&z_(2,t.viewQuery,n);const i=t.components;null!==i&&function rj(t,e){for(let n=0;n<e.length;n++)tj(t,e[n])}(e,i)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,o_()}}function La(t,e){return!e||null===e.firstChild||Tu(t)}function Lu(t,e,n,r,s=!1){for(;null!==n;){if(128===n.type){n=s?n.projectionNext:n.next;continue}const i=e[n.index];null!==i&&r.push(ir(i)),Pr(i)&&sj(i,r);const o=n.type;if(8&o)Lu(t,e,n.child,r);else if(32&o){const a=ay(n,e);let c;for(;c=a();)r.push(c)}else if(16&o){const a=uT(e,n);if(Array.isArray(a))r.push(...a);else{const c=ro(e[15]);Lu(c[1],c,a,r,!0)}}n=s?n.projectionNext:n.next}return r}function sj(t,e){for(let n=10;n<t.length;n++){const r=t[n],s=r[1].firstChild;null!==s&&Lu(r[1],r,s,e)}t[7]!==t[0]&&e.push(t[7])}function _T(t){if(null!==t[25]){for(const e of t[25])e.impl.addSequence(e);t[25].length=0}}let yT=[];const cj={...St,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{kc(t.lView)},consumerOnSignalRead(){this.lView[24]=this}},uj={...St,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=ro(t.lView);for(;e&&!vT(e[1]);)e=ro(e);e&&nw(e)},consumerOnSignalRead(){this.lView[24]=this}};function vT(t){return 2!==t.type}function bT(t){if(null===t[23])return;let e=!0;for(;e;){let n=!1;for(const r of t[23])r.dirty&&(n=!0,null===r.zone||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(8192&t[2])}}function wf(t,e=0){const r=t[10].rendererFactory;r.begin?.();try{!function hj(t,e){const n=gw();try{Nh(!0),yy(t,e);let r=0;for(;xh(t);){if(100===r)throw new T(103,!1);r++,yy(t,1)}}finally{Nh(n)}}(t,e)}finally{r.end?.()}}function CT(t,e,n,r){if(no(e))return;const s=e[2];i_(e);let a=!0,c=null,l=null;vT(t)?(l=function ij(t){return t[24]??function oj(t){const e=yT.pop()??Object.create(cj);return e.lView=t,e}(t)}(e),c=Ys(l)):null===function Ct(){return Ut}()?(a=!1,l=function lj(t){const e=t[24]??Object.create(uj);return e.lView=t,e}(e),c=Ys(l)):e[24]&&(re(e[24]),e[24]=null);try{tw(e),function mw(t){return Ze.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&hT(t,e,n,2,r),function fj(t){const e=t[26];if(e?.enter){for(const n of e.enter)n();e.enter=void 0}}(e);const u=!(3&~s);if(u){const f=t.preOrderCheckHooks;null!==f&&jh(e,f,null)}else{const f=t.preOrderHooks;null!==f&&Bh(e,f,0,null),g_(e,0)}if(function pj(t){for(let e=PE(t);null!==e;e=LE(e)){if(!(2&e[2]))continue;const n=e[9];for(let r=0;r<n.length;r++)nw(n[r])}}(e),bT(e),DT(e,0),null!==t.contentQueries&&y0(t,e),u){const f=t.contentCheckHooks;null!==f&&jh(e,f)}else{const f=t.contentHooks;null!==f&&Bh(e,f,1),g_(e,1)}!function mj(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const s=n[r];if(s<0)Aa(~s);else{const i=s,o=n[++r],a=n[++r];PF(o,i);const c=e[i];Ht(24,c),a(2,c),Ht(25,c)}}}finally{Aa(-1)}}(t,e);const d=t.components;null!==d&&ET(e,d,0);const h=t.viewQuery;if(null!==h&&z_(2,h,r),u){const f=t.viewCheckHooks;null!==f&&jh(e,f)}else{const f=t.viewHooks;null!==f&&Bh(e,f,2),g_(e,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[22]){for(const f of e[22])f();e[22]=null}_T(e),e[2]&=-73}catch(u){throw kc(e),u}finally{null!==l&&(Wi(l,c),a&&function aj(t){t.lView[24]!==t&&(t.lView=null,yT.push(t))}(l)),o_()}}function DT(t,e){for(let n=PE(t);null!==n;n=LE(n))for(let r=10;r<n.length;r++)wT(n[r],e)}function gj(t,e,n){Ht(18);const r=Lr(e,t);wT(r,n),Ht(19,r[8])}function wT(t,e){Qm(t)&&yy(t,e)}function yy(t,e){const r=t[1],s=t[2],i=t[24];let o=!!(0===e&&16&s);if(o||=!!(64&s&&0===e),o||=!!(1024&s),o||=!(!i?.dirty||!Mt(i)),o||=!1,i&&(i.dirty=!1),t[2]&=-9217,o)CT(r,t,r.template,t[8]);else if(8192&s){const a=we(null);try{bT(t),DT(t,1);const c=r.components;null!==c&&ET(t,c,1),_T(t)}finally{we(a)}}}function ET(t,e,n){for(let r=0;r<e.length;r++)gj(t,e[r],n)}function Jc(t,e){const n=gw()?64:1088;for(t[10].changeDetectionScheduler?.notify(e);t;){t[2]|=n;const r=ro(t);if(Po(t)&&!r)return t;t=r}return null}function TT(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Vu(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const s=r[16];null!==s&&s!==t&&cy(s,r),e>0&&(t[n-1][4]=r[4]);const i=vh(t,10+e);!function nT(t,e){rT(t,e),e[0]=null,e[5]=null}(r[1],r);const o=i[18];null!==o&&o.detachView(i[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function MT(t,e){const n=t[9],r=e[3];(Cn(r)||e[15]!==r[3][15])&&(t[2]|=2),null===n?t[9]=[e]:n.push(e)}class ju{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){const e=this._lView,n=e[1];return Lu(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return no(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Pr(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Vu(e,r),vh(n,r))}this._attachedToViewContainer=!1}Pu(this._lView[1],this._lView)}onDestroy(e){Ah(this._lView,e)}markForCheck(){Jc(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[2]&=-129}reattach(){Km(this._lView),this._lView[2]|=128}detectChanges(){this._lView[2]|=1024,wf(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const e=Po(this._lView),n=this._lView[16];null!==n&&!e&&cy(n,this._lView),rT(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=e;const n=Po(this._lView),r=this._lView[16];null!==r&&!n&&MT(r,this._lView),Km(this._lView)}}let ho=(()=>class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=yj;constructor(n,r,s){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=s}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,s){const i=function Xc(t,e,n,r){const s=we(null);try{const i=e.tView,c=df(t,i,n,4096&t[2]?4096:16,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);c[16]=t[e.index];const u=t[18];return null!==u&&(c[18]=u.createEmbeddedView(i)),Df(i,c,n),c}finally{we(s)}}(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:s});return new ju(i)}})();function yj(){return Ef(Je(),O())}function Ef(t,e){return 4&t.type?new ho(e,t,Hc(t,e)):null}function Va(t,e,n,r,s){let i=t.data[e];if(null===i)i=function wy(t,e,n,r,s){const i=uw(),o=dw(),c=t.data[e]=function Mj(t,e,n,r,s,i){let o=e?e.injectorIndex:-1,a=0;return function aw(){return null!==Ze.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:s,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?i:i&&i.parent,n,e,r,s);return function Sj(t,e,n,r){null===t.firstChild&&(t.firstChild=e),null!==n&&(r?null==n.child&&null!==e.parent&&(n.child=e):null===n.next&&(n.next=e,e.prev=n))}(t,c,i,o),c}(t,e,n,r,s),function FF(){return Ze.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=n,i.value=r,i.attrs=s;const o=function hu(){const t=Ze.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();i.injectorIndex=null===o?-1:o.injectorIndex}return so(i,!0),i}let lB=class{},XT=class{};class uB{resolveComponentFactory(e){throw new T(917,!1)}}let kf=class{static NULL=new uB};class Ay{}let fo=(()=>class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>function dB(){const t=O(),n=Lr(Je().index,t);return(Cn(n)?n:t)[11]}()})(),hB=(()=>{class t{static \u0275prov=_e({token:t,providedIn:"root",factory:()=>null})}return t})();const ky={};class nl{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){const s=this.injector.get(e,ky,r);return s!==ky||n===ky?s:this.parentInjector.get(e,n,r)}}function Of(t,e,n){let r=n?t.styles:null,s=n?t.classes:null,i=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?i=a:1==i?s=fs(s,a):2==i&&(r=fs(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=s:t.classesWithoutHost=s}function z(t,e=0){const n=O();return null===n?dt(t,e):mE(Je(),n,k(t),e)}function eS(t,e,n,r,s){const i=null===r?null:{"":-1},o=s(t,n);if(null!==o){let a=o,c=null,l=null;for(const u of o)if(null!==u.resolveHostDirectives){[a,c,l]=u.resolveHostDirectives(o);break}!function vB(t,e,n,r,s,i,o){const a=r.length;let c=!1;for(let h=0;h<a;h++){const f=r[h];!c&&ms(f)&&(c=!0,yB(t,n,h)),b_(Uh(n,e),t,f.type)}!function TB(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,a);for(let h=0;h<a;h++){const f=r[h];f.providersResolver&&f.providersResolver(f)}let l=!1,u=!1,d=Ou(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let h=0;h<a;h++){const f=r[h];if(n.mergedAttrs=Bc(n.mergedAttrs,f.hostAttrs),CB(t,n,e,d,f),EB(d,f,s),null!==o&&o.has(f)){const[g,_]=o.get(f);n.directiveToIndex.set(f.type,[d,g+n.directiveStart,_+n.directiveStart])}else(null===i||!i.has(f))&&n.directiveToIndex.set(f.type,d);null!==f.contentQueries&&(n.flags|=4),(null!==f.hostBindings||null!==f.hostAttrs||0!==f.hostVars)&&(n.flags|=64);const p=f.type.prototype;!l&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!u&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),u=!0),d++}!function bB(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){const s=t.data[r];if(null!==n&&n.has(s)){const i=n.get(s);nS(0,e,i,r),nS(1,e,i,r),sS(e,r,!0)}else tS(0,e,s,r),tS(1,e,s,r),sS(e,r,!1)}}(t,n,i)}(t,e,n,a,i,c,l)}null!==i&&null!==r&&function _B(t,e,n){const r=t.localNames=[];for(let s=0;s<e.length;s+=2){const i=n[e[s+1]];if(null==i)throw new T(-301,!1);r.push(e[s],i)}}(n,r,i)}function yB(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function tS(t,e,n,r){const s=0===t?n.inputs:n.outputs;for(const i in s)if(s.hasOwnProperty(i)){let o;o=0===t?e.inputs??={}:e.outputs??={},o[i]??=[],o[i].push(r),rS(e,i)}}function nS(t,e,n,r){const s=0===t?n.inputs:n.outputs;for(const i in s)if(s.hasOwnProperty(i)){const o=s[i];let a;a=0===t?e.hostDirectiveInputs??={}:e.hostDirectiveOutputs??={},a[o]??=[],a[o].push(r,i),rS(e,o)}}function rS(t,e){"class"===e?t.flags|=8:"style"===e&&(t.flags|=16)}function sS(t,e,n){const{attrs:r,inputs:s,hostDirectiveInputs:i}=t;if(null===r||!n&&null===s||n&&null===i||ey(t))return t.initialInputs??=[],void t.initialInputs.push(null);let o=null,a=0;for(;a<r.length;){const c=r[a];if(0!==c)if(5!==c){if("number"==typeof c)break;if(!n&&s.hasOwnProperty(c)){const l=s[c];for(const u of l)if(u===e){o??=[],o.push(c,r[a+1]);break}}else if(n&&i.hasOwnProperty(c)){const l=i[c];for(let u=0;u<l.length;u+=2)if(l[u]===e){o??=[],o.push(l[u+1],r[a+1]);break}}a+=2}else a+=2;else a+=4}t.initialInputs??=[],t.initialInputs.push(o)}function CB(t,e,n,r,s){t.data[r]=s;const i=s.factory||(s.factory=Ea(s.type)),o=new bu(i,ms(s),z,null);t.blueprint[r]=o,n[r]=o,function DB(t,e,n,r,s){const i=s.hostBindings;if(i){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function wB(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,i)}}(t,e,r,Ou(t,n,s.hostVars,$t),s)}function EB(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ms(e)&&(n[""]=t)}}function Ry(t,e,n,r,s,i,o,a){const c=e[1],l=c.consts,d=Va(c,t,n,r,wr(l,o));return i&&eS(c,e,d,wr(l,a),s),d.mergedAttrs=Bc(d.mergedAttrs,d.attrs),null!==d.attrs&&Of(d,d.attrs,!1),null!==d.mergedAttrs&&Of(d,d.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,d),d}function Oy(t,e){sE(t,e),YD(e)&&t.queries.elementEnd(e)}function Ff(t){return!!Fy(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Fy(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ki(t,e,n){return t[e]=n}function hn(t,e,n){return n!==$t&&(!Object.is(t[e],n)&&(t[e]=n,!0))}function Qu(t,e,n){return function r(s){Jc(to(t)?Lr(t.index,e):e,5);const o=e[8];let a=oS(e,o,n,s),c=r.__ngNextListenerFn__;for(;c;)a=oS(e,o,c,s)&&a,c=c.__ngNextListenerFn__;return a}}function oS(t,e,n,r){const s=we(null);try{return Ht(6,e,n),!1!==n(r)}catch(i){return function _y(t,e){const n=t[9];if(!n)return;let r;try{r=n.get(ti,null)}catch{r=null}r?.(e)}(t,i),!1}finally{Ht(7,e,n),we(s)}}function cS(t,e,n,r,s,i,o){const a=e.firstCreatePass?iw(e):null,c=sw(n),l=c.length;c.push(s,i),a&&a.push(r,t,l,(l+1)*(o?-1:1))}function Lf(t,e,n,r,s,i){const a=e[1],d=e[n][a.data[n].outputs[r]].subscribe(i);cS(t.index,a,e,s,i,d,!0)}const zo=Symbol("BINDING");class lS extends kf{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Bt(e);return new Py(n,this.ngModule)}}class Py extends XT{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function VB(t){return Object.keys(t).map(e=>{const[n,r,s]=t[e],i={propName:n,templateName:e,isSignal:0!==(r&hf.SignalBased)};return s&&(i.transform=s),i})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function jB(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function SV(t){return t.map(TV).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,s,i,o){Ht(22);const a=we(null);try{const c=this.componentDef,l=function $B(t,e,n,r){const s=t?["ng-version","20.3.2"]:function MV(t){const e=[],n=[];let r=1,s=2;for(;r<t.length;){let i=t[r];if("string"==typeof i)2===s?""!==i&&e.push(i,t[++r]):8===s&&n.push(i);else{if(!ni(s))break;s=i}r++}return n.length&&e.push(1,...n),e}(e.selectors[0]);let i=null,o=null,a=0;if(n)for(const u of n)a+=u[zo].requiredVars,u.create&&(u.targetIdx=0,(i??=[]).push(u)),u.update&&(u.targetIdx=0,(o??=[]).push(u));if(r)for(let u=0;u<r.length;u++){const d=r[u];if("function"!=typeof d)for(const h of d.bindings){a+=h[zo].requiredVars;const f=u+1;h.create&&(h.targetIdx=f,(i??=[]).push(h)),h.update&&(h.targetIdx=f,(o??=[]).push(h))}}const c=[e];if(r)for(const u of r){const h=Or("function"==typeof u?u:u.type);c.push(h)}return ry(0,null,function zB(t,e){return t||e?n=>{if(1&n&&t)for(const r of t)r.create();if(2&n&&e)for(const r of e)r.update()}:null}(i,o),1,a,c,null,null,null,[s],null)}(r,c,o,i),u=function BB(t,e,n){let r=e instanceof Fr?e:e?.injector;return r&&null!==t.getStandaloneInjector&&(r=t.getStandaloneInjector(r)||r),r?new nl(n,r):n}(c,s||this.ngModule,e),d=function HB(t){const e=t.get(Ay,null);if(null===e)throw new T(407,!1);return{rendererFactory:e,sanitizer:t.get(hB,null),changeDetectionScheduler:t.get(Na,null),ngReflect:!1}}(u),h=d.rendererFactory.createRenderer(null,c),f=r?function zV(t,e,n,r){const i=r.get(n2,!1)||n===lo.ShadowDom,o=t.selectRootElement(e,i);return function GV(t){fT(t)}(o),o}(h,r,c.encapsulation,u):function UB(t,e){const n=function qB(t){return(t.selectors[0][0]||"div").toLowerCase()}(t);return uf(e,n,"svg"===n?"svg":"math"===n?"math":null)}(c,h),p=o?.some(uS)||i?.some(m=>"function"!=typeof m&&m.bindings.some(uS)),g=df(null,l,null,512|sy(c),null,null,d,h,u,null,null);g[27]=f,i_(g);let _=null;try{const m=Ry(27,g,2,"#host",()=>l.directiveRegistry,!0,0);Q0(h,f,m),Xr(f,g),_f(l,g,m),G_(l,m,g),Oy(l,m),void 0!==n&&function WB(t,e,n){const r=t.projection=[];for(let s=0;s<e.length;s++){const i=n[s];r.push(null!=i&&i.length?Array.from(i):null)}}(m,this.ngContentSelectors,n),_=Lr(m.index,g),g[8]=_[8],Df(l,g,null)}catch(m){throw null!==_&&E_(_),E_(g),m}finally{Ht(23),o_()}return new GB(this.componentType,g,!!p)}finally{we(a)}}}function uS(t){const e=t[zo].kind;return"input"===e||"twoWay"===e}class GB extends lB{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Nc(n[1],27),this.location=Hc(this._tNode,n),this.instance=Lr(this._tNode.index,n)[8],this.hostView=this.changeDetectorRef=new ju(n,void 0),this.componentType=e}setInput(e,n){const r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;Cf(r,s[1],s,e,n),this.previousInputValues.set(e,n),Jc(Lr(r.index,s),1)}get injector(){return new In(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}let ri=(()=>class t{static __NG_ELEMENT_ID__=ZB})();function ZB(){return fS(Je(),O())}const YB=ri,dS=class extends YB{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Hc(this._hostTNode,this._hostLView)}get injector(){return new In(this._hostTNode,this._hostLView)}get parentInjector(){const e=qh(this._hostTNode,this._hostLView);if(__(e)){const n=Du(e,this._hostLView),r=Cu(e);return new In(n[1].data[r+8],n)}return new In(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=hS(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){let s,i;"number"==typeof r?s=r:null!=r&&(s=r.index,i=r.injector);const a=e.createEmbeddedViewImpl(n||{},i,null);return this.insertImpl(a,s,La(this._hostTNode,null)),a}createComponent(e,n,r,s,i,o,a){const c=e&&!function vu(t){return"function"==typeof t}(e);let l;if(c)l=n;else{const _=n||{};l=_.index,r=_.injector,s=_.projectableNodes,i=_.environmentInjector||_.ngModuleRef,o=_.directives,a=_.bindings}const u=c?e:new Py(Bt(e)),d=r||this.parentInjector;if(!i&&null==u.ngModule){const m=(c?d:this.parentInjector).get(Fr,null);m&&(i=m)}Bt(u.componentType??{});const g=u.create(d,s,null,i,o,a);return this.insertImpl(g.hostView,l,La(this._hostTNode,null)),g}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){const s=e._lView;if(function xF(t){return Pr(t[3])}(s)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const c=s[3],l=new dS(c,c[5],c[3]);l.detach(l.indexOf(e))}}const i=this._adjustIndex(n),o=this._lContainer;return function el(t,e,n,r=!0){const s=e[1];if(function _j(t,e,n,r){const s=10+r,i=n.length;r>0&&(n[s-1][4]=e),r<i-10?(e[4]=n[s],VD(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[16];null!==o&&n!==o&&MT(o,e);const a=e[18];null!==a&&a.insertView(t),Km(e),e[2]|=128}(s,e,t,n),r){const o=gf(n,t),a=e[11],c=a.parentNode(t[7]);null!==c&&function LV(t,e,n,r,s,i){r[0]=s,r[5]=e,mf(t,r,n,1,s,i)}(s,t[5],a,e,c,o)}const i=e[6];null!==i&&null!==i.firstChild&&(i.firstChild=null)}(o,s,i,r),e.attachToViewContainerRef(),VD(Ly(o),i,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=hS(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Vu(this._lContainer,n);r&&(vh(Ly(this._lContainer),n),Pu(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=Vu(this._lContainer,n);return r&&null!=vh(Ly(this._lContainer),n)?new ju(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function hS(t){return t[8]}function Ly(t){return t[8]||(t[8]=[])}function fS(t,e){let n;const r=e[t.index];return Pr(r)?n=r:(n=TT(r,e,null,t),e[t.index]=n,iy(e,n)),pS(n,e,t,r),new dS(n,t,e)}let pS=function mS(t,e,n,r){if(t[7])return;let s;s=8&n.type?ir(r):function QB(t,e){const n=t[11],r=n.createComment(""),s=Bn(e,t),i=n.parentNode(s);return Fa(n,i,r,n.nextSibling(s),!1),r}(e,n),t[7]=s};class jy{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new jy(this.queryList)}setDirty(){this.queryList.setDirty()}}class By{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,s=[];for(let i=0;i<r;i++){const o=n.getByIndex(i);s.push(this.queries[o.indexInDeclarationView].clone())}return new By(s)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==zy(e,n).matches&&this.queries[n].setDirty()}}class _S{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,this.predicate="string"==typeof e?function rH(t){return t.split(",").map(e=>e.trim())}(e):e}}class Hy{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const s=null!==n?n.length:0,i=this.getByIndex(r).embeddedTView(e,s);i&&(i.indexInDeclarationView=r,null!==n?n.push(i):n=[i])}return null!==n?new Hy(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Uy{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new Uy(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1&~this.metadata.flags){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let s=0;s<r.length;s++){const i=r[s];this.matchTNodeWithReadOption(e,n,JB(n,i)),this.matchTNodeWithReadOption(e,n,$h(n,e,i,!1,!1))}else r===ho?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,$h(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const s=this.metadata.read;if(null!==s)if(s===ys||s===ri||s===ho&&4&n.type)this.addMatch(n.index,-2);else{const i=$h(n,e,s,!1,!1);null!==i&&this.addMatch(n.index,i)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function JB(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function tH(t,e,n,r){return-1===n?function eH(t,e){return 11&t.type?Hc(t,e):4&t.type?Ef(t,e):null}(e,t):-2===n?function nH(t,e,n){return n===ys?Hc(e,t):n===ho?Ef(e,t):n===ri?fS(e,t):void 0}(t,e,r):wu(t,t[1],n,e)}function yS(t,e,n,r){const s=e[18].queries[r];if(null===s.matches){const i=t.data,o=n.matches,a=[];for(let c=0;null!==o&&c<o.length;c+=2){const l=o[c];a.push(l<0?null:tH(e,i[l],o[c+1],n.metadata.read))}s.matches=a}return s.matches}function qy(t,e,n,r){const s=t.queries.getByIndex(n),i=s.matches;if(null!==i){const o=yS(t,e,s,n);for(let a=0;a<i.length;a+=2){const c=i[a];if(c>0)r.push(o[a/2]);else{const l=i[a+1],u=e[-c];for(let d=10;d<u.length;d++){const h=u[d];h[16]===h[3]&&qy(h[1],h,l,r)}if(null!==u[9]){const d=u[9];for(let h=0;h<d.length;h++){const f=d[h];qy(f[1],f,l,r)}}}}}return r}function bS(t,e,n){const r=ct();return r.firstCreatePass&&(function DS(t,e,n){null===t.queries&&(t.queries=new Hy),t.queries.track(new Uy(e,n))}(r,new _S(t,e,n),-1),!(2&~e)&&(r.staticViewQueries=!0)),function vS(t,e,n){const r=new CL(!(4&~n));return function AF(t,e,n,r){const s=sw(e);s.push(n),t.firstCreatePass&&iw(t).push(r,s.length-1)}(t,e,r,r.destroy),(e[18]??=new By).queries.push(new jy(r))-1}(r,O(),e)}function zy(t,e){return t.queries.getByIndex(e)}function wS(t,e){const n=t[1],r=zy(n,e);return r.crossesNgTemplate?qy(n,t,e,[]):yS(n,t,r,e)}const IS=new Set;function Er(t){IS.has(t)||(IS.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}let Ua=class{},xS=class{};class Zy extends Ua{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new lS(this);constructor(e,n,r,s=!0){super(),this.ngModuleType=e,this._parent=n;const i=Mi(e);this._bootstrapComponents=Ni(i.bootstrap),this._r3Injector=Tw(e,n,[{provide:Ua,useValue:this},{provide:kf,useValue:this.componentFactoryResolver},...r],bn(e),new Set(["environment"])),s&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class AS extends xS{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Zy(this.moduleType,e,[])}}class NS extends Ua{injector;componentFactoryResolver=new lS(this);instance=null;constructor(e){super();const n=new Ta([...e.providers,{provide:Ua,useValue:this},{provide:kf,useValue:this.componentFactoryResolver}],e.parent||qm(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Yy(t,e,n=null){return new NS({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let mH=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=Vm(0,n.type),s=r.length>0?Yy([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=_e({token:t,providedIn:"environment",factory:()=>new t(dt(Fr))})}return t})();function Xu(t){return co(()=>{const e=RS(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Gh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?s=>s.get(mH).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||lo.Emulated,styles:t.styles||rn,_:null,schemas:t.schemas||null,tView:null,id:""};e.standalone&&Er("NgStandalone"),OS(n);const r=t.dependencies;return n.directiveDefs=Vf(r,kS),n.pipeDefs=Vf(r,Js),n.id=function bH(t){let e=0;const r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,"function"==typeof t.consts?"":t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(const i of r.join("|"))e=Math.imul(31,e)+i.charCodeAt(0)|0;return e+=2147483648,"c"+e}(n),n})}function kS(t){return Bt(t)||Or(t)}function Ju(t){return co(()=>({type:t.type,bootstrap:t.bootstrap||rn,declarations:t.declarations||rn,imports:t.imports||rn,exports:t.exports||rn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function _H(t,e){if(null==t)return Si;const n={};for(const r in t)if(t.hasOwnProperty(r)){const s=t[r];let i,o,a,c;Array.isArray(s)?(a=s[0],i=s[1],o=s[2]??i,c=s[3]||null):(i=s,o=s,a=hf.None,c=null),n[i]=[r,a,c],e[i]=o}return n}function yH(t){if(null==t)return Si;const e={};for(const n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Ye(t){return co(()=>{const e=RS(t);return OS(e),e})}function Jr(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function RS(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Si,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:!0===t.signals,selectors:t.selectors||rn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:_H(t.inputs,e),outputs:yH(t.outputs),debugInfo:null}}function OS(t){t.features?.forEach(e=>e(t))}function Vf(t,e){return t?()=>{const n="function"==typeof t?t():t,r=[];for(const s of n){const i=e(s);null!==i&&r.push(i)}return r}:null}function zt(t){let e=function FS(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let s;if(ms(t))s=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new T(903,!1);s=e.\u0275dir}if(s){if(n){r.push(s);const o=t;o.inputs=Qy(t.inputs),o.declaredInputs=Qy(t.declaredInputs),o.outputs=Qy(t.outputs);const a=s.hostBindings;a&&TH(t,a);const c=s.viewQuery,l=s.contentQueries;if(c&&wH(t,c),l&&EH(t,l),CH(t,s),wt(t.outputs,s.outputs),ms(s)&&s.data.animation){const u=t.data;u.animation=(u.animation||[]).concat(s.data.animation)}}const i=s.features;if(i)for(let o=0;o<i.length;o++){const a=i[o];a&&a.ngInherit&&a(t),a===zt&&(n=!1)}}e=Object.getPrototypeOf(e)}!function DH(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const s=t[r];s.hostVars=e+=s.hostVars,s.hostAttrs=Bc(s.hostAttrs,n=Bc(n,s.hostAttrs))}}(r)}function CH(t,e){for(const n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;const r=e.inputs[n];void 0!==r&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function Qy(t){return t===Si?{}:t===rn?[]:t}function wH(t,e){const n=t.viewQuery;t.viewQuery=n?(r,s)=>{e(r,s),n(r,s)}:e}function EH(t,e){const n=t.contentQueries;t.contentQueries=n?(r,s,i)=>{e(r,s,i),n(r,s,i)}:e}function TH(t,e){const n=t.hostBindings;t.hostBindings=n?(r,s)=>{e(r,s),n(r,s)}:e}function Pt(t,e,n,r,s,i,o,a){const c=O(),l=ct();return function kH(t,e,n,r,s,i,o,a,c,l,u){const d=n+27;let h;e.firstCreatePass?(h=Va(e,d,4,o||null,a||null),t_()&&eS(e,t,h,wr(e.consts,l),my),sE(e,h)):h=e.data[d],function BS(t,e,n,r,s,i,o,a){if(n.firstCreatePass){t.mergedAttrs=Bc(t.mergedAttrs,t.attrs);const u=t.tView=ry(2,t,s,i,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);null!==n.queries&&(n.queries.template(n,t),u.queries=n.queries.embeddedTView(t))}a&&(t.flags|=a),so(t,!1);const c=US(n,e,t,r);Rh()&&hy(n,e,c,t),Xr(c,e);const l=TT(c,e,c,t);e[r+27]=l,iy(e,l)}(h,t,e,n,r,s,i,c),xc(h)&&_f(e,t,h),null!=l&&Kc(t,h,u)}(c,l,t,e,n,r,s,wr(l.consts,i),void 0,o,a),Pt}let US=function qS(t,e,n,r){return fu(!0),e[11].createComment("")};var Xy=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(Xy||{});const nd=new Y(""),ZS=!1,Un=class VH extends yt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,function Gm(){return void 0!==FD()||null!=bt()}()&&(this.destroyRef=U(xi,{optional:!0})??void 0,this.pendingTasks=U(Lo,{optional:!0})??void 0)}emit(e){const n=we(null);try{super.next(e)}finally{we(n)}}subscribe(e,n,r){let s=e,i=n||(()=>null),o=r;if(e&&"object"==typeof e){const c=e;s=c.next?.bind(c),i=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),s&&(s=this.wrapInTimeout(s)),o&&(o=this.wrapInTimeout(o)));const a=super.subscribe({next:s,error:i,complete:o});return e instanceof tr&&e.add(a),a}wrapInTimeout(e){return n=>{const r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{void 0!==r&&this.pendingTasks?.remove(r)}})}}};function YS(t){let e,n;function r(){t=pu;try{void 0!==n&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(n),void 0!==e&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),"function"==typeof requestAnimationFrame&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function QS(t){return queueMicrotask(()=>t()),()=>{t=pu}}const Jy="isAngularZone",Uf=Jy+"_ID";let jH=0;class Rt{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Un(!1);onMicrotaskEmpty=new Un(!1);onStable=new Un(!1);onError=new Un(!1);constructor(e){const{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:s=!1,scheduleInRootZone:i=ZS}=e;if(typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!s&&r,o.shouldCoalesceRunChangeDetection=s,o.callbackScheduled=!1,o.scheduleInRootZone=i,function UH(t){const e=()=>{!function HH(t){function e(){YS(()=>{t.callbackScheduled=!1,tv(t),t.isCheckStableRunning=!0,ev(t),t.isCheckStableRunning=!1})}t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),tv(t))}(t)},n=jH++;t._inner=t._inner.fork({name:"angular",properties:{[Jy]:!0,[Uf]:n,[Uf+n]:!0},onInvokeTask:(r,s,i,o,a,c)=>{if(function qH(t){return JS(t,"__ignore_ng_zone__")}(c))return r.invokeTask(i,o,a,c);try{return KS(t),r.invokeTask(i,o,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),XS(t)}},onInvoke:(r,s,i,o,a,c,l)=>{try{return KS(t),r.invoke(i,o,a,c,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!function $H(t){return JS(t,"__scheduler_tick__")}(c)&&e(),XS(t)}},onHasTask:(r,s,i,o)=>{r.hasTask(i,o),s===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,tv(t),ev(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,s,i,o)=>(r.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Jy)}static assertInAngularZone(){if(!Rt.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(Rt.isInAngularZone())throw new T(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,s){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+s,e,BH,pu,pu);try{return i.runTask(o,n,r)}finally{i.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const BH={};function ev(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function tv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&!0===t.callbackScheduled)}function KS(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function XS(t){t._nesting--,ev(t)}class nv{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Un;onMicrotaskEmpty=new Un;onStable=new Un;onError=new Un;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,s){return e.apply(n,r)}}function JS(t,e){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0]?.data?.[e]}let eM=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=_e({token:t,providedIn:"root",factory:()=>new t})}return t})();const tM=[0,1,2,3];let GH=(()=>{class t{ngZone=U(Rt);scheduler=U(Na);errorHandler=U(Oc,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){U(nd,{optional:!0})}execute(){const n=this.sequences.size>0;n&&Ht(16),this.executing=!0;for(const r of tM)for(const s of this.sequences)if(!s.erroredOrDestroyed&&s.hooks[r])try{s.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,s.hooks[r])(s.pipelinedValue),s.snapshot))}catch(i){s.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(const r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(const r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&Ht(17)}register(n){const{view:r}=n;void 0!==r?((r[25]??=[]).push(n),kc(r),r[2]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(Xy.AFTER_NEXT_RENDER,n):n()}static \u0275prov=_e({token:t,providedIn:"root",factory:()=>new t})}return t})();class nM{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,s,i,o=null){this.impl=e,this.hooks=n,this.view=r,this.once=s,this.snapshot=o,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const e=this.view?.[25];e&&(this.view[25]=e.filter(n=>n!==this))}}function rM(t,e){const n=e?.injector??U(_s);return Er("NgAfterNextRender"),function sM(t,e,n,r){const s=e.get(eM);s.impl??=e.get(GH);const i=e.get(nd,null,{optional:!0}),o=!0!==n?.manualCleanup?e.get(xi):null,a=e.get(l_,null,{optional:!0}),c=new nM(s.impl,function ZH(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}(t),a?.view,r,o,i?.snapshot(null));return s.impl.register(c),c}(t,n,e,!0)}let fM=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const IM=new Y("");function id(t){return!!t&&"function"==typeof t.then}function xM(t){return!!t&&"function"==typeof t.subscribe}const AM=new Y("");let NM=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=U(AM,{optional:!0})??[];injector=U(_s);constructor(){}runInitializers(){if(this.initialized)return;const n=[];for(const s of this.appInits){const i=xs(this.injector,s);if(id(i))n.push(i);else if(xM(i)){const o=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(s=>{this.reject(s)}),0===n.length&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const kM=new Y("");let po=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=U(ti);afterRenderManager=U(eM);zonelessEnabled=U(c_);rootEffectScheduler=U(Rw);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new yt;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=U(Lo);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Ft(n=>!n))}constructor(){U(nd,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:s=>{s&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=U(Fr);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,s=_s.NULL){return this._injector.get(Rt).run(()=>{Ht(10);const o=n instanceof XT;if(!this._injector.get(NM).done)throw new T(405,"");let c;c=o?n:this._injector.get(kf).resolveComponentFactory(n),this.componentTypes.push(c.componentType);const l=function JU(t){return t.isBoundToModule}(c)?void 0:this._injector.get(Ua),d=c.create(s,[],r||c.selector,l),h=d.location.nativeElement,f=d.injector.get(IM,null);return f?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),Zf(this.components,d),f?.unregisterApplication(h)}),this._loadComponent(d),Ht(11,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ht(12),null!==this.tracingSnapshot?this.tracingSnapshot.run(Xy.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new T(101,!1);const n=we(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,we(n),this.afterTick.next(),Ht(13)}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Ay,null,{optional:!0}));let n=0;for(;0!==this.dirtyFlags&&n++<10;)Ht(14),this.synchronizeOnce(),Ht(15)}synchronizeOnce(){16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(7&this.dirtyFlags){const r=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:s}of this.allViews)(r||xh(s))&&(wf(s,r&&!this.zonelessEnabled?0:1),n=!0);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:n})=>xh(n))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Zf(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(s){this.internalErrorHandler(s)}this.components.push(n),this._injector.get(kM,[]).forEach(s=>s(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Zf(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new T(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Zf(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function Et(t,e,n,r){const s=O();return hn(s,Qr(),e)&&(ct(),function XV(t,e,n,r,s,i){const o=Bn(t,e);!function yf(t,e,n,r,s,i,o){if(null==i)t.removeAttribute(e,s,n);else{const a=null==o?nt(i):o(i,r||"",s);t.setAttribute(e,s,a,n)}}(e[11],o,i,t.value,n,r,s)}(Ii(),s,t,e,n,r)),Et}function Oe(t,e,n){const r=O();return hn(r,Qr(),e)&&(ct(),py(Ii(),r,t,e,r[11],n)),Oe}function Ev(t,e,n,r,s){Cf(e,t,n,s?"class":"style",r)}function V(t,e,n,r){const s=O(),i=s[1],o=t+27,a=i.firstCreatePass?Ry(o,s,2,e,my,t_(),n,r):i.data[o];if(vf(a,s,t,e,Mv),xc(a)){const c=s[1];_f(c,s,a),G_(c,a,s)}return null!=r&&Kc(s,a),V}function P(){const t=ct(),n=bf(Je());return t.firstCreatePass&&Oy(t,n),function cw(t){return Ze.skipHydrationRootTNode===t}(n)&&function lw(){Ze.skipHydrationRootTNode=null}(),function ow(){Ze.lFrame.elementDepthCount--}(),null!=n.classesWithoutHost&&function tL(t){return!!(8&t.flags)}(n)&&Ev(t,n,O(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function nL(t){return!!(16&t.flags)}(n)&&Ev(t,n,O(),n.stylesWithoutHost,!1),P}function cr(t,e,n,r){return V(t,e,n,r),P(),cr}typeof document<"u"&&document;let Mv=(t,e,n,r,s)=>(fu(!0),uf(e[11],r,function qF(){return Ze.lFrame.currentNamespace}()));function Ya(t,e,n){const r=O(),s=r[1],i=t+27,o=s.firstCreatePass?Ry(i,r,8,"ng-container",my,t_(),e,n):s.data[i];if(vf(o,r,t,"ng-container",xv),xc(o)){const a=r[1];_f(a,r,o),G_(a,o,r)}return null!=n&&Kc(r,o),Ya}function Yo(){const t=ct(),n=bf(Je());return t.firstCreatePass&&Oy(t,n),Yo}let xv=(t,e,n,r,s)=>(fu(!0),ny(e[11],""));function Dn(){return O()}const np="en-US";let oI=np;function Ie(t,e,n){const r=O(),s=ct(),i=Je();return kv(s,r,r[11],i,t,e,n),Ie}function kv(t,e,n,r,s,i,o){let a=!0,c=null;if((3&r.type||o)&&(c??=Qu(r,e,i),function aS(t,e,n,r,s,i,o,a){const c=xc(t);let l=!1,u=null;if(!r&&c&&(u=function AB(t,e,n,r){const s=t.cleanup;if(null!=s)for(let i=0;i<s.length-1;i+=2){const o=s[i];if(o===n&&s[i+1]===r){const a=e[7],c=s[i+2];return a&&a.length>c?a[c]:null}"string"==typeof o&&(i+=2)}return null}(e,n,i,t.index)),null!==u)(u.__ngLastListenerFn__||u).__ngNextListenerFn__=o,u.__ngLastListenerFn__=o,l=!0;else{const d=Bn(t,n),h=r?r(d):d,f=s.listen(h,i,a);(function xB(t){return t.startsWith("animation")||t.startsWith("transition")})(i)||cS(r?g=>r(ir(g[t.index])):t.index,e,n,i,a,f,!1)}return l}(r,t,e,o,n,s,i,c)&&(a=!1)),a){const l=r.outputs?.[s],u=r.hostDirectiveOutputs?.[s];if(u&&u.length)for(let d=0;d<u.length;d+=2){const h=u[d],f=u[d+1];c??=Qu(r,e,i),Lf(r,e,h,f,s,c)}if(l&&l.length)for(const d of l)c??=Qu(r,e,i),Lf(r,e,d,s,s,c)}}function K(t=1){return function jF(t){return(Ze.lFrame.contextLView=function rw(t,e){for(;t>0;)e=e[14],t--;return e}(t,Ze.lFrame.contextLView))[8]}(t)}function II(t){return xa(function fw(){return Ze.lFrame.contextLView}(),27+t)}function op(t,e){return t<<17|e<<2}function Qa(t){return t>>17&32767}function Fv(t){return 2|t}function fl(t){return(131068&t)>>2}function Pv(t,e){return-131069&t|e<<2}function Lv(t){return 1|t}function xI(t,e,n,r){const s=t[n+1],i=null===e;let o=r?Qa(s):fl(s),a=!1;for(;0!==o&&(!1===a||i);){const l=t[o+1];p$(t[o],e)&&(a=!0,t[o+1]=r?Lv(l):Fv(l)),o=r?Qa(l):fl(l)}a&&(t[n+1]=r?Fv(s):Lv(s))}function p$(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&cu(t,e)>=0}function Vv(t,e,n){return PI(t,e,n,!1),Vv}function gr(t,e){return PI(t,e,null,!0),gr}function PI(t,e,n,r){const s=O(),i=ct(),o=oo(2);i.firstUpdatePass&&function jI(t,e,n,r){const s=t.data;if(null===s[n+1]){const i=s[fr()],o=function VI(t,e){return e>=t.expandoStartIndex}(t,n);(function qI(t,e){return!!(t.flags&(e?8:16))})(i,r)&&null===e&&!o&&(e=!1),e=function T$(t,e,n,r){const s=function r_(t){const e=Ze.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let i=r?e.residualClasses:e.residualStyles;if(null===s)0===(r?e.classBindings:e.styleBindings)&&(n=hd(n=jv(null,t,e,n,r),e.attrs,r),i=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==s)if(n=jv(s,t,e,n,r),null===i){let c=function S$(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==fl(r))return t[Qa(r)]}(t,e,r);void 0!==c&&Array.isArray(c)&&(c=jv(null,t,e,c[1],r),c=hd(c,e.attrs,r),function M$(t,e,n,r){t[Qa(n?e.classBindings:e.styleBindings)]=r}(t,e,r,c))}else i=function I$(t,e,n){let r;const s=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<s;i++)r=hd(r,t[i].hostAttrs,n);return hd(r,e.attrs,n)}(t,e,r)}return void 0!==i&&(r?e.residualClasses=i:e.residualStyles=i),n}(s,i,e,r),function h$(t,e,n,r,s,i){let o=i?e.classBindings:e.styleBindings,a=Qa(o),c=fl(o);t[r]=n;let u,l=!1;if(Array.isArray(n)?(u=n[1],(null===u||cu(n,u)>0)&&(l=!0)):u=n,s)if(0!==c){const h=Qa(t[a+1]);t[r+1]=op(h,a),0!==h&&(t[h+1]=Pv(t[h+1],r)),t[a+1]=function u$(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=op(a,0),0!==a&&(t[a+1]=Pv(t[a+1],r)),a=r;else t[r+1]=op(c,0),0===a?a=r:t[c+1]=Pv(t[c+1],r),c=r;l&&(t[r+1]=Fv(t[r+1])),xI(t,u,r,!0),xI(t,u,r,!1),function f$(t,e,n,r,s){const i=s?t.residualClasses:t.residualStyles;null!=i&&"string"==typeof e&&cu(i,e)>=0&&(n[r+1]=Lv(n[r+1]))}(e,u,t,r,i),o=op(a,c),i?e.classBindings=o:e.styleBindings=o}(s,i,e,n,o,r)}}(i,t,o,r),e!==$t&&hn(s,o,e)&&function HI(t,e,n,r,s,i,o,a){if(!(3&e.type))return;const c=t.data,l=c[a+1],u=function d$(t){return!(1&~t)}(l)?UI(c,e,n,s,fl(l),o):void 0;ap(u)||(ap(i)||function l$(t){return!(2&~t)}(l)&&(i=UI(c,null,n,s,a,o)),function $V(t,e,n,r,s){if(e)s?t.addClass(n,r):t.removeClass(n,r);else{let i=-1===r.indexOf("-")?void 0:qo.DashCase;null==s?t.removeStyle(n,r,i):("string"==typeof s&&s.endsWith("!important")&&(s=s.slice(0,-10),i|=qo.Important),t.setStyle(n,r,s,i))}}(r,o,Ac(fr(),n),s,i))}(i,i.data[fr()],s,s[11],t,s[o+1]=function k$(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=bn(function Uo(t){return t instanceof w0?t.changingThisBreaksApplicationSecurity:t}(t)))),t}(e,n),r,o)}function jv(t,e,n,r,s){let i=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(i=e[a],r=hd(r,i.hostAttrs,s),i!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function hd(t,e,n){const r=n?1:2;let s=-1;if(null!==e)for(let i=0;i<e.length;i++){const o=e[i];"number"==typeof o?s=o:s===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Ch(t,o,!!n||e[++i]))}return void 0===t?null:t}function UI(t,e,n,r,s,i){const o=null===e;let a;for(;s>0;){const c=t[s],l=Array.isArray(c),u=l?c[1]:c,d=null===u;let h=n[s+1];h===$t&&(h=d?rn:void 0);let f=d?Fm(h,r):u===r?h:void 0;if(l&&!ap(f)&&(f=Fm(c,r)),ap(f)&&(a=f,o))return a;const p=t[s+1];s=o?Qa(p):fl(p)}if(null!==e){let c=i?e.residualClasses:e.residualStyles;null!=c&&(a=Fm(c,r))}return a}function ap(t){return void 0!==t}function X(t,e=""){const n=O(),r=ct(),s=t+27,i=r.firstCreatePass?Va(r,s,1,e,null):r.data[s],o=$I(r,n,i,e,t);n[s]=o,Rh()&&hy(r,n,o,i),so(i,!1)}let $I=(t,e,n,r,s)=>(fu(!0),function ty(t,e){return t.createText(e)}(e[11],r));function WI(t,e,n,r,s,i=""){const a=function Ha(t,e,n,r){const s=hn(t,e,n);return hn(t,e+1,r)||s}(t,function io(){return Ze.lFrame.bindingIndex}(),n,s);return oo(2),a?e+nt(n)+r+nt(s)+i:$t}function vs(t){return mr("",t),vs}function mr(t,e,n){const r=O(),s=function GI(t,e,n,r=""){return hn(t,Qr(),n)?e+nt(n)+r:$t}(r,t,e,n);return s!==$t&&go(r,fr(),s),mr}function cp(t,e,n,r,s){const i=O(),o=WI(i,t,e,n,r,s);return o!==$t&&go(i,fr(),o),cp}function go(t,e,n){const r=Ac(e,t);!function G0(t,e,n){t.setValue(e,n)}(t[11],r,n)}function bs(t,e,n){xw(e)&&(e=e());const r=O();return hn(r,Qr(),e)&&(ct(),py(Ii(),r,t,e,r[11],n)),bs}function Os(t,e){const n=xw(t);return n&&t.set(e),n}function Cs(t,e){const n=O(),r=ct(),s=Je();return kv(r,n,n[11],s,t,e),Cs}function Bv(t,e,n,r,s){if(t=k(t),Array.isArray(t))for(let i=0;i<t.length;i++)Bv(t[i],e,n,r,s);else{const i=ct(),o=O(),a=Je();let c=Xi(t)?t:k(t.provide);const l=WD(t),u=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(Xi(t)||!t.multi){const f=new bu(l,s,z,null),p=Uv(c,e,s?u:u+h,d);-1===p?(b_(Uh(a,o),i,c),Hv(i,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,s&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=Uv(c,e,u+h,d),p=Uv(c,e,u,u+h),_=p>=0&&n[p];if(s&&!_||!s&&!(f>=0&&n[f])){b_(Uh(a,o),i,c);const m=function Q$(t,e,n,r,s){const o=new bu(t,n,z,null);return o.multi=[],o.index=e,o.componentProviders=0,lx(o,s,r&&!n),o}(s?Y$:Z$,n.length,s,r,l);!s&&_&&(n[p].providerFactory=m),Hv(i,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,s&&(a.providerIndexes+=1048576),n.push(m),o.push(m)}else Hv(i,t,f>-1?f:p,lx(n[s?p:f],l,!s&&r));!s&&r&&_&&n[p].componentProviders++}}}function Hv(t,e,n,r){const s=Xi(e),i=function zD(t){return!!t.useClass}(e);if(s||i){const c=(i?k(e.useClass):e).prototype.ngOnDestroy;if(c){const l=t.destroyHooks||(t.destroyHooks=[]);if(!s&&e.multi){const u=l.indexOf(n);-1===u?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function lx(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Uv(t,e,n,r){for(let s=n;s<r;s++)if(e[s]===t)return s;return-1}function Z$(t,e,n,r,s){return qv(this.multi,[])}function Y$(t,e,n,r,s){const i=this.multi;let o;if(this.providerFactory){const a=this.providerFactory.componentProviders,c=wu(r,r[1],this.providerFactory.index,s);o=c.slice(0,a),qv(i,o);for(let l=a;l<c.length;l++)o.push(c[l])}else o=[],qv(i,o);return o}function qv(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function mn(t,e=[]){return n=>{n.providersResolver=(r,s)=>function W$(t,e,n){const r=ct();if(r.firstCreatePass){const s=ms(t);Bv(n,r.data,r.blueprint,s,!0),Bv(e,r.data,r.blueprint,s,!1)}}(r,s?s(t):t,e)}}function gl(t,e,n){const r=Vr()+t,s=O();return s[r]===$t?ki(s,r,n?e.call(n):e()):function Yu(t,e){return t[e]}(s,r)}function dx(t,e,n,r,s,i){const o=e+n;return hn(t,o,s)?ki(t,o+1,i?r.call(i,s):r(s)):function fd(t,e){const n=t[e];return n===$t?void 0:n}(t,o+1)}function $v(t,e){const n=ct();let r;const s=t+27;n.firstCreatePass?(r=function l4(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[s]=r,r.onDestroy&&(n.destroyHooks??=[]).push(s,r.onDestroy)):r=n.data[s];const i=r.factory||(r.factory=Ea(r.type)),a=Yr(z);try{const c=Hh(!1),l=i();return Hh(c),function Ym(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,O(),s,l),l}finally{Yr(a)}}function zv(t,e,n){const r=t+27,s=O(),i=xa(s,r);return function pd(t,e){return t[1].data[e].pure}(s,r)?dx(s,Vr(),e,i.transform,n,i):i.transform(n)}class U4{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let q4=(()=>{class t{compileModuleSync(n){return new AS(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),i=Ni(Mi(n).declarations).reduce((o,a)=>{const c=Bt(a);return c&&o.push(new Py(c)),o},[]);return new U4(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),z4=(()=>{class t{zone=U(Rt);changeDetectionScheduler=U(Na);applicationRef=U(po);applicationErrorHandler=U(ti);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const G4=new Y("",{factory:()=>!1});function Qv({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Rt({...Kv(),scheduleInRootZone:n}),[{provide:Rt,useFactory:t},{provide:ko,multi:!0,useFactory:()=>{const r=U(z4,{optional:!0});return()=>r.initialize()}},{provide:ko,multi:!0,useFactory:()=>{const r=U(Z4);return()=>{r.initialize()}}},!0===e?{provide:Aw,useValue:!0}:[],{provide:Nw,useValue:n??ZS},{provide:ti,useFactory:()=>{const r=U(Rt),s=U(Fr);let i;return o=>{r.runOutsideAngular(()=>{s.destroyed&&!i?setTimeout(()=>{throw o}):(i??=s.get(Oc),i.handleError(o))})}}}]}function Kv(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}let Z4=(()=>{class t{subscription=new tr;initialized=!1;zone=U(Rt);pendingTasks=U(Lo);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Rt.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Rt.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Jv=(()=>{class t{applicationErrorHandler=U(ti);appRef=U(po);taskService=U(Lo);ngZone=U(Rt);zonelessEnabled=U(c_);tracing=U(nd,{optional:!0});disableScheduling=U(Aw,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new tr;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Uf):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(U(Nw,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof nv||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&5===n)return;let r=!1;switch(n){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 6:case 13:this.appRef.dirtyFlags|=2,r=!0;break;case 12:this.appRef.dirtyFlags|=16,r=!0;break;case 11:r=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;const s=this.useMicrotaskScheduler?QS:YS;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>s(()=>this.tick())):this.ngZone.runOutsideAngular(()=>s(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Uf+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,QS(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Ko=new Y("",{providedIn:"root",factory:()=>U(Ko,{optional:!0,skipSelf:!0})||function Y4(){return typeof $localize<"u"&&$localize.locale||np}()}),pp=Symbol("InputSignalNode#UNSET"),Vx={...eu,transformFn:void 0,applyValueToInputSignal(t,e){hs(t,e)}};function jx(t,e){const n=Object.create(Vx);function r(){if(yi(n),n.value===pp)throw new T(-950,null);return n.value}return n.value=t,n.transformFn=e?.transform,r[Nt]=n,r}function Bx(t,e){return jx(t,e)}new Y("").__NG_ELEMENT_ID__=t=>{const e=Je();if(null===e)throw new T(204,!1);if(2&e.type)return e.value;if(8&t)return null;throw new T(204,!1)};const oz=(Bx.required=function iz(t){return jx(pp,t)},Bx),gp=new Y(""),dz=new Y("");function md(t){return!t.moduleRef}let Gx,yl=null;let vl=(()=>class t{static __NG_ELEMENT_ID__=_z})();function _z(t){return function yz(t,e,n){if(to(t)&&!n){const r=Lr(t.index,e);return new ju(r,r)}return 175&t.type?new ju(e[15],e):null}(Je(),O(),!(16&~t))}class Xx{constructor(){}supports(e){return Ff(e)}create(e){return new bz(e)}}const vz=(t,e)=>e;class bz{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||vz}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,s=0,i=null;for(;n||r;){const o=!r||n&&n.currentIndex<eA(r,s,i)?n:r,a=eA(o,s,i),c=o.currentIndex;if(o===r)s--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)s++;else{i||(i=[]);const l=a-s,u=c-s;if(l!=u){for(let h=0;h<l;h++){const f=h<i.length?i[h]:i[h]=0,p=f+h;u<=p&&p<l&&(i[h]=f+1)}i[o.previousIndex]=u-l}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Ff(e))throw new T(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let s,i,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)i=e[a],o=this._trackByFn(a,i),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,i,o,a)),Object.is(n.item,i)||this._addIdentityChange(n,i)):(n=this._mismatch(n,i,o,a),r=!0),n=n._next}else s=0,function MB(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(s,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,s)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,s),r=!0),n=n._next,s++}),this.length=s;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,s){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,i,s)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,s))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,i,s)):e=this._addAfter(new Cz(n,r),i,s),e}_verifyReinsertion(e,n,r,s){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?e=this._reinsertAfter(i,e._prev,s):e.currentIndex!=s&&(e.currentIndex=s,this._addToMoves(e,s)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const s=e._prevRemoved,i=e._nextRemoved;return null===s?this._removalsHead=i:s._nextRemoved=i,null===i?this._removalsTail=s:i._prevRemoved=s,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const s=null===n?this._itHead:n._next;return e._next=s,e._prev=n,null===s?this._itTail=e:s._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new Jx),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Jx),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Cz{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}}class Dz{_head=null;_tail=null;add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class Jx{map=new Map;put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new Dz,this.map.set(n,r)),r.add(e)}get(e,n){const s=this.map.get(e);return s?s.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function eA(t,e,n){const r=t.previousIndex;if(null===r)return r;let s=0;return n&&r<n.length&&(s=n[r]),r+e+s}class tA{constructor(){}supports(e){return e instanceof Map||Fy(e)}create(){return new wz}}class wz{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||Fy(e)))throw new T(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,s)=>{if(n&&n.key===s)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const i=this._getOrCreateRecordForKey(s,r);n=this._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const s=this._records.get(e);this._maybeAddToChanges(s,n);const i=s._prev,o=s._next;return i&&(i._next=o),o&&(o._prev=i),s._next=null,s._prev=null,s}const r=new Ez(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class Ez{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(e){this.key=e}}function nA(){return new rb([new Xx])}let rb=(()=>{class t{factories;static \u0275prov=_e({token:t,providedIn:"root",factory:nA});constructor(n){this.factories=n}static create(n,r){if(null!=r){const s=r.factories.slice();n=n.concat(s)}return new t(n)}static extend(n){return{provide:t,useFactory:()=>{const r=U(t,{optional:!0,skipSelf:!0});return t.create(n,r||nA())}}}find(n){const r=this.factories.find(s=>s.supports(n));if(null!=r)return r;throw new T(901,!1)}}return t})();function rA(){return new _p([new tA])}let _p=(()=>{class t{static \u0275prov=_e({token:t,providedIn:"root",factory:rA});factories;constructor(n){this.factories=n}static create(n,r){if(r){const s=r.factories.slice();n=n.concat(s)}return new t(n)}static extend(n){return{provide:t,useFactory:()=>{const r=U(t,{optional:!0,skipSelf:!0});return t.create(n,r||rA())}}}find(n){const r=this.factories.find(s=>s.supports(n));if(r)return r;throw new T(901,!1)}}return t})();function Mz(t){const{rootComponent:e,appProviders:n,platformProviders:r,platformRef:s}=t;Ht(8);try{const i=s?.injector??function mz(t=[]){if(yl)return yl;const e=function Yx(t=[],e){return _s.create({name:e,providers:[{provide:Hm,useValue:"platform"},{provide:gp,useValue:new Set([()=>yl=null])},...t]})}(t);return yl=e,function XU(){!function Ks(t){Ci=t}(()=>{throw new T(600,"")})}(),function Qx(t){const e=t.get(zE,null);xs(t,()=>{e?.forEach(n=>n())})}(e),e}(r),o=[Qv({}),{provide:Na,useExisting:Jv},Mw,...n||[]];return function zx(t){const e=md(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Rt);return n.run(()=>{md(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();const r=e.get(ti);let s;if(n.runOutsideAngular(()=>{s=n.onError.subscribe({next:r})}),md(t)){const i=()=>e.destroy(),o=t.platformInjector.get(gp);o.add(i),e.onDestroy(()=>{s.unsubscribe(),o.delete(i)})}else{const i=()=>t.moduleRef.destroy(),o=t.platformInjector.get(gp);o.add(i),t.moduleRef.onDestroy(()=>{Zf(t.allPlatformModules,t.moduleRef),s.unsubscribe(),o.delete(i)})}return function fz(t,e,n){try{const r=n();return id(r)?r.catch(s=>{throw e.runOutsideAngular(()=>t(s)),s}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}(r,n,()=>{const i=e.get(Lo),o=i.add(),a=e.get(NM);return a.runInitializers(),a.donePromise.then(()=>{if(function vq(t){"string"==typeof t&&(oI=t.toLowerCase().replace(/_/g,"-"))}(e.get(Ko,np)||np),!e.get(dz,!0))return md(t)?e.get(po):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(md(t)){const u=e.get(po);return void 0!==t.rootComponent&&u.bootstrap(t.rootComponent),u}return Gx?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>{i.remove(o)})})})}({r3Injector:new NS({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:i,rootComponent:e})}catch(i){return Promise.reject(i)}finally{Ht(9)}}const ob=new Y("");let yA=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,s,i){return this._findPluginFor(r).addEventListener(n,r,s,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(i=>i.supports(n)),!r)throw new T(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(dt(ob),dt(Rt))};static \u0275prov=_e({token:t,factory:t.\u0275fac})}return t})();class vA{_doc;constructor(e){this._doc=e}manager}const ab="ng-app-id";function bA(t){for(const e of t)e.remove()}function CA(t,e){const n=e.createElement("style");return n.textContent=t,n}function cb(t,e){const n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}let DA=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,s,i={}){this.doc=n,this.appId=r,this.nonce=s,function eG(t,e,n,r){const s=t.head?.querySelectorAll(`style[${ab}="${e}"],link[${ab}="${e}"]`);if(s)for(const i of s)i.removeAttribute(ab),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&n.set(i.textContent,{usage:0,elements:[i]})}(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(const s of n)this.addUsage(s,this.inline,CA);r?.forEach(s=>this.addUsage(s,this.external,cb))}removeStyles(n,r){for(const s of n)this.removeUsage(s,this.inline);r?.forEach(s=>this.removeUsage(s,this.external))}addUsage(n,r,s){const i=r.get(n);i?i.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,s(n,this.doc)))})}removeUsage(n,r){const s=r.get(n);s&&(s.usage--,s.usage<=0&&(bA(s.elements),r.delete(n)))}ngOnDestroy(){for(const[,{elements:n}]of[...this.inline,...this.external])bA(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(const[r,{elements:s}]of this.inline)s.push(this.addElement(n,CA(r,this.doc)));for(const[r,{elements:s}]of this.external)s.push(this.addElement(n,cb(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(dt(ei),dt(Mu),dt(GE,8),dt(I_))};static \u0275prov=_e({token:t,factory:t.\u0275fac})}return t})();const lb={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},ub=/%COMP%/g,oG=new Y("",{providedIn:"root",factory:()=>!0});function EA(t,e){return e.map(n=>n.replace(ub,t))}let TA=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,s,i,o,a,c,l=null,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=i,this.doc=o,this.platformId=a,this.ngZone=c,this.nonce=l,this.tracingService=u,this.platformIsServer=!1,this.defaultRenderer=new db(n,o,c,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;const s=this.getOrCreateRenderer(n,r);return s instanceof MA?s.applyToHost(n):s instanceof hb&&s.applyStyles(),s}getOrCreateRenderer(n,r){const s=this.rendererByCompId;let i=s.get(r.id);if(!i){const o=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,h=this.tracingService;switch(r.encapsulation){case lo.Emulated:i=new MA(c,l,r,this.appId,u,o,a,d,h);break;case lo.ShadowDom:return new uG(c,l,n,r,o,a,this.nonce,d,h);default:i=new hb(c,l,r,u,o,a,d,h)}s.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(dt(yA),dt(DA),dt(Mu),dt(oG),dt(ei),dt(I_),dt(Rt),dt(GE),dt(nd,8))};static \u0275prov=_e({token:t,factory:t.\u0275fac})}return t})();class db{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,s,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=s,this.tracingService=i}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(lb[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(SA(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(SA(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new T(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,s){if(s){n=s+":"+n;const i=lb[s];i?e.setAttributeNS(i,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const s=lb[r];s?e.removeAttributeNS(s,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,s){s&(qo.DashCase|qo.Important)?e.style.setProperty(n,r,s&qo.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&qo.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){null!=e&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,s){if("string"==typeof e&&!(e=Vo().getGlobalEventTarget(this.doc,e)))throw new T(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(e,n,i)),this.eventManager.addEventListener(e,n,i,s)}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===e(n)&&n.preventDefault()}}}function SA(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class uG extends db{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,s,i,o,a,c,l){super(e,i,o,c,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=s.styles;u=EA(s.id,u);for(const h of u){const f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=h,this.shadowRoot.appendChild(f)}const d=s.getExternalStyles?.();if(d)for(const h of d){const f=cb(h,i);a&&f.setAttribute("nonce",a),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class hb extends db{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,s,i,o,a,c,l){super(e,i,o,a,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=s;let u=r.styles;this.styles=l?EA(l,u):u,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&0===pf.size&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class MA extends hb{contentAttr;hostAttr;constructor(e,n,r,s,i,o,a,c,l){const u=s+"-"+r.id;super(e,n,r,i,o,a,c,l,u),this.contentAttr=function aG(t){return"_ngcontent-%COMP%".replace(ub,t)}(u),this.hostAttr=function cG(t){return"_nghost-%COMP%".replace(ub,t)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class fb extends YF{supportsDOMEvents=!0;static makeCurrent(){!function ZF(t){Ow??=t}(new fb)}onAndCancel(e,n,r,s){return e.addEventListener(n,r,s),()=>{e.removeEventListener(n,r,s)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function dG(){return yd=yd||document.head.querySelector("base"),yd?yd.getAttribute("href"):null}();return null==n?null:function hG(t){return new URL(t,document.baseURI).pathname}(n)}resetBaseElement(){yd=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function nP(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[s,i]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(s.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,e)}}let yd=null,pG=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=_e({token:t,factory:t.\u0275fac})}return t})(),gG=(()=>{class t extends vA{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,s,i){return n.addEventListener(r,s,i),()=>this.removeEventListener(n,r,s,i)}removeEventListener(n,r,s,i){return n.removeEventListener(r,s,i)}static \u0275fac=function(r){return new(r||t)(dt(ei))};static \u0275prov=_e({token:t,factory:t.\u0275fac})}return t})();const IA=["alt","control","meta","shift"],mG={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_G={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let yG=(()=>{class t extends vA{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,s,i){const o=t.parseEventName(r),a=t.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Vo().onAndCancel(n,o.domEventName,a,i))}static parseEventName(n){const r=n.toLowerCase().split("."),s=r.shift();if(0===r.length||"keydown"!==s&&"keyup"!==s)return null;const i=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),IA.forEach(l=>{const u=r.indexOf(l);u>-1&&(r.splice(u,1),o+=l+".")}),o+=i,0!=r.length||0===i.length)return null;const c={};return c.domEventName=s,c.fullKey=o,c}static matchEventFullKeyCode(n,r){let s=mG[n.key]||n.key,i="";return r.indexOf("code.")>-1&&(s=n.code,i="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),IA.forEach(o=>{o!==s&&(0,_G[o])(n)&&(i+=o+".")}),i+=s,i===r)}static eventCallback(n,r,s){return i=>{t.matchEventFullKeyCode(i,n)&&s.runGuarded(()=>r(i))}}static _normalizeKey(n){return"esc"===n?"escape":n}static \u0275fac=function(r){return new(r||t)(dt(ei))};static \u0275prov=_e({token:t,factory:t.\u0275fac})}return t})();function xA(t){return{appProviders:[...TG,...t?.providers??[]],platformProviders:wG}}const wG=[{provide:I_,useValue:"browser"},{provide:zE,useValue:function bG(){fb.makeCurrent()},multi:!0},{provide:ei,useFactory:function DG(){return function WL(t){M_=t}(document),document}}],TG=[{provide:Hm,useValue:"root"},{provide:Oc,useFactory:function CG(){return new Oc}},{provide:ob,useClass:gG,multi:!0,deps:[ei]},{provide:ob,useClass:yG,multi:!0,deps:[ei]},TA,DA,yA,{provide:Ay,useExisting:TA},{provide:class rP{},useClass:pG},[]];function on(t){return function xG(t){const e=we(null);try{return t()}finally{we(e)}}(t)}function si(t,e){return function Qs(t,e){const n=Object.create(Yi);n.computation=t,void 0!==e&&(n.equal=e);const r=()=>{if(Gi(n),yi(n),n.value===hr)throw n.error;return n.value};return r[Nt]=n,r}(t,e?.equal)}function Fs(t,e,n,r){var o,s=arguments.length,i=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function Kt(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):function s(i){return i instanceof n?i:new n(function(o){o(i)})}(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function Xo(t){return this instanceof Xo?(this.v=t,this):new Xo(t)}function BA(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function yb(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(a,c){!function s(i,o,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},o)}(a,c,(o=t[i](o)).done,o.value)})}}}Error,Error,"function"==typeof SuppressedError&&SuppressedError;const HA=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function UA(t){return en(t?.then)}function qA(t){return en(t[Vn])}function $A(t){return Symbol.asyncIterator&&en(t?.[Symbol.asyncIterator])}function zA(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const GA=function y8(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function WA(t){return en(t?.[GA])}function ZA(t){return function jA(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s,r=n.apply(t,e||[]),i=[];return s=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function o(f){return function(p){return Promise.resolve(p).then(f,d)}}),s[Symbol.asyncIterator]=function(){return this},s;function a(f,p){r[f]&&(s[f]=function(g){return new Promise(function(_,m){i.push([f,g,_,m])>1||c(f,g)})},p&&(s[f]=p(s[f])))}function c(f,p){try{!function l(f){f.value instanceof Xo?Promise.resolve(f.value.v).then(u,d):h(i[0][2],f)}(r[f](p))}catch(g){h(i[0][3],g)}}function u(f){c("next",f)}function d(f){c("throw",f)}function h(f,p){f(p),i.shift(),i.length&&c(i[0][0],i[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:s}=yield Xo(n.read());if(s)return yield Xo(void 0);yield yield Xo(r)}}finally{n.releaseLock()}})}function YA(t){return en(t?.getReader)}function ii(t){if(t instanceof Fe)return t;if(null!=t){if(qA(t))return function v8(t){return new Fe(e=>{const n=t[Vn]();if(en(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(HA(t))return function b8(t){return new Fe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(UA(t))return function C8(t){return new Fe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,fh)})}(t);if($A(t))return QA(t);if(WA(t))return function D8(t){return new Fe(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(YA(t))return function w8(t){return QA(ZA(t))}(t)}throw zA(t)}function QA(t){return new Fe(e=>{(function E8(t,e){var n,r,s,i;return Kt(this,void 0,void 0,function*(){try{for(n=BA(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){s={error:o}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(s)throw s.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function mo(t,e,n,r=0,s=!1){const i=e.schedule(function(){n(),s?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(i),!s)return i}function KA(t,e=0){return or((n,r)=>{n.subscribe(Hn(r,s=>mo(r,t,()=>r.next(s),e),()=>mo(r,t,()=>r.complete(),e),s=>mo(r,t,()=>r.error(s),e)))})}function XA(t,e=0){return or((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function JA(t,e){if(!t)throw new Error("Iterable cannot be null");return new Fe(n=>{mo(n,e,()=>{const r=t[Symbol.asyncIterator]();mo(n,e,()=>{r.next().then(s=>{s.done?n.complete():n.next(s.value)})},0,!0)})})}function Tr(t,e){return e?function A8(t,e){if(null!=t){if(qA(t))return function T8(t,e){return ii(t).pipe(XA(e),KA(e))}(t,e);if(HA(t))return function M8(t,e){return new Fe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(UA(t))return function S8(t,e){return ii(t).pipe(XA(e),KA(e))}(t,e);if($A(t))return JA(t,e);if(WA(t))return function I8(t,e){return new Fe(n=>{let r;return mo(n,e,()=>{r=t[GA](),mo(n,e,()=>{let s,i;try{({value:s,done:i}=r.next())}catch(o){return void n.error(o)}i?n.complete():n.next(s)},0,!0)}),()=>en(r?.return)&&r.return()})}(t,e);if(YA(t))return function x8(t,e){return JA(ZA(t),e)}(t,e)}throw zA(t)}(t,e):ii(t)}function eN(t){return t&&en(t.schedule)}function bb(t){return t[t.length-1]}function tN(t){return en(bb(t))?t.pop():void 0}function Dp(t){return eN(bb(t))?t.pop():void 0}function it(...t){return Tr(t,Dp(t))}const wp=vc(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:N8}=Array,{getPrototypeOf:k8,prototype:R8,keys:O8}=Object;function nN(t){if(1===t.length){const e=t[0];if(N8(e))return{args:e,keys:null};if(function F8(t){return t&&"object"==typeof t&&k8(t)===R8}(e)){const n=O8(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:P8}=Array;function rN(t){return Ft(e=>function L8(t,e){return P8(e)?t(...e):t(e)}(t,e))}function sN(t,e){return t.reduce((n,r,s)=>(n[r]=e[s],n),{})}function iN(...t){const e=Dp(t),n=tN(t),{args:r,keys:s}=nN(t);if(0===r.length)return Tr([],e);const i=new Fe(function V8(t,e,n=qt){return r=>{oN(e,()=>{const{length:s}=t,i=new Array(s);let o=s,a=s;for(let c=0;c<s;c++)oN(e,()=>{const l=Tr(t[c],e);let u=!1;l.subscribe(Hn(r,d=>{i[c]=d,u||(u=!0,a--),a||r.next(n(i.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,s?o=>sN(s,o):qt));return n?i.pipe(rN(n)):i}function oN(t,e,n){t?mo(n,t,e):e()}function Sr(t,e,n=1/0){return en(e)?Sr((r,s)=>Ft((i,o)=>e(r,i,s,o))(ii(t(r,s))),n):("number"==typeof e&&(n=e),or((r,s)=>function j8(t,e,n,r,s,i,o,a){const c=[];let l=0,u=0,d=!1;const h=()=>{d&&!c.length&&!l&&e.complete()},f=g=>l<r?p(g):c.push(g),p=g=>{i&&e.next(g),l++;let _=!1;ii(n(g,u++)).subscribe(Hn(e,m=>{s?.(m),i?f(m):e.next(m)},()=>{_=!0},void 0,()=>{if(_)try{for(l--;c.length&&l<r;){const m=c.shift();o?mo(e,o,()=>p(m)):p(m)}h()}catch(m){e.error(m)}}))};return t.subscribe(Hn(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,s,t,n)))}function Ep(...t){return function B8(){return function Cb(t=1/0){return Sr(qt,t)}(1)}()(Tr(t,Dp(t)))}function Db(t){return new Fe(e=>{ii(t()).subscribe(e)})}function Tp(t,e){const n=en(t)?t:()=>t,r=s=>s.error(n());return new Fe(e?s=>e.schedule(r,0,s):r)}const oi=new Fe(t=>t.complete());function wb(){return or((t,e)=>{let n=null;t._refCount++;const r=Hn(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const s=t._connection,i=n;n=null,s&&(!i||s===i)&&s.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class aN extends Fe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Kw(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new tr;const n=this.getSubject();e.add(this.source.subscribe(Hn(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=tr.EMPTY)}return e}refCount(){return wb()(this)}}function Ps(t,e){return or((n,r)=>{let s=null,i=0,o=!1;const a=()=>o&&!s&&r.complete();n.subscribe(Hn(r,c=>{s?.unsubscribe();let l=0;const u=i++;ii(t(c,u)).subscribe(s=Hn(r,d=>r.next(e?e(c,d,u,l++):d),()=>{s=null,a()}))},()=>{o=!0,a()}))})}function Jo(t){return t<=0?()=>oi:or((e,n)=>{let r=0;e.subscribe(Hn(n,s=>{++r<=t&&(n.next(s),t<=r&&n.complete())}))})}function ea(t,e){return or((n,r)=>{let s=0;n.subscribe(Hn(r,i=>t.call(e,i,s++)&&r.next(i)))})}function Sp(t){return or((e,n)=>{let r=!1;e.subscribe(Hn(n,s=>{r=!0,n.next(s)},()=>{r||n.next(t),n.complete()}))})}function cN(t=q8){return or((e,n)=>{let r=!1;e.subscribe(Hn(n,s=>{r=!0,n.next(s)},()=>r?n.complete():n.error(t())))})}function q8(){return new wp}function Xa(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ea((s,i)=>t(s,i,r)):qt,Jo(1),n?Sp(e):cN(()=>new wp))}function Mp(t,e){return en(e)?Sr(t,e,1):Sr(t,1)}function Mr(t,e,n){const r=en(t)||e||n?{next:t,error:e,complete:n}:t;return r?or((s,i)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;s.subscribe(Hn(i,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),i.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),i.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),i.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):qt}function Cl(t){return or((e,n)=>{let i,r=null,s=!1;r=e.subscribe(Hn(n,void 0,void 0,o=>{i=ii(t(o,Cl(t)(e))),r?(r.unsubscribe(),r=null,i.subscribe(n)):s=!0})),s&&(r.unsubscribe(),r=null,i.subscribe(n))})}function Eb(t){return t<=0?()=>oi:or((e,n)=>{let r=[];e.subscribe(Hn(n,s=>{r.push(s),t<r.length&&r.shift()},()=>{for(const s of r)n.next(s);n.complete()},void 0,()=>{r=null}))})}function Tb(t){return or((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function lN(t){return or((e,n)=>{ii(t).subscribe(Hn(n,()=>n.complete(),ba)),!n.closed&&e.subscribe(n)})}let W8=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(dt(ei))};static \u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const ht="primary",bd=Symbol("RouteTitle");class K8{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Dl(t){return new K8(t)}function X8(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const s={};for(let i=0;i<r.length;i++){const o=r[i],a=t[i];if(":"===o[0])s[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:s}}function Ri(t,e){const n=t?Sb(t):void 0,r=e?Sb(e):void 0;if(!n||!r||n.length!=r.length)return!1;let s;for(let i=0;i<n.length;i++)if(s=n[i],!hN(t[s],e[s]))return!1;return!0}function Sb(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function hN(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((s,i)=>r[i]===s)}return t===e}function fN(t){return t.length>0?t[t.length-1]:null}function _o(t){return function GG(t){return!!t&&(t instanceof Fe||en(t.lift)&&en(t.subscribe))}(t)?t:id(t)?Tr(Promise.resolve(t)):it(t)}const e5={exact:function mN(t,e,n){if(!ec(t.segments,e.segments)||!Ip(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!mN(t.children[r],e.children[r],n))return!1;return!0},subset:_N},pN={exact:function t5(t,e){return Ri(t,e)},subset:function n5(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>hN(t[n],e[n]))},ignored:()=>!0};function gN(t,e,n){return e5[n.paths](t.root,e.root,n.matrixParams)&&pN[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function _N(t,e,n){return yN(t,e,e.segments,n)}function yN(t,e,n,r){if(t.segments.length>n.length){const s=t.segments.slice(0,n.length);return!(!ec(s,n)||e.hasChildren()||!Ip(s,n,r))}if(t.segments.length===n.length){if(!ec(t.segments,n)||!Ip(t.segments,n,r))return!1;for(const s in e.children)if(!t.children[s]||!_N(t.children[s],e.children[s],r))return!1;return!0}{const s=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!(ec(t.segments,s)&&Ip(t.segments,s,r)&&t.children[ht])&&yN(t.children[ht],e,i,r)}}function Ip(t,e,n){return e.every((r,s)=>pN[n](t[s].parameters,r.parameters))}class Ja{root;queryParams;fragment;_queryParamMap;constructor(e=new Xt([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Dl(this.queryParams),this._queryParamMap}toString(){return i5.serialize(this)}}class Xt{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Np(this)}}class Cd{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Dl(this.parameters),this._parameterMap}toString(){return CN(this)}}function ec(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let xp=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=_e({token:t,factory:()=>new Ap,providedIn:"root"})}return t})();class Ap{parse(e){const n=new m5(e);return new Ja(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Dd(e.root,!0)}`,r=function c5(t){const e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(s=>`${kp(n)}=${kp(s)}`).join("&"):`${kp(n)}=${kp(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function o5(t){return encodeURI(t)}(e.fragment)}`:""}`}}const i5=new Ap;function Np(t){return t.segments.map(e=>CN(e)).join("/")}function Dd(t,e){if(!t.hasChildren())return Np(t);if(e){const n=t.children[ht]?Dd(t.children[ht],!1):"",r=[];return Object.entries(t.children).forEach(([s,i])=>{s!==ht&&r.push(`${s}:${Dd(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function s5(t,e){let n=[];return Object.entries(t.children).forEach(([r,s])=>{r===ht&&(n=n.concat(e(s,r)))}),Object.entries(t.children).forEach(([r,s])=>{r!==ht&&(n=n.concat(e(s,r)))}),n}(t,(r,s)=>s===ht?[Dd(t.children[ht],!1)]:[`${s}:${Dd(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ht]?`${Np(t)}/${n[0]}`:`${Np(t)}/(${n.join("//")})`}}function vN(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function kp(t){return vN(t).replace(/%3B/gi,";")}function Mb(t){return vN(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rp(t){return decodeURIComponent(t)}function bN(t){return Rp(t.replace(/\+/g,"%20"))}function CN(t){return`${Mb(t.path)}${function a5(t){return Object.entries(t).map(([e,n])=>`;${Mb(e)}=${Mb(n)}`).join("")}(t.parameters)}`}const l5=/^[^\/()?;#]+/;function Ib(t){const e=t.match(l5);return e?e[0]:""}const u5=/^[^\/()?;=#]+/,h5=/^[^=?&#]+/,p5=/^[^&#]+/;class m5{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xt([],{}):new Xt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ht]=new Xt(e,n)),r}parseSegment(){const e=Ib(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new T(4009,!1);return this.capture(e),new Cd(Rp(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function d5(t){const e=t.match(u5);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=Ib(this.remaining);s&&(r=s,this.capture(r))}e[Rp(n)]=Rp(r)}parseQueryParam(e){const n=function f5(t){const e=t.match(h5);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function g5(t){const e=t.match(p5);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const s=bN(n),i=bN(r);if(e.hasOwnProperty(s)){let o=e[s];Array.isArray(o)||(o=[o],e[s]=o),o.push(i)}else e[s]=i}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Ib(this.remaining),s=this.remaining[r.length];if("/"!==s&&")"!==s&&";"!==s)throw new T(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=ht);const o=this.parseChildren();n[i]=1===Object.keys(o).length?o[ht]:new Xt([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new T(4011,!1)}}function DN(t){return t.segments.length>0?new Xt([],{[ht]:t}):t}function wN(t){const e={};for(const[r,s]of Object.entries(t.children)){const i=wN(s);if(r===ht&&0===i.segments.length&&i.hasChildren())for(const[o,a]of Object.entries(i.children))e[o]=a;else(i.segments.length>0||i.hasChildren())&&(e[r]=i)}return function _5(t){if(1===t.numberOfChildren&&t.children[ht]){const e=t.children[ht];return new Xt(t.segments.concat(e.segments),e.children)}return t}(new Xt(t.segments,e))}function tc(t){return t instanceof Ja}function EN(t){let e;const s=DN(function n(i){const o={};for(const c of i.children){const l=n(c);o[c.outlet]=l}const a=new Xt(i.url,o);return i===t&&(e=a),a}(t.root));return e??s}function TN(t,e,n,r){let s=t;for(;s.parent;)s=s.parent;if(0===e.length)return xb(s,s,s,n,r);const i=function v5(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new MN(!0,0,t);let e=0,n=!1;const r=t.reduce((s,i,o)=>{if("object"==typeof i&&null!=i){if(i.outlets){const a={};return Object.entries(i.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...s,{outlets:a}]}if(i.segmentPath)return[...s,i.segmentPath]}return"string"!=typeof i?[...s,i]:0===o?(i.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?e++:""!=a&&s.push(a))}),s):[...s,i]},[]);return new MN(n,e,r)}(e);if(i.toRoot())return xb(s,s,new Xt([],{}),n,r);const o=function b5(t,e,n){if(t.isAbsolute)return new Fp(e,!0,0);if(!n)return new Fp(e,!1,NaN);if(null===n.parent)return new Fp(n,!0,0);const r=Op(t.commands[0])?0:1;return function C5(t,e,n){let r=t,s=e,i=n;for(;i>s;){if(i-=s,r=r.parent,!r)throw new T(4005,!1);s=r.segments.length}return new Fp(r,!1,s-i)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(i,s,t),a=o.processChildren?Ed(o.segmentGroup,o.index,i.commands):IN(o.segmentGroup,o.index,i.commands);return xb(s,o.segmentGroup,a,n,r)}function Op(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function wd(t){return"object"==typeof t&&null!=t&&t.outlets}function xb(t,e,n,r,s){let o,i={};r&&Object.entries(r).forEach(([c,l])=>{i[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),o=t===e?n:SN(t,e,n);const a=DN(wN(o));return new Ja(a,i,s)}function SN(t,e,n){const r={};return Object.entries(t.children).forEach(([s,i])=>{r[s]=i===e?n:SN(i,e,n)}),new Xt(t.segments,r)}class MN{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Op(r[0]))throw new T(4003,!1);const s=r.find(wd);if(s&&s!==fN(r))throw new T(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Fp{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function IN(t,e,n){if(t??=new Xt([],{}),0===t.segments.length&&t.hasChildren())return Ed(t,e,n);const r=function w5(t,e,n){let r=0,s=e;const i={match:!1,pathIndex:0,commandIndex:0};for(;s<t.segments.length;){if(r>=n.length)return i;const o=t.segments[s],a=n[r];if(wd(a))break;const c=`${a}`,l=r<n.length-1?n[r+1]:null;if(s>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!AN(c,l,o))return i;r+=2}else{if(!AN(c,{},o))return i;r++}s++}return{match:!0,pathIndex:s,commandIndex:r}}(t,e,n),s=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const i=new Xt(t.segments.slice(0,r.pathIndex),{});return i.children[ht]=new Xt(t.segments.slice(r.pathIndex),t.children),Ed(i,0,s)}return r.match&&0===s.length?new Xt(t.segments,{}):r.match&&!t.hasChildren()?Ab(t,e,n):r.match?Ed(t,0,s):Ab(t,e,n)}function Ed(t,e,n){if(0===n.length)return new Xt(t.segments,{});{const r=function D5(t){return wd(t[0])?t[0].outlets:{[ht]:t}}(n),s={};if(Object.keys(r).some(i=>i!==ht)&&t.children[ht]&&1===t.numberOfChildren&&0===t.children[ht].segments.length){const i=Ed(t.children[ht],e,n);return new Xt(t.segments,i.children)}return Object.entries(r).forEach(([i,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(s[i]=IN(t.children[i],e,o))}),Object.entries(t.children).forEach(([i,o])=>{void 0===r[i]&&(s[i]=o)}),new Xt(t.segments,s)}}function Ab(t,e,n){const r=t.segments.slice(0,e);let s=0;for(;s<n.length;){const i=n[s];if(wd(i)){const c=E5(i.outlets);return new Xt(r,c)}if(0===s&&Op(n[0])){r.push(new Cd(t.segments[e].path,xN(n[0]))),s++;continue}const o=wd(i)?i.outlets[ht]:`${i}`,a=s<n.length-1?n[s+1]:null;o&&a&&Op(a)?(r.push(new Cd(o,xN(a))),s+=2):(r.push(new Cd(o,{})),s++)}return new Xt(r,{})}function E5(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=Ab(new Xt([],{}),0,r))}),e}function xN(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function AN(t,e,n){return t==n.path&&Ri(e,n.parameters)}const Pp="imperative";var xt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(xt||{});class Oi{id;url;constructor(e,n){this.id=e,this.url=n}}class Nb extends Oi{type=xt.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",s=null){super(e,n),this.navigationTrigger=r,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class nc extends Oi{urlAfterRedirects;type=xt.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var rs=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t}(rs||{}),kb=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(kb||{});class rc extends Oi{reason;code;type=xt.NavigationCancel;constructor(e,n,r,s){super(e,n),this.reason=r,this.code=s}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Td extends Oi{reason;code;type=xt.NavigationSkipped;constructor(e,n,r,s){super(e,n),this.reason=r,this.code=s}}class Rb extends Oi{error;target;type=xt.NavigationError;constructor(e,n,r,s){super(e,n),this.error=r,this.target=s}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class NN extends Oi{urlAfterRedirects;state;type=xt.RoutesRecognized;constructor(e,n,r,s){super(e,n),this.urlAfterRedirects=r,this.state=s}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class T5 extends Oi{urlAfterRedirects;state;type=xt.GuardsCheckStart;constructor(e,n,r,s){super(e,n),this.urlAfterRedirects=r,this.state=s}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class S5 extends Oi{urlAfterRedirects;state;shouldActivate;type=xt.GuardsCheckEnd;constructor(e,n,r,s,i){super(e,n),this.urlAfterRedirects=r,this.state=s,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class M5 extends Oi{urlAfterRedirects;state;type=xt.ResolveStart;constructor(e,n,r,s){super(e,n),this.urlAfterRedirects=r,this.state=s}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class I5 extends Oi{urlAfterRedirects;state;type=xt.ResolveEnd;constructor(e,n,r,s){super(e,n),this.urlAfterRedirects=r,this.state=s}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class x5{route;type=xt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class A5{route;type=xt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class N5{snapshot;type=xt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class k5{snapshot;type=xt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class R5{snapshot;type=xt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class O5{snapshot;type=xt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ob{}class Lp{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}}function ai(t){return t.outlet||ht}function wl(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class H5{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return wl(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Sd(this.rootInjector)}}let Sd=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){const s=this.getOrCreateContext(n);s.outlet=r,this.contexts.set(n,s)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new H5(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(dt(Fr))};static \u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class kN{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Fb(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=Fb(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Pb(e,this._root);return n.length<2?[]:n[n.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return Pb(e,this._root).map(n=>n.value)}}function Fb(t,e){if(t===e.value)return e;for(const n of e.children){const r=Fb(t,n);if(r)return r}return null}function Pb(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Pb(t,n);if(r.length)return r.unshift(e),r}return[]}class ci{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function El(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class RN extends kN{snapshot;constructor(e,n){super(e),this.snapshot=n,Lb(this,e)}toString(){return this.snapshot.toString()}}function ON(t){const e=function U5(t){const i=new jp([],{},{},"",{},ht,t,null,{});return new FN("",new ci(i,[]))}(t),n=new be([new Cd("",{})]),r=new be({}),s=new be({}),i=new be({}),o=new be(""),a=new Tl(n,r,i,o,s,ht,t,e.root);return a.snapshot=e.root,new RN(new ci(a,[]),e)}class Tl{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,s,i,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=s,this.dataSubject=i,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Ft(l=>l[bd]))??it(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=s,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ft(e=>Dl(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ft(e=>Dl(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Vp(t,e,n="emptyOnly"){let r;const{routeConfig:s}=t;return r=null===e||"always"!==n&&""!==s?.path&&(e.component||e.routeConfig?.loadComponent)?{params:{...t.params},data:{...t.data},resolve:{...t.data,...t._resolvedData??{}}}:{params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.data,...s?.data,...t._resolvedData}},s&&LN(s)&&(r.resolve[bd]=s.title),r}class jp{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[bd]}constructor(e,n,r,s,i,o,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=s,this.data=i,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Dl(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Dl(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class FN extends kN{url;constructor(e,n){super(n),this.url=e,Lb(this,n)}toString(){return PN(this._root)}}function Lb(t,e){e.value._routerState=t,e.children.forEach(n=>Lb(t,n))}function PN(t){const e=t.children.length>0?` { ${t.children.map(PN).join(", ")} } `:"";return`${t.value}${e}`}function Vb(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ri(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Ri(e.params,n.params)||t.paramsSubject.next(n.params),function J8(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ri(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Ri(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function jb(t,e){const n=Ri(t.params,e.params)&&function r5(t,e){return ec(t,e)&&t.every((n,r)=>Ri(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||jb(t.parent,e.parent))}function LN(t){return"string"==typeof t.title||null===t.title}const q5=new Y("");let Bb=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ht;activateEvents=new Un;deactivateEvents=new Un;attachEvents=new Un;detachEvents=new Un;routerOutletData=oz(void 0);parentContexts=U(Sd);location=U(ri);changeDetector=U(vl);inputBinder=U(Hb,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:s}=n.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new T(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new T(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new T(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new T(4013,!1);this._activatedRoute=n;const s=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new $5(n,a,s.injector,this.routerOutletData);this.activated=s.createComponent(o,{index:s.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Ye({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[ks]})}return t})();class $5{route;childContexts;parent;outletData;constructor(e,n,r,s){this.route=e,this.childContexts=n,this.parent=r,this.outletData=s}get(e,n){return e===Tl?this.route:e===Sd?this.childContexts:e===q5?this.outletData:this.parent.get(e,n)}}const Hb=new Y("");let VN=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Xu({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,s){1&r&&cr(0,"router-outlet")},dependencies:[Bb],encapsulation:2})}return t})();function Ub(t){const e=t.children&&t.children.map(Ub),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ht&&(n.component=VN),n}function Md(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const s=function G5(t,e,n){return e.children.map(r=>{for(const s of n.children)if(t.shouldReuseRoute(r.value,s.value.snapshot))return Md(t,r,s);return Md(t,r)})}(t,e,n);return new ci(r,s)}{if(t.shouldAttach(e.value)){const i=t.retrieve(e.value);if(null!==i){const o=i.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Md(t,a)),o}}const r=function W5(t){return new Tl(new be(t.url),new be(t.params),new be(t.queryParams),new be(t.fragment),new be(t.data),t.outlet,t.component,t)}(e.value),s=e.children.map(i=>Md(t,i));return new ci(r,s)}}class qb{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}}const jN="ngNavigationCancelingError";function Bp(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=tc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,s=BN(!1,rs.Redirect);return s.url=n,s.navigationBehaviorOptions=r,s}function BN(t,e){const n=new Error(`NavigationCancelingError: ${t||""}`);return n[jN]=!0,n.cancellationCode=e,n}function HN(t){return!!t&&t[jN]}class Q5{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,s,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=s,this.inputBindingEnabled=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Vb(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const s=El(n);e.children.forEach(i=>{const o=i.value.outlet;this.deactivateRoutes(i,s[o],r),delete s[o]}),Object.values(s).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(e,n,r){const s=e.value,i=n?n.value:null;if(s===i)if(s.component){const o=r.getContext(s.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else i&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),s=r&&e.value.component?r.children:n,i=El(e);for(const o of Object.values(i))this.deactivateRouteAndItsChildren(o,s);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),s=r&&e.value.component?r.children:n,i=El(e);for(const o of Object.values(i))this.deactivateRouteAndItsChildren(o,s);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const s=El(n);e.children.forEach(i=>{this.activateRoutes(i,s[i.value.outlet],r),this.forwardEvent(new O5(i.value.snapshot))}),e.children.length&&this.forwardEvent(new k5(e.value.snapshot))}activateRoutes(e,n,r){const s=e.value,i=n?n.value:null;if(Vb(s),s===i)if(s.component){const o=r.getOrCreateContext(s.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(s.component){const o=r.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const a=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Vb(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=s,o.outlet&&o.outlet.activateWith(s,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}}class UN{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Hp{component;route;constructor(e,n){this.component=e,this.route=n}}function K5(t,e,n){const r=t._root;return Id(r,e?e._root:null,n,[r.value])}function Sl(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function Ms(t){return null!==Cr(t)}(t)?e.get(t):t:r}function Id(t,e,n,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const i=El(e);return t.children.forEach(o=>{(function J5(t,e,n,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const i=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&i.routeConfig===o.routeConfig){const c=function eW(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!ec(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ec(t.url,e.url)||!Ri(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!jb(t,e)||!Ri(t.queryParams,e.queryParams);default:return!jb(t,e)}}(o,i,i.routeConfig.runGuardsAndResolvers);c?s.canActivateChecks.push(new UN(r)):(i.data=o.data,i._resolvedData=o._resolvedData),Id(t,e,i.component?a?a.children:null:n,r,s),c&&a&&a.outlet&&a.outlet.isActivated&&s.canDeactivateChecks.push(new Hp(a.outlet.component,o))}else o&&xd(e,a,s),s.canActivateChecks.push(new UN(r)),Id(t,null,i.component?a?a.children:null:n,r,s)})(o,i[o.value.outlet],n,r.concat([o.value]),s),delete i[o.value.outlet]}),Object.entries(i).forEach(([o,a])=>xd(a,n.getContext(o),s)),s}function xd(t,e,n){const r=El(t),s=t.value;Object.entries(r).forEach(([i,o])=>{xd(o,s.component?e?e.children.getContext(i):null:e,n)}),n.canDeactivateChecks.push(new Hp(s.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,s))}function Ad(t){return"function"==typeof t}function qN(t){return t instanceof wp||"EmptyError"===t?.name}const Up=Symbol("INITIAL_VALUE");function Ml(){return Ps(t=>iN(t.map(e=>e.pipe(Jo(1),function U8(...t){const e=Dp(t);return or((n,r)=>{(e?Ep(t,n,e):Ep(t,n)).subscribe(r)})}(Up)))).pipe(Ft(e=>{for(const n of e)if(!0!==n){if(n===Up)return Up;if(!1===n||aW(n))return n}return!0}),ea(e=>e!==Up),Jo(1)))}function aW(t){return tc(t)||t instanceof qb}function $N(t){return function xe(...t){return ie(t)}(Mr(e=>{if("boolean"!=typeof e)throw Bp(0,e)}),Ft(e=>!0===e))}class $b{segmentGroup;constructor(e){this.segmentGroup=e||null}}class zb extends Error{urlTree;constructor(e){super(),this.urlTree=e}}function Il(t){return Tp(new $b(t))}function yW(t){return Tp(new T(4e3,!1))}class bW{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],s=n.root;for(;;){if(r=r.concat(s.segments),0===s.numberOfChildren)return it(r);if(s.numberOfChildren>1||!s.children[ht])return yW();s=s.children[ht]}}applyRedirectCommands(e,n,r,s,i){return function CW(t,e,n){if("string"==typeof t)return it(t);const r=t,{queryParams:s,fragment:i,routeConfig:o,url:a,outlet:c,params:l,data:u,title:d}=e;return _o(xs(n,()=>r({params:l,data:u,queryParams:s,fragment:i,routeConfig:o,url:a,outlet:c,title:d})))}(n,s,i).pipe(Ft(o=>{if(o instanceof Ja)throw new zb(o);const a=this.applyRedirectCreateUrlTree(o,this.urlSerializer.parse(o),e,r);if("/"===o[0])throw new zb(a);return a}))}applyRedirectCreateUrlTree(e,n,r,s){const i=this.createSegmentGroup(e,n.root,r,s);return new Ja(i,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([s,i])=>{if("string"==typeof i&&":"===i[0]){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,s){const i=this.createSegments(e,n.segments,r,s);let o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,s)}),new Xt(i,o)}createSegments(e,n,r,s){return n.map(i=>":"===i.path[0]?this.findPosParam(e,i,s):this.findOrReturn(i,r))}findPosParam(e,n,r){const s=r[n.path.substring(1)];if(!s)throw new T(4001,!1);return s}findOrReturn(e,n){let r=0;for(const s of n){if(s.path===e.path)return n.splice(r),s;r++}return e}}const Gb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function DW(t,e,n,r,s){const i=zN(t,e,n);return i.matched?(r=function P5(t,e){return t.providers&&!t._injector&&(t._injector=Yy(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function _W(t,e,n,r){const s=e.canMatch;return s&&0!==s.length?it(s.map(o=>{const a=Sl(o,t);return _o(function oW(t){return t&&Ad(t.canMatch)}(a)?a.canMatch(e,n):xs(t,()=>a(e,n)))})).pipe(Ml(),$N()):it(!0)}(r,e,n).pipe(Ft(o=>!0===o?i:{...Gb}))):it(i)}function zN(t,e,n){if("**"===e.path)return function wW(t){return{matched:!0,parameters:t.length>0?fN(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}(n);if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...Gb}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const s=(e.matcher||X8)(n,t,e);if(!s)return{...Gb};const i={};Object.entries(s.posParams??{}).forEach(([a,c])=>{i[a]=c.path});const o=s.consumed.length>0?{...i,...s.consumed[s.consumed.length-1].parameters}:i;return{matched:!0,consumedSegments:s.consumed,remainingSegments:n.slice(s.consumed.length),parameters:o,positionalParamSegments:s.posParams??{}}}function GN(t,e,n,r){return n.length>0&&function SW(t,e,n){return n.some(r=>qp(t,e,r)&&ai(r)!==ht)}(t,n,r)?{segmentGroup:new Xt(e,TW(r,new Xt(n,t.children))),slicedSegments:[]}:0===n.length&&function MW(t,e,n){return n.some(r=>qp(t,e,r))}(t,n,r)?{segmentGroup:new Xt(t.segments,EW(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Xt(t.segments,t.children),slicedSegments:n}}function EW(t,e,n,r){const s={};for(const i of n)if(qp(t,e,i)&&!r[ai(i)]){const o=new Xt([],{});s[ai(i)]=o}return{...r,...s}}function TW(t,e){const n={};n[ht]=e;for(const r of t)if(""===r.path&&ai(r)!==ht){const s=new Xt([],{});n[ai(r)]=s}return n}function qp(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class xW{}class kW{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,s,i,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=s,this.urlTree=i,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new bW(this.urlSerializer,this.urlTree)}noMatchError(e){return new T(4002,`'${e.segmentGroup}'`)}recognize(){const e=GN(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Ft(({children:n,rootSnapshot:r})=>{const s=new ci(r,n),i=new FN("",s),o=function y5(t,e,n=null,r=null){return TN(EN(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(o),{state:i,tree:o}}))}match(e){const n=new jp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),ht,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ht,n).pipe(Ft(r=>({children:r,rootSnapshot:n})),Cl(r=>{if(r instanceof zb)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof $b?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,s,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r,i):this.processSegment(e,n,r,r.segments,s,!0,i).pipe(Ft(o=>o instanceof ci?[o]:[]))}processChildren(e,n,r,s){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Tr(i).pipe(Mp(o=>{const a=r.children[o],c=function B5(t,e){const n=t.filter(r=>ai(r)===e);return n.push(...t.filter(r=>ai(r)!==e)),n}(n,o);return this.processSegmentGroup(e,c,a,o,s)}),function z8(t,e){return or(function $8(t,e,n,r,s){return(i,o)=>{let a=n,c=e,l=0;i.subscribe(Hn(o,u=>{const d=l++;c=a?t(c,u,d):(a=!0,u),r&&o.next(c)},s&&(()=>{a&&o.next(c),o.complete()})))}}(t,e,arguments.length>=2,!0))}((o,a)=>(o.push(...a),o)),Sp(null),function G8(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ea((s,i)=>t(s,i,r)):qt,Eb(1),n?Sp(e):cN(()=>new wp))}(),Sr(o=>{if(null===o)return Il(r);const a=WN(o);return function RW(t){t.sort((e,n)=>e.value.outlet===ht?-1:n.value.outlet===ht?1:e.value.outlet.localeCompare(n.value.outlet))}(a),it(a)}))}processSegment(e,n,r,s,i,o,a){return Tr(n).pipe(Mp(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,s,i,o,a).pipe(Cl(l=>{if(l instanceof $b)return it(null);throw l}))),Xa(c=>!!c),Cl(c=>{if(qN(c))return function IW(t,e,n){return 0===e.length&&!t.children[n]}(r,s,i)?it(new xW):Il(r);throw c}))}processSegmentAgainstRoute(e,n,r,s,i,o,a,c){return ai(r)===o||o!==ht&&qp(s,i,r)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,s,r,i,o,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,s,n,r,i,o,c):Il(s):Il(s)}expandSegmentAgainstRouteUsingRedirect(e,n,r,s,i,o,a){const{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:h}=zN(n,s,i);if(!c)return Il(n);"string"==typeof s.redirectTo&&"/"===s.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const f=new jp(i,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ZN(s),ai(s),s.component??s._loadedComponent??null,s,YN(s)),p=Vp(f,a,this.paramsInheritanceStrategy);return f.params=Object.freeze(p.params),f.data=Object.freeze(p.data),this.applyRedirects.applyRedirectCommands(u,s.redirectTo,d,f,e).pipe(Ps(_=>this.applyRedirects.lineralizeSegments(s,_)),Sr(_=>this.processSegment(e,r,n,_.concat(h),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,s,i,o){const a=DW(n,r,s,e);return"**"===r.path&&(n.children={}),a.pipe(Ps(c=>c.matched?this.getChildConfig(e=r._injector??e,r,s).pipe(Ps(({routes:l})=>{const u=r._loadedInjector??e,{parameters:d,consumedSegments:h,remainingSegments:f}=c,p=new jp(h,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ZN(r),ai(r),r.component??r._loadedComponent??null,r,YN(r)),g=Vp(p,o,this.paramsInheritanceStrategy);p.params=Object.freeze(g.params),p.data=Object.freeze(g.data);const{segmentGroup:_,slicedSegments:m}=GN(n,h,f,l);if(0===m.length&&_.hasChildren())return this.processChildren(u,l,_,p).pipe(Ft(M=>new ci(p,M)));if(0===l.length&&0===m.length)return it(new ci(p,[]));const y=ai(r)===i;return this.processSegment(u,l,_,m,y?ht:i,!0,p).pipe(Ft(M=>new ci(p,M instanceof ci?[M]:[])))})):Il(n)))}getChildConfig(e,n,r){return n.children?it({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?it({routes:n._loadedRoutes,injector:n._loadedInjector}):function mW(t,e,n,r){const s=e.canLoad;return void 0===s||0===s.length?it(!0):it(s.map(o=>{const a=Sl(o,t);return _o(function nW(t){return t&&Ad(t.canLoad)}(a)?a.canLoad(e,n):xs(t,()=>a(e,n)))})).pipe(Ml(),$N())}(e,n,r).pipe(Sr(s=>s?this.configLoader.loadChildren(e,n).pipe(Mr(i=>{n._loadedRoutes=i.routes,n._loadedInjector=i.injector})):function vW(){return Tp(BN(!1,rs.GuardRejected))}())):it({routes:[],injector:e})}}function OW(t){const e=t.value.routeConfig;return e&&""===e.path}function WN(t){const e=[],n=new Set;for(const r of t){if(!OW(r)){e.push(r);continue}const s=e.find(i=>r.value.routeConfig===i.value.routeConfig);void 0!==s?(s.children.push(...r.children),n.add(s)):e.push(r)}for(const r of n){const s=WN(r.children);e.push(new ci(r.value,s))}return e.filter(r=>!n.has(r))}function ZN(t){return t.data||{}}function YN(t){return t.resolve||{}}function QN(t){const e=t.children.map(n=>QN(n)).flat();return[t,...e]}function Wb(t){return Ps(e=>{const n=t(e);return n?Tr(n).pipe(Ft(()=>e)):it(e)})}let KN=(()=>{class t{buildTitle(n){let r,s=n.root;for(;void 0!==s;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(i=>i.outlet===ht);return r}getResolvedTitleForRoute(n){return n.data[bd]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=_e({token:t,factory:()=>U(BW),providedIn:"root"})}return t})(),BW=(()=>{class t extends KN{title;constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(dt(W8))};static \u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const $p=new Y("",{providedIn:"root",factory:()=>({})}),Zb=new Y("");let XN=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=U(q4);loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return it(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const s=_o(xs(n,()=>r.loadComponent())).pipe(Ft(JN),Ps(ek),Mr(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Tb(()=>{this.componentLoaders.delete(r)})),i=new aN(s,()=>new yt).pipe(wb());return this.componentLoaders.set(r,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return it({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const i=function HW(t,e,n,r){return _o(xs(n,()=>t.loadChildren())).pipe(Ft(JN),Ps(ek),Sr(s=>s instanceof xS||Array.isArray(s)?it(s):Tr(e.compileModuleAsync(s))),Ft(s=>{r&&r(t);let i,o,a=!1;return Array.isArray(s)?(o=s,!0):(i=s.create(n).injector,o=i.get(Zb,[],{optional:!0,self:!0}).flat()),{routes:o.map(Ub),injector:i}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(Tb(()=>{this.childrenLoaders.delete(r)})),o=new aN(i,()=>new yt).pipe(wb());return this.childrenLoaders.set(r,o),o}static \u0275fac=function(r){return new(r||t)};static \u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function JN(t){return function UW(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}function ek(t){return it(t)}let Yb=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=_e({token:t,factory:()=>U(qW),providedIn:"root"})}return t})(),qW=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const $W=new Y(""),WW=new Y("");let ZW=(()=>{class t{currentNavigation=ao(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new yt;transitionAbortWithErrorSubject=new yt;configLoader=U(XN);environmentInjector=U(Fr);destroyRef=U(xi);urlSerializer=U(xp);rootContexts=U(Sd);location=U(gu);inputBindingEnabled=null!==U(Hb,{optional:!0});titleStrategy=U(KN);options=U($p,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=U(Yb);createViewTransition=U($W,{optional:!0});navigationErrorHandler=U(WW,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>it(void 0);rootComponentType=null;destroyed=!1;constructor(){this.configLoader.onLoadEndListener=s=>this.events.next(new A5(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new x5(s)),this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;on(()=>{this.transitions?.next({...n,extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r})})}setupNavigations(n){return this.transitions=new be(null),this.transitions.pipe(ea(r=>null!==r),Ps(r=>{let s=!1;return it(r).pipe(Ps(i=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",rs.SupersededByNewNavigation),oi;this.currentTransition=r,this.currentNavigation.set({id:i.id,initialUrl:i.rawUrl,extractedUrl:i.extractedUrl,targetBrowserUrl:"string"==typeof i.extras.browserUrl?this.urlSerializer.parse(i.extras.browserUrl):i.extras.browserUrl,trigger:i.source,extras:i.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null,abort:()=>i.abortController.abort()});const o=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!o&&"reload"!==(i.extras.onSameUrlNavigation??n.onSameUrlNavigation))return this.events.next(new Td(i.id,this.urlSerializer.serialize(i.rawUrl),"",kb.IgnoredSameUrlNavigation)),i.resolve(!1),oi;if(this.urlHandlingStrategy.shouldProcessUrl(i.rawUrl))return it(i).pipe(Ps(c=>(this.events.next(new Nb(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?oi:Promise.resolve(c))),function FW(t,e,n,r,s,i){return Sr(o=>function AW(t,e,n,r,s,i,o="emptyOnly"){return new kW(t,e,n,r,s,o,i).recognize()}(t,e,n,r,o.extractedUrl,s,i).pipe(Ft(({state:a,tree:c})=>({...o,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Mr(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation.update(u=>(u.finalUrl=c.urlAfterRedirects,u));const l=new NN(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}));if(o&&this.urlHandlingStrategy.shouldProcessUrl(i.currentRawUrl)){const{id:c,extractedUrl:l,source:u,restoredState:d,extras:h}=i,f=new Nb(c,this.urlSerializer.serialize(l),u,d);this.events.next(f);const p=ON(this.rootComponentType).snapshot;return this.currentTransition=r={...i,targetSnapshot:p,urlAfterRedirects:l,extras:{...h,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.update(g=>(g.finalUrl=l,g)),it(r)}return this.events.next(new Td(i.id,this.urlSerializer.serialize(i.extractedUrl),"",kb.IgnoredByUrlHandlingStrategy)),i.resolve(!1),oi}),Mr(i=>{const o=new T5(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot);this.events.next(o)}),Ft(i=>(this.currentTransition=r={...i,guards:K5(i.targetSnapshot,i.currentSnapshot,this.rootContexts)},r)),function cW(t,e){return Sr(n=>{const{targetSnapshot:r,currentSnapshot:s,guards:{canActivateChecks:i,canDeactivateChecks:o}}=n;return 0===o.length&&0===i.length?it({...n,guardsResult:!0}):function lW(t,e,n,r){return Tr(t).pipe(Sr(s=>function gW(t,e,n,r,s){const i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return i&&0!==i.length?it(i.map(a=>{const c=wl(e)??s,l=Sl(a,c);return _o(function iW(t){return t&&Ad(t.canDeactivate)}(l)?l.canDeactivate(t,e,n,r):xs(c,()=>l(t,e,n,r))).pipe(Xa())})).pipe(Ml()):it(!0)}(s.component,s.route,n,e,r)),Xa(s=>!0!==s,!0))}(o,r,s,t).pipe(Sr(a=>a&&function tW(t){return"boolean"==typeof t}(a)?function uW(t,e,n,r){return Tr(e).pipe(Mp(s=>Ep(function hW(t,e){return null!==t&&e&&e(new N5(t)),it(!0)}(s.route.parent,r),function dW(t,e){return null!==t&&e&&e(new R5(t)),it(!0)}(s.route,r),function pW(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(o=>function X5(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>Db(()=>it(o.guards.map(c=>{const l=wl(o.node)??n,u=Sl(c,l);return _o(function sW(t){return t&&Ad(t.canActivateChild)}(u)?u.canActivateChild(r,t):xs(l,()=>u(r,t))).pipe(Xa())})).pipe(Ml())));return it(i).pipe(Ml())}(t,s.path,n),function fW(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return it(!0);const s=r.map(i=>Db(()=>{const o=wl(e)??n,a=Sl(i,o);return _o(function rW(t){return t&&Ad(t.canActivate)}(a)?a.canActivate(e,t):xs(o,()=>a(e,t))).pipe(Xa())}));return it(s).pipe(Ml())}(t,s.route,n))),Xa(s=>!0!==s,!0))}(r,i,t,e):it(a)),Ft(a=>({...n,guardsResult:a})))})}(this.environmentInjector,i=>this.events.next(i)),Mr(i=>{if(r.guardsResult=i.guardsResult,i.guardsResult&&"boolean"!=typeof i.guardsResult)throw Bp(0,i.guardsResult);const o=new S5(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot,!!i.guardsResult);this.events.next(o)}),ea(i=>!!i.guardsResult||(this.cancelNavigationTransition(i,"",rs.GuardRejected),!1)),Wb(i=>{if(0!==i.guards.canActivateChecks.length)return it(i).pipe(Mr(o=>{const a=new M5(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),Ps(o=>{let a=!1;return it(o).pipe(function PW(t,e){return Sr(n=>{const{targetSnapshot:r,guards:{canActivateChecks:s}}=n;if(!s.length)return it(n);const i=new Set(s.map(c=>c.route)),o=new Set;for(const c of i)if(!o.has(c))for(const l of QN(c))o.add(l);let a=0;return Tr(o).pipe(Mp(c=>i.has(c)?function LW(t,e,n,r){const s=t.routeConfig,i=t._resolve;return void 0!==s?.title&&!LN(s)&&(i[bd]=s.title),Db(()=>(t.data=Vp(t,t.parent,n).resolve,function VW(t,e,n,r){const s=Sb(t);if(0===s.length)return it({});const i={};return Tr(s).pipe(Sr(o=>function jW(t,e,n,r){const s=wl(e)??r,i=Sl(t,s);return _o(i.resolve?i.resolve(e,n):xs(s,()=>i(e,n)))}(t[o],e,n,r).pipe(Xa(),Mr(a=>{if(a instanceof qb)throw Bp(new Ap,a);i[o]=a}))),Eb(1),Ft(()=>i),Cl(o=>qN(o)?oi:Tp(o)))}(i,t,e,r).pipe(Ft(o=>(t._resolvedData=o,t.data={...t.data,...o},null)))))}(c,r,t,e):(c.data=Vp(c,c.parent,t).resolve,it(void 0))),Mr(()=>a++),Eb(1),Sr(c=>a===o.size?it(n):oi))})}(this.paramsInheritanceStrategy,this.environmentInjector),Mr({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(o,"",rs.NoDataFromResolver)}}))}),Mr(o=>{const a=new I5(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}))}),Wb(i=>{const o=a=>{const c=[];if(a.routeConfig?.loadComponent){const l=wl(a)??this.environmentInjector;c.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(Mr(u=>{a.component=u}),Ft(()=>{})))}for(const l of a.children)c.push(...o(l));return c};return iN(o(i.targetSnapshot.root)).pipe(Sp(null),Jo(1))}),Wb(()=>this.afterPreactivation()),Ps(()=>{const{currentSnapshot:i,targetSnapshot:o}=r,a=this.createViewTransition?.(this.environmentInjector,i.root,o.root);return a?Tr(a).pipe(Ft(()=>r)):it(r)}),Ft(i=>{const o=function z5(t,e,n){const r=Md(t,e._root,n?n._root:void 0);return new RN(r,e)}(n.routeReuseStrategy,i.targetSnapshot,i.currentRouterState);return this.currentTransition=r={...i,targetRouterState:o},this.currentNavigation.update(a=>(a.targetRouterState=o,a)),r}),Mr(()=>{this.events.next(new Ob)}),((t,e,n,r)=>Ft(s=>(new Q5(e,s.targetRouterState,s.currentRouterState,n,r).activate(t),s)))(this.rootContexts,n.routeReuseStrategy,i=>this.events.next(i),this.inputBindingEnabled),Jo(1),lN(new Fe(i=>{const o=r.abortController.signal,a=()=>i.next();return o.addEventListener("abort",a),()=>o.removeEventListener("abort",a)}).pipe(ea(()=>!s&&!r.targetRouterState),Mr(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",rs.Aborted)}))),Mr({next:i=>{s=!0,this.lastSuccessfulNavigation=on(this.currentNavigation),this.events.next(new nc(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects))),this.titleStrategy?.updateTitle(i.targetRouterState.snapshot),i.resolve(!0)},complete:()=>{s=!0}}),lN(this.transitionAbortWithErrorSubject.pipe(Mr(i=>{throw i}))),Tb(()=>{s||this.cancelNavigationTransition(r,"",rs.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Cl(i=>{if(this.destroyed)return r.resolve(!1),oi;if(s=!0,HN(i))this.events.next(new rc(r.id,this.urlSerializer.serialize(r.extractedUrl),i.message,i.cancellationCode)),function Z5(t){return HN(t)&&tc(t.url)}(i)?this.events.next(new Lp(i.url,i.navigationBehaviorOptions)):r.resolve(!1);else{const o=new Rb(r.id,this.urlSerializer.serialize(r.extractedUrl),i,r.targetSnapshot??void 0);try{const a=xs(this.environmentInjector,()=>this.navigationErrorHandler?.(o));if(!(a instanceof qb))throw this.events.next(o),i;{const{message:c,cancellationCode:l}=Bp(0,a);this.events.next(new rc(r.id,this.urlSerializer.serialize(r.extractedUrl),c,l)),this.events.next(new Lp(a.redirectTo,a.navigationBehaviorOptions))}}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return oi}))}))}cancelNavigationTransition(n,r,s){const i=new rc(n.id,this.urlSerializer.serialize(n.extractedUrl),r,s);this.events.next(i),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=on(this.currentNavigation),s=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==s?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function YW(t){return t!==Pp}let QW=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=_e({token:t,factory:()=>U(XW),providedIn:"root"})}return t})();class KW{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let XW=(()=>{class t extends KW{static \u0275fac=(()=>{let n;return function(s){return(n||(n=ar(t)))(s||t)}})();static \u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),tk=(()=>{class t{urlSerializer=U(xp);options=U($p,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=U(gu);urlHandlingStrategy=U(Yb);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Ja;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:s}){const i=void 0!==n?this.urlHandlingStrategy.merge(n,r):r,o=s??i;return o instanceof Ja?this.urlSerializer.serialize(o):o}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:s}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,s),this.routerState=n):this.rawUrlTree=s}routerState=ON(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=_e({token:t,factory:()=>U(JW),providedIn:"root"})}return t})(),JW=(()=>{class t extends tk{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{"popstate"===r.type&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Nb?this.updateStateMemento():n instanceof Td?this.commitTransition(r):n instanceof NN?"eager"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Ob?(this.commitTransition(r),"deferred"===this.urlUpdateStrategy&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof rc&&n.code!==rs.SupersededByNewNavigation&&n.code!==rs.Redirect?this.restoreHistory(r):n instanceof Rb?this.restoreHistory(r,!0):n instanceof nc&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:s}){const{replaceUrl:i,state:o}=r;if(this.location.isCurrentPathEqualTo(n)||i){const a=this.browserPageId,c={...o,...this.generateNgRouterState(s,a)};this.location.replaceState(n,"",c)}else{const a={...o,...this.generateNgRouterState(s,this.browserPageId+1)};this.location.go(n,"",a)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-this.browserPageId;0!==i?this.location.historyGo(i):this.getCurrentUrlTree()===n.finalUrl&&0===i&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(s){return(n||(n=ar(t)))(s||t)}})();static \u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const t6={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},n6={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let xl=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=U(fM);stateManager=U(tk);options=U($p,{optional:!0})||{};pendingTasks=U(Lo);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=U(ZW);urlSerializer=U(xp);location=U(gu);urlHandlingStrategy=U(Yb);injector=U(Fr);_events=new yt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=U(QW);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=U(Zb,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!U(Hb,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new tr;subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const s=this.navigationTransitions.currentTransition,i=on(this.navigationTransitions.currentNavigation);if(null!==s&&null!==i)if(this.stateManager.handleRouterEvent(r,i),r instanceof rc&&r.code!==rs.Redirect&&r.code!==rs.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof nc)this.navigated=!0;else if(r instanceof Lp){const o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),c={browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||"eager"===this.urlUpdateStrategy||YW(s.source),...o};this.scheduleNavigation(a,Pp,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}(function F5(t){return!(t instanceof Ob||t instanceof Lp)})(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortWithErrorSubject.next(s)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Pp,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,s)=>{this.navigateToSyncWithBrowser(n,s,r)})}navigateToSyncWithBrowser(n,r,s){const i={replaceUrl:!0},o=s?.navigationId?s:null;if(s){const c={...s};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(i.state=c)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,i).catch(c=>{this.disposed||this.injector.get(ti)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return on(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Ub),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:s,queryParams:i,fragment:o,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:o;let d,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u={...this.currentUrlTree.queryParams,...i};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=i||null}null!==u&&(u=this.removeEmptyProps(u));try{d=EN(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||"/"!==n[0][0])&&(n=[]),d=this.currentUrlTree.root}return TN(d,n,u,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){const s=tc(n)?n:this.parseUrl(n),i=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(i,Pp,null,r)}navigate(n,r={skipLocationChange:!1}){return function r6(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new T(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let s;if(s=!0===r?{...t6}:!1===r?{...n6}:r,tc(n))return gN(this.currentUrlTree,n,s);const i=this.parseUrl(n);return gN(this.currentUrlTree,i,s)}removeEmptyProps(n){return Object.entries(n).reduce((r,[s,i])=>(null!=i&&(r[s]=i),r),{})}scheduleNavigation(n,r,s,i,o){if(this.disposed)return Promise.resolve(!1);let a,c,l;o?(a=o.resolve,c=o.reject,l=o.promise):l=new Promise((d,h)=>{a=d,c=h});const u=this.pendingTasks.add();return function e6(t,e){t.events.pipe(ea(n=>n instanceof nc||n instanceof rc||n instanceof Rb||n instanceof Td),Ft(n=>n instanceof nc||n instanceof Td?0:n instanceof rc&&(n.code===rs.Redirect||n.code===rs.SupersededByNewNavigation)?2:1),ea(n=>2!==n),Jo(1)).subscribe(()=>{e()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:i,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Kb=new Y("");function rk(t){return t.routerState.root}function sk(){const t=U(_s);return e=>{const n=t.get(po);if(e!==n.components[0])return;const r=t.get(xl),s=t.get(ik);1===t.get(Xb)&&r.initialNavigation(),t.get(ok,null,{optional:!0})?.setUpPreloading(),t.get(Kb,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}const ik=new Y("",{factory:()=>new yt}),Xb=new Y("",{providedIn:"root",factory:()=>1}),ok=new Y(""),f6={providers:[function W4(t){const e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=Qv({ngZoneFactory:()=>{const s=Kv(t);return s.scheduleInRootZone=n,s.shouldCoalesceEventChangeDetection&&Er("NgZone_CoalesceEvent"),new Rt(s)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return wh([{provide:G4,useValue:!0},{provide:c_,useValue:!1},r])}({eventCoalescing:!0}),function c6(t,...e){return wh([{provide:Zb,multi:!0,useValue:t},[],{provide:Tl,useFactory:rk,deps:[xl]},{provide:kM,multi:!0,useFactory:sk},e.map(n=>n.\u0275providers)])}([])]};let ck=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(z(fo),z(ys))};static \u0275dir=Ye({type:t})}return t})(),sc=(()=>{class t extends ck{static \u0275fac=(()=>{let n;return function(s){return(n||(n=ar(t)))(s||t)}})();static \u0275dir=Ye({type:t,features:[zt]})}return t})();const Pi=new Y(""),g6={provide:Pi,useExisting:H(()=>zp),multi:!0};let zp=(()=>{class t extends sc{writeValue(n){this.setProperty("checked",n)}static \u0275fac=(()=>{let n;return function(s){return(n||(n=ar(t)))(s||t)}})();static \u0275dir=Ye({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,s){1&r&&Ie("change",function(o){return s.onChange(o.target.checked)})("blur",function(){return s.onTouched()})},standalone:!1,features:[mn([g6]),zt]})}return t})();const m6={provide:Pi,useExisting:H(()=>Gp),multi:!0},y6=new Y("");let Gp=(()=>{class t extends ck{_compositionMode;_composing=!1;constructor(n,r,s){super(n,r),this._compositionMode=s,null==this._compositionMode&&(this._compositionMode=!function _6(){const t=Vo()?Vo().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(z(fo),z(ys),z(y6,8))};static \u0275dir=Ye({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){1&r&&Ie("input",function(o){return s._handleInput(o.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(o){return s._compositionEnd(o.target.value)})},standalone:!1,features:[mn([m6]),zt]})}return t})();const Ir=new Y(""),na=new Y("");function _k(t){return null!=t}function yk(t){return id(t)?Tr(t):t}function vk(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function bk(t,e){return e.map(n=>n(t))}function Ck(t){return t.map(e=>function b6(t){return!t.validate}(e)?e:n=>e.validate(n))}function tC(t){return null!=t?function Dk(t){if(!t)return null;const e=t.filter(_k);return 0==e.length?null:function(n){return vk(bk(n,e))}}(Ck(t)):null}function nC(t){return null!=t?function wk(t){if(!t)return null;const e=t.filter(_k);return 0==e.length?null:function(n){return function p6(...t){const e=tN(t),{args:n,keys:r}=nN(t),s=new Fe(i=>{const{length:o}=n;if(!o)return void i.complete();const a=new Array(o);let c=o,l=o;for(let u=0;u<o;u++){let d=!1;ii(n[u]).subscribe(Hn(i,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||i.next(r?sN(r,a):a),i.complete())}))}});return e?s.pipe(rN(e)):s}(bk(n,e).map(yk)).pipe(Ft(vk))}}(Ck(t)):null}function Ek(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function rC(t){return t?Array.isArray(t)?t:[t]:[]}function Zp(t,e){return Array.isArray(t)?t.includes(e):t===e}function Mk(t,e){const n=rC(e);return rC(t).forEach(s=>{Zp(n,s)||n.push(s)}),n}function Ik(t,e){return rC(e).filter(n=>!Zp(t,n))}class xk{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=tC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=nC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Hr extends xk{name;get formDirective(){return null}get path(){return null}}class ra extends xk{_parent=null;name=null;valueAccessor=null}class Ak{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let sC=(()=>{class t extends Ak{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(z(ra,2))};static \u0275dir=Ye({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){2&r&&gr("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},standalone:!1,features:[zt]})}return t})();const Nd="VALID",Qp="INVALID",Al="PENDING",kd="DISABLED";class Nl{}class kk extends Nl{value;source;constructor(e,n){super(),this.value=e,this.source=n}}class aC extends Nl{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}}class cC extends Nl{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}}class Kp extends Nl{status;source;constructor(e,n){super(),this.status=e,this.source=n}}class lC extends Nl{source;constructor(e){super(),this.source=e}}function Xp(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class hC{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return on(this.statusReactive)}set status(e){on(()=>this.statusReactive.set(e))}_status=si(()=>this.statusReactive());statusReactive=ao(void 0);get valid(){return this.status===Nd}get invalid(){return this.status===Qp}get pending(){return this.status==Al}get disabled(){return this.status===kd}get enabled(){return this.status!==kd}errors;get pristine(){return on(this.pristineReactive)}set pristine(e){on(()=>this.pristineReactive.set(e))}_pristine=si(()=>this.pristineReactive());pristineReactive=ao(!0);get dirty(){return!this.pristine}get touched(){return on(this.touchedReactive)}set touched(e){on(()=>this.touchedReactive.set(e))}_touched=si(()=>this.touchedReactive());touchedReactive=ao(!1);get untouched(){return!this.touched}_events=new yt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Mk(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Mk(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Ik(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Ik(e,this._rawAsyncValidators))}hasValidator(e){return Zp(this._rawValidators,e)}hasAsyncValidator(e){return Zp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){const n=!1===this.touched;this.touched=!0;const r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched({...e,sourceControl:r}),n&&!1!==e.emitEvent&&this._events.next(new cC(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){const n=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const r=e.sourceControl??this;this._forEachChild(s=>{s.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&!1!==e.emitEvent&&this._events.next(new cC(!1,r))}markAsDirty(e={}){const n=!0===this.pristine;this.pristine=!1;const r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty({...e,sourceControl:r}),n&&!1!==e.emitEvent&&this._events.next(new aC(!1,r))}markAsPristine(e={}){const n=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const r=e.sourceControl??this;this._forEachChild(s=>{s.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&!1!==e.emitEvent&&this._events.next(new aC(!0,r))}markAsPending(e={}){this.status=Al;const n=e.sourceControl??this;!1!==e.emitEvent&&(this._events.next(new Kp(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending({...e,sourceControl:n})}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=kd,this.errors=null,this._forEachChild(s=>{s.disable({...e,onlySelf:!0})}),this._updateValue();const r=e.sourceControl??this;!1!==e.emitEvent&&(this._events.next(new kk(this.value,r)),this._events.next(new Kp(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n},this),this._onDisabledChange.forEach(s=>s(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Nd,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n},this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Nd||this.status===Al)&&this._runAsyncValidator(r,e.emitEvent)}const n=e.sourceControl??this;!1!==e.emitEvent&&(this._events.next(new kk(this.value,n)),this._events.next(new Kp(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity({...e,sourceControl:n})}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?kd:Nd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Al,this._hasOwnPendingAsyncValidator={emitEvent:!1!==n,shouldHaveEmitted:!1!==e};const r=yk(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(s=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(s,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent,this,n.shouldHaveEmitted)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,s)=>r&&r._find(s),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Kp(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Un,this.statusChanges=new Un}_calculateStatus(){return this._allControlsDisabled()?kd:this.errors?Qp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Al)?Al:this._anyControlsHaveStatus(Qp)?Qp:Nd}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){const r=!this._anyControlsDirty(),s=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),s&&this._events.next(new aC(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new cC(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Xp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function I6(t){return Array.isArray(t)?tC(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function x6(t){return Array.isArray(t)?nC(t):t||null}(this._rawAsyncValidators)}}const kl=new Y("",{providedIn:"root",factory:()=>Jp}),Jp="always";function Rd(t,e,n=Jp){(function pC(t,e){const n=function Tk(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(Ek(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function Sk(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(Ek(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const s=()=>t.updateValueAndValidity();ng(e._rawValidators,s),ng(e._rawAsyncValidators,s)})(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function k6(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Pk(t,e)})}(t,e),function O6(t,e){const n=(r,s)=>{e.valueAccessor.writeValue(r),s&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function R6(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Pk(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function N6(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function ng(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Pk(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function jk(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function Bk(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}Promise.resolve();const Hk=class extends hC{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(function uC(t){return(Xp(t)?t.validators:t)||null}(n),function dC(t,e){return(Xp(e)?e.asyncValidators:t)||null}(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Xp(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=Bk(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1,!1!==n?.emitEvent&&this._events.next(new lC(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){jk(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){jk(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Bk(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},$6={provide:ra,useExisting:H(()=>ag)},Uk=Promise.resolve();let ag=(()=>{class t extends ra{_changeDetectorRef;callSetDisabledState;control=new Hk;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Un;constructor(n,r,s,i,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=function _C(t,e){if(!e)return null;let n,r,s;return Array.isArray(e),e.forEach(i=>{i.constructor===Gp?n=i:function L6(t){return Object.getPrototypeOf(t.constructor)===sc}(i)?r=i:s=i}),s||r||n||null}(0,i)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function mC(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Rd(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){Uk.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,s=0!==r&&function bl(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(r);Uk.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function eg(t,e){return[...e.path,t]}(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(z(Hr,9),z(Ir,10),z(na,10),z(Pi,10),z(vl,8),z(kl,8))};static \u0275dir=Ye({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[mn([$6]),zt,ks]})}return t})();const W6={provide:Pi,useExisting:H(()=>yC),multi:!0};let Z6=(()=>{class t{_accessors=[];add(n,r){this._accessors.push([n,r])}remove(n){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===n)return void this._accessors.splice(r,1)}select(n){this._accessors.forEach(r=>{this._isSameGroup(r,n)&&r[1]!==n&&r[1].fireUncheck(n.value)})}_isSameGroup(n,r){return!!n[0].control&&n[0]._parent===r._control._parent&&n[1].name===r.name}static \u0275fac=function(r){return new(r||t)};static \u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),yC=(()=>{class t extends sc{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=U(kl,{optional:!0})??Jp;constructor(n,r,s,i){super(n,r),this._registry=s,this._injector=i}ngOnInit(){this._control=this._injector.get(ra),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(n){this._state=n===this.value,this.setProperty("checked",this._state)}registerOnChange(n){this._fn=n,this.onChange=()=>{n(this.value),this._registry.select(this)}}setDisabledState(n){(this.setDisabledStateFired||n||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",n),this.setDisabledStateFired=!0}fireUncheck(n){this.writeValue(n)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(r){return new(r||t)(z(fo),z(ys),z(Z6),z(_s))};static \u0275dir=Ye({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,s){1&r&&Ie("change",function(){return s.onChange()})("blur",function(){return s.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[mn([W6]),zt]})}return t})();const t9={provide:Pi,useExisting:H(()=>ug),multi:!0};function Yk(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let ug=(()=>{class t extends sc{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;appRefInjector=U(po).injector;destroyRef=U(xi);cdr=U(vl);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,rM({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(n){this.cdr.markForCheck(),this.value=n;const s=Yk(this._getOptionId(n),n);this.setProperty("value",s)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function n9(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(s){return(n||(n=ar(t)))(s||t)}})();static \u0275dir=Ye({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,s){1&r&&Ie("change",function(o){return s.onChange(o.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[mn([t9]),zt]})}return t})(),Qk=(()=>{class t{_element;_renderer;_select;id;constructor(n,r,s){this._element=n,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(Yk(this.id,n)),this._select._writeValueAfterRender())}set value(n){this._setElementValue(n),this._select&&this._select._writeValueAfterRender()}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||t)(z(ys),z(fo),z(ug,9))};static \u0275dir=Ye({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();const r9={provide:Pi,useExisting:H(()=>vC),multi:!0};function Kk(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let vC=(()=>{class t extends sc{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){let r;if(this.value=n,Array.isArray(n)){const s=n.map(i=>this._getOptionId(i));r=(i,o)=>{i._setSelected(s.indexOf(o.toString())>-1)}}else r=(s,i)=>{s._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const s=[],i=r.selectedOptions;if(void 0!==i){const o=i;for(let a=0;a<o.length;a++){const l=this._getOptionValue(o[a].value);s.push(l)}}else{const o=r.options;for(let a=0;a<o.length;a++){const c=o[a];if(c.selected){const l=this._getOptionValue(c.value);s.push(l)}}}this.value=s,n(s)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function s9(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(s){return(n||(n=ar(t)))(s||t)}})();static \u0275dir=Ye({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,s){1&r&&Ie("change",function(o){return s.onChange(o.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[mn([r9]),zt]})}return t})(),Xk=(()=>{class t{_element;_renderer;_select;id;_value;constructor(n,r,s){this._element=n,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(Kk(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(Kk(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(z(ys),z(fo),z(vC,9))};static \u0275dir=Ye({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),f9=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Ju({type:t});static \u0275inj=Ss({})}return t})(),c1=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:kl,useValue:n.callSetDisabledState??Jp}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Ju({type:t});static \u0275inj=Ss({imports:[f9]})}return t})();class e7{$implicit;ngForOf;index;count;constructor(e,n,r,s){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let NC=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,s){this._viewContainer=n,this._template=r,this._differs=s}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((s,i,o)=>{if(null==s.previousIndex)r.createEmbeddedView(this._template,new e7(s.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===i?void 0:i);else if(null!==i){const a=r.get(i);r.move(a,o),v1(a,s)}});for(let s=0,i=r.length;s<i;s++){const a=r.get(s).context;a.index=s,a.count=i,a.ngForOf=this._ngForOf}n.forEachIdentityChange(s=>{v1(r.get(s.currentIndex),s)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(z(ri),z(ho),z(rb))};static \u0275dir=Ye({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function v1(t,e){t.context.$implicit=e.item}let kC=(()=>{class t{_viewContainer;_context=new t7;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){b1(n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){b1(n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(z(ri),z(ho))};static \u0275dir=Ye({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})();class t7{$implicit=null;ngIf=null}function b1(t,e){if(t&&!t.createEmbeddedView)throw new T(2020,!1)}let D1=(()=>{class t{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(n,r,s){this._ngEl=n,this._differs=r,this._renderer=s}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){const n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,r){const[s,i]=n.split("."),o=-1===s.indexOf("-")?void 0:qo.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,s,i?`${r}${i}`:r,o):this._renderer.removeStyle(this._ngEl.nativeElement,s,o)}_applyChanges(n){n.forEachRemovedItem(r=>this._setStyle(r.key,null)),n.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),n.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||t)(z(ys),z(_p),z(fo))};static \u0275dir=Ye({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return t})(),w1=(()=>{class t{differs;constructor(n){this.differs=n}differ;keyValues=[];compareFn=E1;transform(n,r=E1){if(!n||!(n instanceof Map)&&"object"!=typeof n)return null;this.differ??=this.differs.find(n).create();const s=this.differ.diff(n),i=r!==this.compareFn;return s&&(this.keyValues=[],s.forEachItem(o=>{this.keyValues.push(function D7(t,e){return{key:t,value:e}}(o.key,o.currentValue))})),(s||i)&&(r&&this.keyValues.sort(r),this.compareFn=r),this.keyValues}static \u0275fac=function(r){return new(r||t)(z(_p,16))};static \u0275pipe=Jr({name:"keyvalue",type:t,pure:!1})}return t})();function E1(t,e){const n=t.key,r=e.key;if(n===r)return 0;if(null==n)return 1;if(null==r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;const s=String(n),i=String(r);return s==i?0:s<i?-1:1}let T1=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Ju({type:t});static \u0275inj=Ss({})}return t})();const S7=["alphaTabContainer"];function M7(t,e){if(1&t&&(V(0,"div",23)(1,"span",24),X(2),P()()),2&t){const n=K(2);F(2),vs(n.formatPosition(n.playbackPosition))}}function I7(t,e){if(1&t){const n=Dn();V(0,"div",12)(1,"button",13),Ie("click",function(){return je(n),Be(K().togglePlayback())}),X(2),P(),V(3,"button",14),Ie("click",function(){return je(n),Be(K().stop())}),X(4,"\u23f9\ufe0f"),P(),V(5,"div",15)(6,"label"),X(7),P(),V(8,"input",16),Ie("input",function(s){return je(n),Be(K().setTempo(s))}),P()(),V(9,"div",17)(10,"label",18)(11,"input",19),Cs("ngModelChange",function(s){je(n);const i=K();return Os(i.autoScrollEnabled,s)||(i.autoScrollEnabled=s),Be(s)}),Ie("change",function(){return je(n),Be(K().toggleAutoScroll())}),P(),X(12," Auto Scroll "),P()(),V(13,"div",20)(14,"label",21)(15,"input",19),Cs("ngModelChange",function(s){je(n);const i=K();return Os(i.loopEnabled,s)||(i.loopEnabled=s),Be(s)}),Ie("change",function(){return je(n),Be(K().toggleLoop())}),P(),X(16," Loop Selection "),P()(),Pt(17,M7,3,1,"div",22),P()}if(2&t){const n=K();F(2),mr(" ",n.isPlaying?"\u23f8\ufe0f":"\u25b6\ufe0f"," "),F(5),mr("Tempo: ",n.currentTempo,"%"),F(),Oe("value",n.currentTempo),F(3),bs("ngModel",n.autoScrollEnabled),F(4),bs("ngModel",n.loopEnabled),F(2),Oe("ngIf",n.playbackPosition)}}function x7(t,e){if(1&t&&(V(0,"div",48)(1,"small"),X(2),P()()),2&t){const n=K().$implicit;F(2),mr("Channel: ",(null==n.channel?null:n.channel.channel1)||"N/A")}}function A7(t,e){if(1&t){const n=Dn();V(0,"div",38)(1,"div",39),Ie("click",function(){const s=je(n).$implicit;return Be(K(2).toggleTrackSelection(s.index))}),V(2,"div",40),cr(3,"div",41),V(4,"span",42),X(5),P()(),V(6,"div",43),Ie("click",function(s){return je(n),Be(s.stopPropagation())}),V(7,"button",44),Ie("click",function(){const s=je(n).$implicit;return Be(K(2).toggleMute(s.index))}),X(8," \u{1f507} "),P(),V(9,"button",45),Ie("click",function(){const s=je(n).$implicit;return Be(K(2).toggleSolo(s.index))}),X(10," \u{1f3af} "),P(),V(11,"button",46),Ie("click",function(){const s=je(n).$implicit;return Be(K(2).toggleTrackVisibility(s.index))}),X(12," \u{1f441}\ufe0f "),P()()(),Pt(13,x7,3,1,"div",47),P()}if(2&t){const n=e.$implicit,r=K(2);gr("selected",r.selectedTracks.includes(n.index)),F(3),Vv("background-color",n.color),F(2),vs(n.name||n.shortName||"Track "+(n.index+1)),F(2),gr("active",n.isMute),F(2),gr("active",n.isSolo),F(2),gr("active",n.isVisible),F(2),Oe("ngIf",r.selectedTracks.includes(n.index))}}function N7(t,e){if(1&t){const n=Dn();V(0,"div",25)(1,"div",26)(2,"h3"),X(3),P(),V(4,"div",27),Pt(5,A7,14,12,"div",28),P(),V(6,"div",29)(7,"button",30),Ie("click",function(){return je(n),Be(K().selectAllTracks())}),X(8,"Select All"),P(),V(9,"button",30),Ie("click",function(){return je(n),Be(K().deselectAllTracks())}),X(10,"Deselect All"),P(),V(11,"button",30),Ie("click",function(){return je(n),Be(K().muteAllTracks())}),X(12,"Mute All"),P(),V(13,"button",30),Ie("click",function(){return je(n),Be(K().unmuteAllTracks())}),X(14,"Unmute All"),P()()(),V(15,"div",31)(16,"div",32,1)(18,"div",33)(19,"div",34),X(20," Music sheet is loading "),P()(),V(21,"div",35)(22,"div",36),cr(23,"div",37),P()()()()()}if(2&t){const n=K();F(3),mr("Tracks (",n.tracks.length,")"),F(2),Oe("ngForOf",n.tracks)("ngForTrackBy",n.trackByIndex)}}function k7(t,e){1&t&&(V(0,"div",49),cr(1,"div",50),V(2,"p"),X(3,"Loading Guitar Pro file..."),P()())}function R7(t,e){1&t&&(V(0,"div",51)(1,"h2"),X(2,"Welcome to Guitar Pro Player!"),P(),V(3,"p"),X(4,"Load a Guitar Pro file (.gp, .gp3, .gp4, .gp5, .gpx, .gp6) to get started."),P(),V(5,"ul")(6,"li"),X(7,"\u2728 Multi-track support with individual controls"),P(),V(8,"li"),X(9,"\u{1f3b5} Playback with tempo control"),P(),V(10,"li"),X(11,"\u{1f3bc} Interactive score visualization"),P(),V(12,"li"),X(13,"\u{1f507} Mute/Solo individual tracks"),P(),V(14,"li"),X(15,"\u{1f441}\ufe0f Show/Hide tracks in the score"),P()()())}let O7=(()=>{class t{alphaTabContainer;api;score;isLoaded=!1;isLoading=!1;isPlaying=!1;currentTempo=100;tracks=[];selectedTracks=[];autoScrollEnabled=!0;playbackPosition=null;loopEnabled=!1;ngAfterViewInit(){this.loadAlphaTab()}ngOnDestroy(){this.api&&this.api.destroy()}loadAlphaTab(){if(typeof alphaTab>"u"){const n=document.createElement("script");n.src="assets/alphaTab17.min.js",n.onload=()=>{},document.head.appendChild(n)}}initializeAlphaTab(){const n={core:{engine:"html5",logLevel:1,fontDirectory:"assets/fonts/"},display:{staveProfile:"Default",resources:{}},notation:{notationMode:"GuitarPro",fingeringMode:"SingleNoteEffectBand",elements:{scoreTitle:!1,scoreWordsAndMusic:!1,effectTempo:!0,guitarTuning:!1}},player:{enablePlayer:!0,soundFont:"assets/sound_fonts/sonivox.sf2",scrollMode:alphaTab.ScrollMode.OffScreen,enableCursor:!0,scrollElement:this.alphaTabContainer.nativeElement,enableElementHighlighting:!0,enableUserInteraction:!0,enableAnimatedBeatCursor:!0,scrollSpeed:400},midiEventsPlayedFilter:[alphaTab.midi.MidiEventType.NoteOn,alphaTab.midi.MidiEventType.NoteOff,alphaTab.midi.MidiEventType.AlphaTabMetronome]};this.api=new alphaTab.AlphaTabApi(this.alphaTabContainer.nativeElement,n),this.api.beatMouseDown.on(s=>{this.startSelectionOnBeat(s)});const r=this.alphaTabContainer.nativeElement.querySelector(".at-overlay");this.api.renderStarted.on(()=>{r.style.display="flex"}),this.api.renderFinished.on(()=>{r.style.display="none"}),this.api.scoreLoaded.on(s=>{this.onScoreLoaded(s)}),this.api.playerReady.on(()=>{console.log("Player ready")}),this.api.playerStateChanged.on(s=>{this.isPlaying=1===s.state}),this.api.playerPositionChanged.on(s=>{this.playbackPosition=s?{currentTick:s.currentTick,endTick:s.endTick,currentTimeMillis:s.currentTime,endTimeMillis:s.endTime,isLooping:s.isLooping||!1}:null}),this.api.midiEventsPlayed.on(s=>{console.log("MIDI Events Played:    ",s);const{midiEvents:i}=s;for(const o of i)144===o.command&&o.data1>0&&this.getFretAndString(o.note,this.api.score.tracks[0])}),this.api.midiLoad.on(s=>{console.log("MIDI events generated:",s.midiData)}),this.api.playbackRangeChanged.on(s=>{console.log("Playback range changed:",s),this.autoScrollEnabled&&this.isPlaying&&this.scrollToCurrentPosition(s)}),this.api.playedBeatChanged.on(s=>{this.autoScrollEnabled&&this.isPlaying&&this.highlightCurrentBeat(s),s&&s.notes&&s.notes.forEach(i=>{console.log(`playedBeatChanged Note:  Fret: ${i.fret}, String: ${i.string}`)})})}onFileSelected(n){const r=n.target.files[0];r&&this.loadFile(r)}loadFile(n){this.isLoading=!0,this.isLoaded=!1;const r=new FileReader;r.onload=s=>{const i=s.target?.result;try{this.isLoaded=!0,setTimeout(()=>{this.alphaTabContainer&&this.alphaTabContainer.nativeElement&&(console.log("Element is now in the DOM:",this.alphaTabContainer.nativeElement),this.initializeAlphaTab(),this.api.load(new Uint8Array(i)))},0)}catch(o){console.error("Error loading file:",o),alert("Error loading file. Please make sure it's a valid Guitar Pro file."),this.isLoading=!1}},r.onerror=()=>{alert("Error reading file."),this.isLoading=!1},r.readAsArrayBuffer(n)}onScoreLoaded(n){this.score=n,this.isLoading=!1,this.isLoaded=!0,this.initializeTracks(),this.tracks.length>0&&(this.selectedTracks=[0],this.tracks.forEach((r,s)=>{r.isVisible=0===s,r.isSolo=0===s,r.isMute=0!==s}),this.updateTrackVisibility(),this.updateTrackPlayback())}initializeTracks(){this.tracks=this.score.tracks.map((n,r)=>({index:r,name:n.name,shortName:n.shortName,color:this.getTrackColor(r),channel:n.playbackInfo,isVisible:!0,isMute:!1,isSolo:!1,score:n.score,playbackInfo:n.playbackInfo,fretCount:n,tuning:n.tuning})),console.log("Initialized tracks:",this.tracks),this.updateTrackVisibility(),this.toggleTrackSelection(0)}getTrackColor(n){const r=["#e74c3c","#3498db","#2ecc71","#f39c12","#9b59b6","#1abc9c","#e67e22","#34495e","#f1c40f","#e91e63"];return r[n%r.length]}togglePlayback(){this.isPlaying?this.api.pause():this.api.play()}stop(){this.api.stop(),this.playbackPosition=null}setTempo(n){const r=parseInt(n.target.value);this.currentTempo=r,this.api.playbackSpeed=r/100}toggleAutoScroll(){this.autoScrollEnabled||this.resetScrollPosition()}formatPosition(n){const r=Math.floor(n.currentTimeMillis/6e4),s=Math.floor(n.currentTimeMillis%6e4/1e3),i=Math.floor(n.endTimeMillis/6e4),o=Math.floor(n.endTimeMillis%6e4/1e3),a=(c,l)=>`${c}:${l.toString().padStart(2,"0")}`;return`${a(r,s)} / ${a(i,o)}`}scrollToCurrentPosition(n){const s=this.alphaTabContainer.nativeElement.querySelectorAll(".at-cursor-beat");if(s.length>0){const i=s[0];i&&i.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}}highlightCurrentBeat(n){const r=this.alphaTabContainer.nativeElement;r.querySelectorAll(".current-beat-highlight").forEach(o=>{o.classList.remove("current-beat-highlight")}),r.querySelectorAll(`[data-beat-id="${n.id}"]`).forEach(o=>{o.classList.add("current-beat-highlight")})}resetScrollPosition(){const n=this.alphaTabContainer.nativeElement;n&&n.scrollTo({top:0,left:0,behavior:"smooth"})}toggleTrackSelection(n){this.selectedTracks=[n],this.tracks.forEach((r,s)=>{r.isVisible=s===n,r.isSolo=s===n,r.isMute=s!==n}),this.updateTrackVisibility(),this.updateTrackPlayback()}toggleMute(n){const r=this.tracks[n];r.isMute=!r.isMute,r.isSolo&&(r.isSolo=!1),this.updateTrackPlayback()}toggleSolo(n){const r=this.tracks[n];r.isSolo=!r.isSolo,r.isMute&&(r.isMute=!1);const s=this.tracks.some(i=>i.isSolo);this.tracks.forEach(i=>{i.index!==n&&s?i.isMute=!i.isSolo:s||(i.isMute=!1)}),this.updateTrackPlayback()}toggleTrackVisibility(n){const r=this.tracks[n];r.isVisible=!r.isVisible,this.updateTrackVisibility()}updateTrackPlayback(){this.tracks.forEach((n,r)=>{const s=!n.isSolo;n.isMute=s;try{this.api.changeTrackMute([r],s)}catch(i){console.warn(`Could not mute track ${r}:`,i)}})}updateTrackVisibility(){const n=this.tracks.filter(r=>r.isVisible);try{console.log("successfully updated track visibility:",this.tracks),this.api.renderTracks(n)}catch(r){console.warn("Could not update track visibility:",r)}}selectAllTracks(){this.selectedTracks=this.tracks.map(n=>n.index)}deselectAllTracks(){this.selectedTracks=[]}muteAllTracks(){this.tracks.forEach(n=>{n.isMute=!0,n.isSolo=!1}),this.updateTrackPlayback()}unmuteAllTracks(){this.tracks.forEach(n=>{n.isMute=!1,n.isSolo=!1}),this.updateTrackPlayback()}trackByIndex(n,r){return r.index}startSelectionOnBeat(n){this.api.selection&&n&&(this.api.selection.clear(),this.api.selection.add(n.masterBar.score.tracks[0],n.voice,n),this.api.render())}getFretAndString(n,r){const s=r.tuning;for(let i=s.length-1;i>=0;i--){const o=s[i];if(n>=o){const a=n-o;if(a<=r.fretCount)return{string:i+1,fret:a}}}return null}toggleLoop(){this.api&&this.api.player&&(this.api.player.isLooping=this.loopEnabled)}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Xu({type:t,selectors:[["guitar-pro"]],viewQuery:function(r,s){if(1&r&&function MI(t,e,n){bS(t,e,n)}(S7,5),2&r){let i;(function Rv(t){const e=O(),n=ct(),r=s_();kh(r+1);const s=zy(n,r);if(t.dirty&&function IF(t){return!(4&~t[2])}(e)===!(2&~s.metadata.flags)){if(null===s.matches)t.reset([]);else{const i=wS(e,r);t.reset(i,TE),t.notifyOnChanges()}return!0}return!1})(i=function Ov(){return function $y(t,e){return t[18].queries[e].queryList}(O(),s_())}())&&(s.alphaTabContainer=i.first)}},decls:16,vars:4,consts:[["fileInput",""],["alphaTabContainer",""],[1,"guitar-pro-player"],[1,"header"],[1,"controls-section"],[1,"file-controls"],["type","file","accept",".gp,.gp3,.gp4,.gp5,.gpx,.gp6",1,"file-input",3,"change"],[1,"load-btn",3,"click"],["class","playback-controls",4,"ngIf"],["class","main-content",4,"ngIf"],["class","loading",4,"ngIf"],["class","welcome",4,"ngIf"],[1,"playback-controls"],[1,"play-btn",3,"click"],[1,"stop-btn",3,"click"],[1,"tempo-control"],["type","range","min","25","max","200","step","5",1,"tempo-slider",3,"input","value"],[1,"scroll-control"],[1,"scroll-label"],["type","checkbox",3,"ngModelChange","change","ngModel"],[1,"loop-control"],[1,"loop-label"],["class","position-info",4,"ngIf"],[1,"position-info"],[1,"position-text"],[1,"main-content"],[1,"tracks-panel"],[1,"track-list"],["class","track-item",3,"selected",4,"ngFor","ngForOf","ngForTrackBy"],[1,"track-actions"],[1,"action-btn",3,"click"],[1,"score-container"],[1,"alphatab-container"],[1,"at-overlay"],[1,"at-overlay-content"],[1,"at-content"],[1,"at-viewport"],[1,"at-main"],[1,"track-item"],[1,"track-header",3,"click"],[1,"track-info"],[1,"track-color"],[1,"track-name"],[1,"track-controls",3,"click"],["title","Mute",1,"track-btn","mute-btn",3,"click"],["title","Solo",1,"track-btn","solo-btn",3,"click"],["title","Show/Hide",1,"track-btn","visibility-btn",3,"click"],["class","track-details",4,"ngIf"],[1,"track-details"],[1,"loading"],[1,"spinner"],[1,"welcome"]],template:function(r,s){if(1&r){const i=Dn();V(0,"div",2)(1,"header",3)(2,"h1"),X(3,"\u{1f3b8} Guitar Pro Player"),P(),V(4,"p"),X(5,"Load and play Guitar Pro files with multiple track support"),P()(),V(6,"div",4)(7,"div",5)(8,"input",6,0),Ie("change",function(a){return je(i),Be(s.onFileSelected(a))}),P(),V(10,"button",7),Ie("click",function(){return je(i),Be(II(9).click())}),X(11," \u{1f4c1} Load Guitar Pro File "),P()(),Pt(12,I7,18,6,"div",8),P(),Pt(13,N7,24,3,"div",9)(14,k7,4,0,"div",10)(15,R7,16,0,"div",11),P()}2&r&&(F(12),Oe("ngIf",s.isLoaded),F(),Oe("ngIf",s.isLoaded),F(),Oe("ngIf",s.isLoading),F(),Oe("ngIf",!s.isLoaded&&!s.isLoading))},dependencies:[T1,NC,kC,c1,zp,sC,ag],styles:["body[_ngcontent-%COMP%]{margin:0;padding:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,sans-serif;background:#f5f5f5}*[_ngcontent-%COMP%]{box-sizing:border-box}#loading[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:linear-gradient(135deg,#667eea,#764ba2);display:flex;align-items:center;justify-content:center;color:#fff;font-size:1.2rem;z-index:9999}.spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid rgba(255,255,255,.3);border-left:4px solid white;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-right:1rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:4px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:4px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a8a8a8}.at-surface[_ngcontent-%COMP%]{background:#fff!important}.at-track-name[_ngcontent-%COMP%]{font-weight:600!important}.at-bar-number[_ngcontent-%COMP%]{color:#666!important}.at-cursor[_ngcontent-%COMP%], .at-cursor-beat[_ngcontent-%COMP%]{background:#ff5722!important;opacity:1!important;z-index:1000!important}.at-selection[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background:#4040ff1a}.at-cursor-bar[_ngcontent-%COMP%]{background:#fff20040}.at-highlight[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{fill:#2781e2;stroke:#2781e2}@media (max-width: 768px){.mobile-hidden[_ngcontent-%COMP%]{display:none!important}.main-content[_ngcontent-%COMP%]{flex-direction:column;height:auto}.tracks-panel[_ngcontent-%COMP%]{width:100%;max-height:300px}.controls-section[_ngcontent-%COMP%]{flex-direction:column;align-items:center}}.guitar-pro-player[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#667eea,#764ba2);font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif}.header[_ngcontent-%COMP%]{background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);padding:2rem;text-align:center;border-bottom:1px solid rgba(255,255,255,.2)}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;color:#fff;font-size:2.5rem;font-weight:700;text-shadow:0 2px 4px rgba(0,0,0,.3)}.header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0 0;color:#fffc;font-size:1.1rem}.controls-section[_ngcontent-%COMP%]{background:#fffffff2;padding:1.5rem;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem;box-shadow:0 2px 10px #0000001a}.file-input[_ngcontent-%COMP%]{display:none}.load-btn[_ngcontent-%COMP%]{background:#4caf50;color:#fff;border:none;padding:12px 24px;border-radius:8px;font-size:1rem;cursor:pointer;transition:all .3s ease;font-weight:600}.load-btn[_ngcontent-%COMP%]:hover{background:#45a049;transform:translateY(-1px)}.playback-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.play-btn[_ngcontent-%COMP%], .stop-btn[_ngcontent-%COMP%]{background:#2196f3;color:#fff;border:none;width:50px;height:50px;border-radius:50%;font-size:1.2rem;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center}.stop-btn[_ngcontent-%COMP%]{background:#f44336}.play-btn[_ngcontent-%COMP%]:hover, .stop-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.tempo-control[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem}.tempo-control[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#333}.tempo-slider[_ngcontent-%COMP%]{width:150px}.main-content[_ngcontent-%COMP%]{display:flex;height:calc(100vh - 220px);background:#fff}.tracks-panel[_ngcontent-%COMP%]{width:350px;background:#f8f9fa;border-right:1px solid #dee2e6;padding:1rem;overflow-y:auto}.tracks-panel[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1rem;color:#333;font-size:1.2rem}.track-list[_ngcontent-%COMP%]{max-height:calc(100vh - 350px);overflow-y:auto}.track-item[_ngcontent-%COMP%]{background:#fff;border:1px solid #dee2e6;border-radius:8px;margin-bottom:.5rem;overflow:hidden;transition:all .2s ease}.track-item[_ngcontent-%COMP%]:hover{box-shadow:0 2px 8px #0000001a}.track-item.selected[_ngcontent-%COMP%]{border-color:#2196f3;background:#e3f2fd}.track-header[_ngcontent-%COMP%]{padding:12px;cursor:pointer;display:flex;justify-content:space-between;align-items:center}.track-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;flex:1}.track-color[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;border:1px solid #ccc}.track-name[_ngcontent-%COMP%]{font-weight:500;color:#333}.track-controls[_ngcontent-%COMP%]{display:flex;gap:4px}.track-btn[_ngcontent-%COMP%]{background:#f8f9fa;border:1px solid #dee2e6;width:28px;height:28px;border-radius:4px;cursor:pointer;transition:all .2s ease;font-size:12px}.track-btn[_ngcontent-%COMP%]:hover{background:#e9ecef}.track-btn.active[_ngcontent-%COMP%]{background:#2196f3;color:#fff;border-color:#2196f3}.mute-btn.active[_ngcontent-%COMP%]{background:#f44336;border-color:#f44336}.solo-btn.active[_ngcontent-%COMP%]{background:#ff9800;border-color:#ff9800}.track-details[_ngcontent-%COMP%]{padding:8px 12px;background:#00000005;border-top:1px solid #dee2e6;color:#666}.track-actions[_ngcontent-%COMP%]{margin-top:1rem;display:flex;flex-wrap:wrap;gap:.5rem}.action-btn[_ngcontent-%COMP%]{background:#6c757d;color:#fff;border:none;padding:6px 12px;border-radius:4px;font-size:.8rem;cursor:pointer;transition:background .2s ease}.action-btn[_ngcontent-%COMP%]:hover{background:#5a6268}.score-container[_ngcontent-%COMP%]{flex:1;overflow:hidden}.alphatab-container[_ngcontent-%COMP%]{width:100%;height:100%;border:1px solid #764ba2;overflow:auto}.loading[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:300px;color:#fff}.spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:4px solid rgba(255,255,255,.3);border-left:4px solid white;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:1rem}.welcome[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem;color:#fff;max-width:600px;margin:0 auto}.welcome[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem}.welcome[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;margin-bottom:2rem;opacity:.9}.welcome[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{text-align:left;display:inline-block;background:#ffffff1a;padding:1.5rem;border-radius:12px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.welcome[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.5rem;font-size:1rem}.at-overlay[_ngcontent-%COMP%]{position:absolute;display:flex;inset:0;z-index:1010;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);background:#00000080;justify-content:center;align-items:flex-start}.at-overlay-content[_ngcontent-%COMP%]{margin-top:20px;background:#fff;box-shadow:0 5px 10px #0000004d;padding:10px}.at-overlay-content[_ngcontent-%COMP%] > .spinner-border[_ngcontent-%COMP%]{color:#4972a1}.at-time-position[_ngcontent-%COMP%]{font-weight:700}.at-time-slider[_ngcontent-%COMP%]{height:4px;background:#d9d9d9}.at-time-slider-value[_ngcontent-%COMP%]{height:4px;background:#6ba5e4;width:0}.at-speed-value[_ngcontent-%COMP%]{font-size:.8rem;margin:0 .5em}.progress[_ngcontent-%COMP%]{position:relative;height:40px;padding-top:4px}.progress[_ngcontent-%COMP%]   .progress-value[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;font-weight:700;position:absolute;top:0;left:0;font-size:8px}@media screen and (max-width: 920px){.at-player-right[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(.at-logo){display:none!important}.at-wrap[_ngcontent-%COMP%]{height:60vh}}@media screen and (max-width: 1100px){.at-footer[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-size:12px!important}.at-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:18px}.at-sidebar[_ngcontent-%COMP%]{display:none}.at-viewport[_ngcontent-%COMP%]{left:0!important}}[_nghost-%COMP%]     .at-cursor-bar{background:#fff20040}[_nghost-%COMP%]     .at-selection div{background:#4040ff33}[_nghost-%COMP%]     .at-cursor-beat{background:#4040ffbf;width:3px}[_nghost-%COMP%]     .at-highlight *{fill:#0078ff;stroke:#0078ff}"]})}return t})();const LC="15.1.22";var sa=mt(582);const Ol=new WeakSet,S1=new WeakMap,VC=new WeakMap,M1=new WeakMap,jC=new WeakMap,Dg=new WeakMap,I1=new WeakMap,BC=new WeakMap,HC=new WeakMap,UC=new WeakMap,x1={construct:()=>x1},A1=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,N1=(t,e)=>{const n=[];let r=t.replace(/^[\s]+/,""),s=r.match(A1);for(;null!==s;){const i=s[1].slice(1,-1),o=s[0].replace(/([\s]+)?;?$/,"").replace(i,new URL(i,e).toString());n.push(o),r=r.slice(s[0].length).replace(/^[\s]+/,""),s=r.match(A1)}return[n.join(";"),r]},k1=t=>{if(void 0!==t&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},R1=t=>{if(!(t=>{try{new new Proxy(t,x1)}catch{return!1}return!0})(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(null===t.prototype||"object"!=typeof t.prototype)throw new TypeError("The given value for processorCtor should have a prototype.")},di=(t,e)=>{const n=t.get(e);if(void 0===n)throw new Error("A value with the given key could not be found.");return n},wg=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(0===n.length)throw Error("No element was found.");const[r]=n;return t.delete(r),r},O1=(t,e,n,r)=>{const s=di(t,e),i=wg(s,o=>o[0]===n&&o[1]===r);return 0===s.size&&t.delete(e),i},Ld=t=>di(I1,t),Fl=t=>{if(Ol.has(t))throw new Error("The AudioNode is already stored.");Ol.add(t),Ld(t).forEach(e=>e(!0))},F1=t=>"port"in t,Vd=t=>{if(!Ol.has(t))throw new Error("The AudioNode is not stored.");Ol.delete(t),Ld(t).forEach(e=>e(!1))},qC=(t,e)=>{!F1(t)&&e.every(n=>0===n.size)&&Vd(t)},z7={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},xr=(t,e)=>t.context===e,Eg=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},Li=()=>new DOMException("","IndexSizeError"),$C=t=>{t.getChannelData=(e=>n=>{try{return e.call(t,n)}catch(r){throw 12===r.code?Li():r}})(t.getChannelData)},Z7={numberOfChannels:1},ss=-34028234663852886e22,qr=-ss,vo=t=>Ol.has(t),Q7={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},$r=t=>di(S1,t),jd=t=>di(M1,t),zC=(t,e)=>{const{activeInputs:n}=$r(t);n.forEach(s=>s.forEach(([i])=>{e.includes(t)||zC(i,[...e,t])}));const r=(t=>"playbackRate"in t)(t)?[t.playbackRate]:F1(t)?Array.from(t.parameters.values()):(t=>"frequency"in t&&"gain"in t)(t)?[t.Q,t.detune,t.frequency,t.gain]:(t=>"offset"in t)(t)?[t.offset]:(t=>!("frequency"in t)&&"gain"in t)(t)?[t.gain]:(t=>"detune"in t&&"frequency"in t&&!("gain"in t))(t)?[t.detune,t.frequency]:(t=>"pan"in t)(t)?[t.pan]:[];for(const s of r){const i=jd(s);void 0!==i&&i.activeInputs.forEach(([o])=>zC(o,e))}vo(t)&&Vd(t)},Tg=t=>{zC(t.destination,[])},Sg=t=>"context"in t,Bd=t=>Sg(t[0]),oc=(t,e,n,r)=>{for(const s of t)if(n(s)){if(r)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},L1=(t,e,[n,r],s)=>{oc(t,[e,n,r],i=>i[0]===e&&i[1]===n,s)},V1=(t,[e,n,r],s)=>{const i=t.get(e);void 0===i?t.set(e,new Set([[n,r]])):oc(i,[n,r],o=>o[0]===n,s)},Pl=t=>"inputs"in t,Mg=(t,e,n,r)=>{if(Pl(e)){const s=e.inputs[r];return t.connect(s,n,0),[s,n,0]}return t.connect(e,n,r),[e,n,r]},j1=(t,e,n)=>{for(const r of t)if(r[0]===e&&r[1]===n)return t.delete(r),r;return null},B1=(t,e)=>{if(!Ld(t).delete(e))throw new Error("Missing the expected event listener.")},H1=(t,e,n)=>{const r=di(t,e),s=wg(r,i=>i[0]===n);return 0===r.size&&t.delete(e),s},Ig=(t,e,n,r)=>{Pl(e)?t.disconnect(e.inputs[r],n,0):t.disconnect(e,n,r)},pn=t=>di(VC,t),Hd=t=>di(jC,t),ac=t=>BC.has(t),xg=t=>!Ol.has(t),U1=(t,e)=>new Promise(n=>{if(null!==e)n(!0);else{const r=t.createScriptProcessor(256,1,1),s=t.createGain(),i=t.createBuffer(1,2,44100),o=i.getChannelData(0);o[0]=1,o[1]=1;const a=t.createBufferSource();a.buffer=i,a.loop=!0,a.connect(r).connect(t.destination),a.connect(s),a.disconnect(s),r.onaudioprocess=c=>{const l=c.inputBuffer.getChannelData(0);Array.prototype.some.call(l,u=>1===u)?n(!0):n(!1),a.stop(),r.onaudioprocess=null,a.disconnect(r),r.disconnect(t.destination)},a.start()}}),GC=(t,e)=>{const n=new Map;for(const r of t)for(const s of r){const i=n.get(s);n.set(s,void 0===i?1:i+1)}n.forEach((r,s)=>e(s,r))},Ag=t=>"context"in t,WC=(t,e,n,r,s)=>{const[i,o]=((t,e,n,r)=>{const{activeInputs:s,passiveInputs:i}=$r(e),o=j1(s[r],t,n);return null===o?[O1(i,t,n,r)[2],!1]:[o[2],!0]})(t,n,r,s);if(null!==i&&(B1(t,i),o&&!e&&!ac(t)&&Ig(pn(t),pn(n),r,s)),vo(n)){const{activeInputs:a}=$r(n);qC(n,a)}},ZC=(t,e,n,r)=>{const[s,i]=((t,e,n)=>{const{activeInputs:r,passiveInputs:s}=jd(e),i=j1(r,t,n);return null===i?[H1(s,t,n)[1],!1]:[i[2],!0]})(t,n,r);null!==s&&(B1(t,s),i&&!e&&!ac(t)&&pn(t).disconnect(Hd(n),r))};class q1{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,n=null){return this._map.forEach((r,s)=>e.call(n,r,s,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const bZ={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}};function Ng(t,e,n,r,s){if("function"==typeof t.copyFromChannel)0===e[n].byteLength&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],r,s);else{const i=t.getChannelData(r);if(0===e[n].byteLength)e[n]=i.slice(s,s+128);else{const o=new Float32Array(i.buffer,s*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(o)}}}const $1=(t,e,n,r,s)=>{"function"==typeof t.copyToChannel?0!==e[n].byteLength&&t.copyToChannel(e[n],r,s):0!==e[n].byteLength&&t.getChannelData(r).set(e[n],s)},kg=(t,e)=>{const n=[];for(let r=0;r<t;r+=1){const s=[],i="number"==typeof e?e:e[r];for(let o=0;o<i;o+=1)s.push(new Float32Array(128));n.push(s)}return n},wZ=function(){var t=ze(function*(e,n,r,s,i,o,a){const c=null===n?128*Math.ceil(e.context.length/128):n.length,l=s.channelCount*s.numberOfInputs,u=i.reduce((m,y)=>m+y,0),d=0===u?null:r.createBuffer(u,c,r.sampleRate);if(void 0===o)throw new Error("Missing the processor constructor.");const h=$r(e),f=yield((t,e)=>{const n=di(UC,t),r=pn(e);return di(n,r)})(r,e),p=kg(s.numberOfInputs,s.channelCount),g=kg(s.numberOfOutputs,i),_=Array.from(e.parameters.keys()).reduce((m,y)=>({...m,[y]:new Float32Array(128)}),{});for(let m=0;m<c;m+=128){if(s.numberOfInputs>0&&null!==n)for(let y=0;y<s.numberOfInputs;y+=1)for(let M=0;M<s.channelCount;M+=1)Ng(n,p[y],M,M,m);void 0!==o.parameterDescriptors&&null!==n&&o.parameterDescriptors.forEach(({name:y},M)=>{Ng(n,_,y,l+M,m)});for(let y=0;y<s.numberOfInputs;y+=1)for(let M=0;M<i[y];M+=1)0===g[y][M].byteLength&&(g[y][M]=new Float32Array(128));try{const y=p.map((R,v)=>0===h.activeInputs[v].size?[]:R),M=a(m/r.sampleRate,r.sampleRate,()=>f.process(y,g,_));if(null!==d)for(let R=0,v=0;R<s.numberOfOutputs;R+=1){for(let N=0;N<i[R];N+=1)$1(d,g[R],N,v+N,m);v+=i[R]}if(!M)break}catch(y){e.dispatchEvent(new ErrorEvent("processorerror",{colno:y.colno,filename:y.filename,lineno:y.lineno,message:y.message}));break}}return d});return function(n,r,s,i,o,a,c){return t.apply(this,arguments)}}(),SZ={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},AZ={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},RZ={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},jZ={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},qZ={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},z1=t=>{const{port1:e,port2:n}=new MessageChannel;return new Promise(r=>{const s=()=>{n.onmessage=null,e.close(),n.close(),r()};n.onmessage=()=>s();try{e.postMessage(t,[t])}catch{}finally{s()}})},QZ={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},Rg=(t,e,n)=>{const r=e[n];if(void 0===r)throw t();return r},sY={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},hY={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},zn=()=>new DOMException("","InvalidStateError"),Og=()=>new DOMException("","InvalidAccessError"),EY={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},G1=(t,e,n,r,s,i,o,a,c,l,u)=>{const d=l.length;let h=a;for(let f=0;f<d;f+=1){let p=n[0]*l[f];for(let g=1;g<s;g+=1){const _=h-g&c-1;p+=n[g]*i[_],p-=t[g]*o[_]}for(let g=s;g<r;g+=1)p+=n[g]*i[h-g&c-1];for(let g=s;g<e;g+=1)p-=t[g]*o[h-g&c-1];i[h]=l[f],o[h]=p,h=h+1&c-1,u[f]=p}return h},BY={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},cc=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,()=>{});return void 0!==n&&(n.catch(()=>{}),!0)}catch{}return!1},_n=(t,e,n)=>{const r=e[n];void 0!==r&&r!==t[n]&&(t[n]=r)},Yn=(t,e)=>{_n(t,e,"channelCount"),_n(t,e,"channelCountMode"),_n(t,e,"channelInterpretation")},W1=t=>"function"==typeof t.getFloatTimeDomainData,An=(t,e,n)=>{const r=e[n];void 0!==r&&r!==t[n].value&&(t[n].value=r)},YC=t=>{t.start=(e=>(n=0,r=0,s)=>{if("number"==typeof s&&s<0||r<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,r,s)})(t.start)},QC=t=>{t.stop=(e=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})(t.stop)},Z1=(t,e)=>null===t?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),oQ=function(){var t=ze(function*(e,n){const r=yield(t=>new Promise((e,n)=>{const{port1:r,port2:s}=new MessageChannel;r.onmessage=({data:i})=>{r.close(),s.close(),e(i)},r.onmessageerror=({data:i})=>{r.close(),s.close(),n(i)},s.postMessage(t)}))(n);return new e(r)});return function(n,r){return t.apply(this,arguments)}}(),Y1=(t,e)=>{const n=t.createBiquadFilter();return Yn(n,e),An(n,e,"Q"),An(n,e,"detune"),An(n,e,"frequency"),An(n,e,"gain"),_n(n,e,"type"),n},Ud=(t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return Yn(n,e),(t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:n=>{if(n!==e)throw zn()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:n=>{if("explicit"!==n)throw zn()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:n=>{if("discrete"!==n)throw zn()}})})(n),n},Ll=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),Q1=(t,e)=>{const n=t.createDelay(e.maxDelayTime);return Yn(n,e),An(n,e,"delayTime"),n},is=(t,e)=>{const n=t.createGain();return Yn(n,e),An(n,e,"gain"),n};function mQ(t,e){const n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function _Q(t,e){return[t[0]*e[0]-t[1]*e[1],t[0]*e[1]+t[1]*e[0]]}function K1(t,e){let n=[0,0];for(let r=t.length-1;r>=0;r-=1)n=_Q(n,e),n[0]+=t[r];return n}const qd=(t,e,n,r)=>t.createScriptProcessor(e,n,r),Ar=()=>new DOMException("","NotSupportedError"),kQ={numberOfChannels:1},OQ={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},LQ={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},BQ={disableNormalization:!1},YQ={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},X1=()=>new DOMException("","UnknownError"),tK={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},J1=(t,e,n)=>void 0===t.copyFromChannel?t.getChannelData(n)[0]:(t.copyFromChannel(e,n),e[0]),eR=t=>{if(null===t)return!1;const e=t.length;return e%2!=0?0!==t[Math.floor(e/2)]:t[e/2-1]+t[e/2]!==0},$d=(t,e,n,r)=>{let s=t;for(;!s.hasOwnProperty(e);)s=Object.getPrototypeOf(s);const{get:i,set:o}=Object.getOwnPropertyDescriptor(s,e);Object.defineProperty(t,e,{get:n(i),set:r(o)})},tR=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(r){if(9!==r.code)throw r;tR(t,e,n+1e-7)}},KC=t=>{const e=t.createOscillator();try{e.start(-1)}catch(n){return n instanceof RangeError}return!1},nR=t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},XC=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(n){return n instanceof RangeError}return!1},rR=(t,e)=>{const n=e.createGain();t.connect(n);const r=(s=>()=>{s.call(t,n),t.removeEventListener("ended",r)})(t.disconnect);t.addEventListener("ended",r),Ll(t,n),t.stop=(s=>{let i=!1;return(o=0)=>{if(i)try{s.call(t,o)}catch{n.gain.setValueAtTime(0,o)}else s.call(t,o),i=!0}})(t.stop)},Vl=(t,e)=>n=>{const r={value:t};return Object.defineProperties(n,{currentTarget:r,target:r}),"function"==typeof e?e.call(t,n):e.handleEvent.call(t,n)},_K=(t=oc,(e,n,[r,s,i],o)=>{t(e[s],[n,r,i],a=>a[0]===n&&a[1]===r,o)}),yK=(t=>(e,n,[r,s,i],o)=>{const a=e.get(r);void 0===a?e.set(r,new Set([[s,n,i]])):t(a,[s,n,i],c=>c[0]===s&&c[1]===n,o)})(oc),vK=(t=>(e,n,r,s)=>t(e[s],i=>i[0]===n&&i[1]===r))(wg),sR=new WeakMap,bK=(t=>e=>{var n;return null!==(n=t.get(e))&&void 0!==n?n:0})(sR),ws=((t,e)=>(n,r)=>{const s=e.get(n);if(void 0!==s)return s;const i=t.get(n);if(void 0!==i)return i;try{const o=r();return o instanceof Promise?(t.set(n,o),o.catch(()=>!1).then(a=>(t.delete(n),e.set(n,a),a))):(e.set(n,o),o)}catch{return e.set(n,!1),!1}})(new Map,new WeakMap),hi=typeof window>"u"?null:window,iR=((t,e)=>(n,r)=>{const s=n.createAnalyser();if(Yn(s,r),!(r.maxDecibels>r.minDecibels))throw e();return _n(s,r,"fftSize"),_n(s,r,"maxDecibels"),_n(s,r,"minDecibels"),_n(s,r,"smoothingTimeConstant"),t(W1,()=>W1(s))||(t=>{t.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);t.getByteTimeDomainData(n);const r=Math.max(n.length,t.fftSize);for(let s=0;s<r;s+=1)e[s]=.0078125*(n[s]-128);return e}})(s),s})(ws,Li),JC=(t=>e=>{const n=t(e);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer})($r),_r=((t,e,n)=>function(){var r=ze(function*(s,i,o){const a=t(s);yield Promise.all(a.activeInputs.map((c,l)=>Array.from(c).map(function(){var u=ze(function*([d,h]){const p=yield e(d).render(d,i),g=s.context.destination;!n(d)&&(s!==g||!n(s))&&p.connect(o,h,l)});return function(d){return u.apply(this,arguments)}}())).reduce((c,l)=>[...c,...l],[]))});return function(s,i,o){return r.apply(this,arguments)}}())($r,JC,ac),CK=((t,e,n)=>()=>{const r=new WeakMap,s=function(){var i=ze(function*(o,a){let c=e(o);return xr(c,a)||(c=t(a,{channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,fftSize:c.fftSize,maxDecibels:c.maxDecibels,minDecibels:c.minDecibels,smoothingTimeConstant:c.smoothingTimeConstant})),r.set(a,c),yield n(o,a,c),c});return function(a,c){return i.apply(this,arguments)}}();return{render(i,o){const a=r.get(o);return void 0!==a?Promise.resolve(a):s(i,o)}}})(iR,pn,_r),cn=(t=>e=>{const n=t.get(e);if(void 0===n)throw zn();return n})(Dg),lr=(t=>null===t?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null)(hi),Jt=(t=>e=>null!==t&&e instanceof t)(lr),oR=new WeakMap,aR=(t=>class{constructor(n){this._nativeEventTarget=n,this._listeners=new WeakMap}addEventListener(n,r,s){if(null!==r){let i=this._listeners.get(r);void 0===i&&(i=t(this,r),"function"==typeof r&&this._listeners.set(r,i)),this._nativeEventTarget.addEventListener(n,i,s)}}dispatchEvent(n){return this._nativeEventTarget.dispatchEvent(n)}removeEventListener(n,r,s){const i=null===r?void 0:this._listeners.get(r);this._nativeEventTarget.removeEventListener(n,void 0===i?null:i,s)}})(Vl),bo=(t=>null===t?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null)(hi),eD=(t=>e=>null!==t&&e instanceof t)(bo),tD=(t=>e=>null!==t&&"function"==typeof t.AudioNode&&e instanceof t.AudioNode)(hi),cR=(t=>e=>null!==t&&"function"==typeof t.AudioParam&&e instanceof t.AudioParam)(hi),jl=(t=>null===t?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null)(hi),Fn=((t,e,n,r,s,i,o,a,c,l,u,d,h,f,p,g)=>class extends l{constructor(m,y,M,R){super(M),this._context=m,this._nativeAudioNode=M;const v=u(m);d(v)&&!0!==n(U1,()=>U1(v,g))&&(t=>{const e=new Map;t.connect=(n=>(r,s=0,i=0)=>{const o=Ag(r)?n(r,s,i):n(r,s),a=e.get(r);return void 0===a?e.set(r,[{input:i,output:s}]):a.every(c=>c.input!==i||c.output!==s)&&a.push({input:i,output:s}),o})(t.connect.bind(t)),t.disconnect=(n=>(r,s,i)=>{if(n.apply(t),void 0===r)e.clear();else if("number"==typeof r)for(const[o,a]of e){const c=a.filter(l=>l.output!==r);0===c.length?e.delete(o):e.set(o,c)}else if(e.has(r))if(void 0===s)e.delete(r);else{const o=e.get(r);if(void 0!==o){const a=o.filter(c=>c.output!==s&&(c.input!==i||void 0===i));0===a.length?e.delete(r):e.set(r,a)}}for(const[o,a]of e)a.forEach(c=>{Ag(o)?t.connect(o,c.output,c.input):t.connect(o,c.output)})})(t.disconnect)})(M),VC.set(this,M),I1.set(this,new Set),"closed"!==m.state&&y&&Fl(this),t(this,R,M)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(m){this._nativeAudioNode.channelCount=m}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(m){this._nativeAudioNode.channelCountMode=m}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(m){this._nativeAudioNode.channelInterpretation=m}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(m,y=0,M=0){if(y<0||y>=this._nativeAudioNode.numberOfOutputs)throw s();const R=u(this._context),v=p(R);if(h(m)||f(m))throw i();if(Sg(m)){const S=pn(m);try{const W=Mg(this._nativeAudioNode,S,y,M),ee=xg(this);(v||ee)&&this._nativeAudioNode.disconnect(...W),"closed"!==this.context.state&&!ee&&xg(m)&&Fl(m)}catch(W){throw 12===W.code?i():W}if(e(this,m,y,M,v)){const W=c([this],m);GC(W,r(v))}return m}const N=Hd(m);if("playbackRate"===N.name&&1024===N.maxValue)throw o();try{this._nativeAudioNode.connect(N,y),(v||xg(this))&&this._nativeAudioNode.disconnect(N,y)}catch(S){throw 12===S.code?i():S}if(((t,e,n,r)=>{const{activeInputs:s,passiveInputs:i}=jd(e),{outputs:o}=$r(t),a=Ld(t),c=l=>{const u=pn(t),d=Hd(e);if(l){const h=H1(i,t,n);L1(s,t,h,!1),!r&&!ac(t)&&u.connect(d,n)}else{const h=((t,e,n)=>wg(t,r=>r[0]===e&&r[1]===n))(s,t,n);V1(i,h,!1),!r&&!ac(t)&&u.disconnect(d,n)}};return!!oc(o,[e,n],l=>l[0]===e&&l[1]===n,!0)&&(a.add(c),vo(t)?L1(s,t,[n,c],!0):V1(i,[t,n,c],!0),!0)})(this,m,y,v)){const S=c([this],m);GC(S,r(v))}}disconnect(m,y,M){let R;const v=u(this._context),N=p(v);if(void 0===m)R=((t,e)=>{const n=$r(t),r=[];for(const s of n.outputs)Bd(s)?WC(t,e,...s):ZC(t,e,...s),r.push(s[0]);return n.outputs.clear(),r})(this,N);else if("number"==typeof m){if(m<0||m>=this.numberOfOutputs)throw s();R=((t,e,n)=>{const r=$r(t),s=[];for(const i of r.outputs)i[1]===n&&(Bd(i)?WC(t,e,...i):ZC(t,e,...i),s.push(i[0]),r.outputs.delete(i));return s})(this,N,m)}else{if(void 0!==y&&(y<0||y>=this.numberOfOutputs)||Sg(m)&&void 0!==M&&(M<0||M>=m.numberOfInputs))throw s();if(R=((t,e,n,r,s)=>{const i=$r(t);return Array.from(i.outputs).filter(o=>!(o[0]!==n||void 0!==r&&o[1]!==r||void 0!==s&&o[2]!==s)).map(o=>(Bd(o)?WC(t,e,...o):ZC(t,e,...o),i.outputs.delete(o),o[0]))})(this,N,m,y,M),0===R.length)throw i()}for(const I of R){const S=c([this],I);GC(S,a)}}})((t=>(e,n,r)=>{const s=[];for(let i=0;i<r.numberOfInputs;i+=1)s.push(new Set);t.set(e,{activeInputs:s,outputs:new Set,passiveInputs:new WeakMap,renderer:n})})(S1),((t,e,n,r,s,i,o,a,c,l,u,d,h)=>{const f=new WeakMap;return(p,g,_,m,y)=>{const{activeInputs:M,passiveInputs:R}=i(g),{outputs:v}=i(p),N=a(p),I=S=>{const Z=c(g),W=c(p);if(S){const ee=O1(R,p,_,m);t(M,p,ee,!1),!y&&!d(p)&&n(W,Z,_,m),h(g)&&Fl(g)}else{const ee=r(M,p,_,m);e(R,m,ee,!1),!y&&!d(p)&&s(W,Z,_,m);const j=o(g);if(0===j)u(g)&&qC(g,M);else{const ce=f.get(g);void 0!==ce&&clearTimeout(ce),f.set(g,setTimeout(()=>{u(g)&&qC(g,M)},1e3*j))}}};return!!l(v,[g,_,m],S=>S[0]===g&&S[1]===_&&S[2]===m,!0)&&(N.add(I),u(p)?t(M,p,[_,m,I],!0):e(R,m,[p,_,I],!0),!0)}})(_K,yK,Mg,vK,Ig,$r,bK,Ld,pn,oc,vo,ac,xg),ws,((t,e,n,r,s,i)=>o=>(a,c)=>{const l=t.get(a);if(void 0===l){if(!o&&i(a)){const u=r(a),{outputs:d}=n(a);for(const h of d)if(Bd(h)){const f=r(h[0]);e(u,f,h[1],h[2])}else{const f=s(h[0]);u.disconnect(f,h[1])}}t.set(a,c)}else t.set(a,l+c)})(BC,Ig,$r,pn,Hd,vo),Li,Og,Ar,((t,e,n,r,s,i,o,a)=>(c,l)=>{const u=e.get(c);if(void 0===u)throw new Error("Missing the expected cycle count.");const d=i(c.context),h=a(d);if(u===l){if(e.delete(c),!h&&o(c)){const f=r(c),{outputs:p}=n(c);for(const g of p)if(Bd(g)){const _=r(g[0]);t(f,_,g[1],g[2])}else{const _=s(g[0]);f.connect(_,g[1])}}}else e.set(c,u-l)})(Mg,BC,$r,pn,Hd,cn,vo,Jt),((t,e,n)=>function r(s,i){const o=Sg(i)?i:n(t,i);if((t=>"delayTime"in t)(o))return[];if(s[0]===o)return[s];if(s.includes(o))return[];const{outputs:a}=e(o);return Array.from(a).map(c=>r([...s,o],c[0])).reduce((c,l)=>c.concat(l),[])})(oR,$r,di),aR,cn,eD,tD,cR,Jt,jl),DK=((t,e,n,r,s,i)=>class extends t{constructor(a,c){const l=s(a),u={...z7,...c},d=r(l,u);super(a,!1,d,i(l)?e():null),this._nativeAnalyserNode=d}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(a){this._nativeAnalyserNode.fftSize=a}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(a){const c=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=a,!(a>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=c,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(a){const c=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=a,!(this._nativeAnalyserNode.maxDecibels>a))throw this._nativeAnalyserNode.minDecibels=c,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(a){this._nativeAnalyserNode.smoothingTimeConstant=a}getByteFrequencyData(a){this._nativeAnalyserNode.getByteFrequencyData(a)}getByteTimeDomainData(a){this._nativeAnalyserNode.getByteTimeDomainData(a)}getFloatFrequencyData(a){this._nativeAnalyserNode.getFloatFrequencyData(a)}getFloatTimeDomainData(a){this._nativeAnalyserNode.getFloatTimeDomainData(a)}})(Fn,CK,Li,iR,cn,Jt),nD=new WeakSet,lR=(t=>null===t?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null)(hi),uR=(t=>e=>(t[0]=e,t[0]))(new Uint32Array(1)),rD=((t,e)=>n=>{n.copyFromChannel=(r,s,i=0)=>{const o=t(i),a=t(s);if(a>=n.numberOfChannels)throw e();const c=n.length,l=n.getChannelData(a),u=r.length;for(let d=o<0?-o:0;d+o<c&&d<u;d+=1)r[d]=l[d+o]},n.copyToChannel=(r,s,i=0)=>{const o=t(i),a=t(s);if(a>=n.numberOfChannels)throw e();const c=n.length,l=n.getChannelData(a),u=r.length;for(let d=o<0?-o:0;d+o<c&&d<u;d+=1)l[d+o]=r[d]}})(uR,Li),sD=(t=>e=>{e.copyFromChannel=(n=>(r,s,i=0)=>{const o=t(i),a=t(s);if(o<e.length)return n.call(e,r,a,o)})(e.copyFromChannel),e.copyToChannel=(n=>(r,s,i=0)=>{const o=t(i),a=t(s);if(o<e.length)return n.call(e,r,a,o)})(e.copyToChannel)})(uR),dR=((t,e,n,r,s,i,o,a)=>{let c=null;return class YO{constructor(u){if(null===s)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:d,numberOfChannels:h,sampleRate:f}={...Z7,...u};null===c&&(c=new s(1,1,44100));const p=null!==r&&e(i,i)?new r({length:d,numberOfChannels:h,sampleRate:f}):c.createBuffer(h,d,f);if(0===p.numberOfChannels)throw n();return"function"!=typeof p.copyFromChannel?(o(p),$C(p)):e(Eg,()=>Eg(p))||a(p),t.add(p),p}static[Symbol.hasInstance](u){return null!==u&&"object"==typeof u&&Object.getPrototypeOf(u)===YO.prototype||t.has(u)}}})(nD,ws,Ar,lR,lr,(t=>()=>{if(null===t)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0})(lR),rD,sD),Fg=(t=>(e,n)=>{const r=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(r).connect(e.destination);const s=()=>{n.removeEventListener("ended",s),n.disconnect(r),r.disconnect()};n.addEventListener("ended",s)})(is),hR=((t,e,n)=>function(){var r=ze(function*(s,i,o){const a=e(s);yield Promise.all(Array.from(a.activeInputs).map(function(){var c=ze(function*([l,u]){const h=yield t(l).render(l,i);n(l)||h.connect(o,u)});return function(l){return c.apply(this,arguments)}}()))});return function(s,i,o){return r.apply(this,arguments)}}())(JC,jd,ac),Vi=(t=>(e,n,r)=>t(n,e,r))(hR),Bl=((t,e,n,r,s,i,o,a,c,l,u)=>(d,h)=>{const f=d.createBufferSource();return Yn(f,h),An(f,h,"playbackRate"),_n(f,h,"buffer"),_n(f,h,"loop"),_n(f,h,"loopEnd"),_n(f,h,"loopStart"),e(n,()=>n(d))||(t=>{t.start=(e=>{let n=!1;return(r=0,s=0,i)=>{if(n)throw zn();e.call(t,r,s,i),n=!0}})(t.start)})(f),e(r,()=>r(d))||(t=>{t.start=(e=>(n=0,r=0,s)=>{const i=t.buffer,o=null===i?r:Math.min(i.duration,r);null!==i&&o>i.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,o,s)})(t.start)})(f),e(s,()=>s(d))||l(f,d),e(i,()=>i(d))||YC(f),e(o,()=>o(d))||u(f,d),e(a,()=>a(d))||QC(f),t(d,f),f})(Fg,ws,t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0},t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},KC,nR,XC,0,(t=>(e,n)=>{const r=n.createBuffer(1,1,44100);null===e.buffer&&(e.buffer=r),t(e,"buffer",s=>()=>{const i=s.call(e);return i===r?null:i},s=>i=>s.call(e,null===i?r:i))})($d),rR),ji=((t,e)=>(n,r,s)=>(t(r).replay(s),e(r,n,s)))((t=>e=>{const n=t(e);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer})(jd),hR),wK=((t,e,n,r,s)=>()=>{const i=new WeakMap;let o=null,a=null;const c=function(){var l=ze(function*(u,d){let h=n(u);const f=xr(h,d);return f||(h=e(d,{buffer:h.buffer,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,loop:h.loop,loopEnd:h.loopEnd,loopStart:h.loopStart,playbackRate:h.playbackRate.value}),null!==o&&h.start(...o),null!==a&&h.stop(a)),i.set(d,h),f?yield t(d,u.playbackRate,h.playbackRate):yield r(d,u.playbackRate,h.playbackRate),yield s(u,d,h),h});return function(d,h){return l.apply(this,arguments)}}();return{set start(l){o=l},set stop(l){a=l},render(l,u){const d=i.get(u);return void 0!==d?Promise.resolve(d):c(l,u)}}})(Vi,Bl,pn,ji,_r),fi=((t,e,n,r,s,i,o,a,c,l,u,d,h)=>(f,p,g,_=null,m=null)=>{const y=g.value,M=new sa.AutomationEventList(y),R=p?(t=>({replay(e){for(const n of t)if("exponentialRampToValue"===n.type){const{endTime:r,value:s}=n;e.exponentialRampToValueAtTime(s,r)}else if("linearRampToValue"===n.type){const{endTime:r,value:s}=n;e.linearRampToValueAtTime(s,r)}else if("setTarget"===n.type){const{startTime:r,target:s,timeConstant:i}=n;e.setTargetAtTime(s,r,i)}else if("setValue"===n.type){const{startTime:r,value:s}=n;e.setValueAtTime(s,r)}else{if("setValueCurve"!==n.type)throw new Error("Can't apply an unknown automation.");{const{duration:r,startTime:s,values:i}=n;e.setValueCurveAtTime(i,s,r)}}}}))(M):null,v={get defaultValue(){return y},get maxValue(){return null===_?g.maxValue:_},get minValue(){return null===m?g.minValue:m},get value(){return g.value},set value(N){g.value=N,v.setValueAtTime(N,f.context.currentTime)},cancelAndHoldAtTime(N){if("function"==typeof g.cancelAndHoldAtTime)null===R&&M.flush(f.context.currentTime),M.add(s(N)),g.cancelAndHoldAtTime(N);else{const I=Array.from(M).pop();null===R&&M.flush(f.context.currentTime),M.add(s(N));const S=Array.from(M).pop();g.cancelScheduledValues(N),I!==S&&void 0!==S&&("exponentialRampToValue"===S.type?g.exponentialRampToValueAtTime(S.value,S.endTime):"linearRampToValue"===S.type?g.linearRampToValueAtTime(S.value,S.endTime):"setValue"===S.type?g.setValueAtTime(S.value,S.startTime):"setValueCurve"===S.type&&g.setValueCurveAtTime(S.values,S.startTime,S.duration))}return v},cancelScheduledValues:N=>(null===R&&M.flush(f.context.currentTime),M.add(i(N)),g.cancelScheduledValues(N),v),exponentialRampToValueAtTime(N,I){if(0===N)throw new RangeError;if(!Number.isFinite(I)||I<0)throw new RangeError;const S=f.context.currentTime;return null===R&&M.flush(S),0===Array.from(M).length&&(M.add(l(y,S)),g.setValueAtTime(y,S)),M.add(o(N,I)),g.exponentialRampToValueAtTime(N,I),v},linearRampToValueAtTime(N,I){const S=f.context.currentTime;return null===R&&M.flush(S),0===Array.from(M).length&&(M.add(l(y,S)),g.setValueAtTime(y,S)),M.add(a(N,I)),g.linearRampToValueAtTime(N,I),v},setTargetAtTime:(N,I,S)=>(null===R&&M.flush(f.context.currentTime),M.add(c(N,I,S)),g.setTargetAtTime(N,I,S),v),setValueAtTime:(N,I)=>(null===R&&M.flush(f.context.currentTime),M.add(l(N,I)),g.setValueAtTime(N,I),v),setValueCurveAtTime(N,I,S){const Z=N instanceof Float32Array?N:new Float32Array(N);if(null!==d&&"webkitAudioContext"===d.name){const W=I+S,ee=f.context.sampleRate,j=Math.ceil(I*ee),ce=Math.floor(W*ee),ye=ce-j,ge=new Float32Array(ye);for(let Me=0;Me<ye;Me+=1){const Ke=(Z.length-1)/S*((j+Me)/ee-I),Ve=Math.floor(Ke),ut=Math.ceil(Ke);ge[Me]=Ve===ut?Z[Ve]:(1-(Ke-Ve))*Z[Ve]+(1-(ut-Ke))*Z[ut]}null===R&&M.flush(f.context.currentTime),M.add(u(ge,I,S)),g.setValueCurveAtTime(ge,I,S);const de=ce/ee;de<W&&h(v,ge[ge.length-1],de),h(v,Z[Z.length-1],W)}else null===R&&M.flush(f.context.currentTime),M.add(u(Z,I,S)),g.setValueCurveAtTime(Z,I,S);return v}};return n.set(v,g),e.set(v,f),t(v,R),v})((t=>(e,n)=>{t.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})})(M1),oR,jC,0,sa.createCancelAndHoldAutomationEvent,sa.createCancelScheduledValuesAutomationEvent,sa.createExponentialRampToValueAutomationEvent,sa.createLinearRampToValueAutomationEvent,sa.createSetTargetAutomationEvent,sa.createSetValueAutomationEvent,sa.createSetValueCurveAutomationEvent,bo,tR),EK=((t,e,n,r,s,i,o,a)=>class extends t{constructor(l,u){const d=i(l),h={...Q7,...u},f=s(d,h),p=o(d),g=p?e():null;super(l,!1,f,g),this._audioBufferSourceNodeRenderer=g,this._isBufferNullified=!1,this._isBufferSet=null!==h.buffer,this._nativeAudioBufferSourceNode=f,this._onended=null,this._playbackRate=n(this,p,f.playbackRate,qr,ss)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(l){if(this._nativeAudioBufferSourceNode.buffer=l,null!==l){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(l){this._nativeAudioBufferSourceNode.loop=l}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(l){this._nativeAudioBufferSourceNode.loopEnd=l}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(l){this._nativeAudioBufferSourceNode.loopStart=l}get onended(){return this._onended}set onended(l){const u="function"==typeof l?a(this,l):null;this._nativeAudioBufferSourceNode.onended=u;const d=this._nativeAudioBufferSourceNode.onended;this._onended=null!==d&&d===u?l:d}get playbackRate(){return this._playbackRate}start(l=0,u=0,d){if(this._nativeAudioBufferSourceNode.start(l,u,d),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.start=void 0===d?[l,u]:[l,u,d]),"closed"!==this.context.state){Fl(this);const h=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",h),vo(this)&&Vd(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",h)}}stop(l=0){this._nativeAudioBufferSourceNode.stop(l),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.stop=l)}})(Fn,wK,fi,zn,Bl,cn,Jt,Vl),TK=((t,e,n,r,s,i,o,a)=>class extends t{constructor(l,u){const d=i(l),h=o(d),f=s(d,u,h);super(l,!1,f,h?e(a):null),this._isNodeOfNativeOfflineAudioContext=h,this._nativeAudioDestinationNode=f}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(l){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(l>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=l}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(l){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=l}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}})(Fn,t=>{const e=new WeakMap,n=function(){var r=ze(function*(s,i){const o=i.destination;return e.set(i,o),yield t(s,i,o),o});return function(i,o){return r.apply(this,arguments)}}();return{render(r,s){const i=e.get(s);return void 0!==i?Promise.resolve(i):n(r,s)}}},Li,zn,((t,e)=>(n,r,s)=>{const i=n.destination;if(i.channelCount!==r)try{i.channelCount=r}catch{}s&&"explicit"!==i.channelCountMode&&(i.channelCountMode="explicit"),0===i.maxChannelCount&&Object.defineProperty(i,"maxChannelCount",{value:r});const o=t(n,{channelCount:r,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,gain:1});return e(o,"channelCount",a=>()=>a.call(o),a=>c=>{a.call(o,c);try{i.channelCount=c}catch(l){if(c>i.maxChannelCount)throw l}}),e(o,"channelCountMode",a=>()=>a.call(o),a=>c=>{a.call(o,c),i.channelCountMode=c}),e(o,"channelInterpretation",a=>()=>a.call(o),a=>c=>{a.call(o,c),i.channelInterpretation=c}),Object.defineProperty(o,"maxChannelCount",{get:()=>i.maxChannelCount}),o.connect(i),o})(is,$d),cn,Jt,_r),SK=((t,e,n,r,s)=>()=>{const i=new WeakMap,o=function(){var a=ze(function*(c,l){let u=n(c);const d=xr(u,l);return d||(u=e(l,{Q:u.Q.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,detune:u.detune.value,frequency:u.frequency.value,gain:u.gain.value,type:u.type})),i.set(l,u),d?(yield t(l,c.Q,u.Q),yield t(l,c.detune,u.detune),yield t(l,c.frequency,u.frequency),yield t(l,c.gain,u.gain)):(yield r(l,c.Q,u.Q),yield r(l,c.detune,u.detune),yield r(l,c.frequency,u.frequency),yield r(l,c.gain,u.gain)),yield s(c,l,u),u});return function(l,u){return a.apply(this,arguments)}}();return{render(a,c){const l=i.get(c);return void 0!==l?Promise.resolve(l):o(a,c)}}})(Vi,Y1,pn,ji,_r),lc=(t=>(e,n)=>t.set(e,n))(sR),MK=((t,e,n,r,s,i,o,a)=>class extends t{constructor(l,u){const d=i(l),h={...SZ,...u},f=s(d,h),p=o(d);super(l,!1,f,p?n():null),this._Q=e(this,p,f.Q,qr,ss),this._detune=e(this,p,f.detune,1200*Math.log2(qr),-1200*Math.log2(qr)),this._frequency=e(this,p,f.frequency,l.sampleRate/2,0),this._gain=e(this,p,f.gain,40*Math.log10(qr),ss),this._nativeBiquadFilterNode=f,a(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(l){this._nativeBiquadFilterNode.type=l}getFrequencyResponse(l,u,d){try{this._nativeBiquadFilterNode.getFrequencyResponse(l,u,d)}catch(h){throw 11===h.code?r():h}if(l.length!==u.length||u.length!==d.length)throw r()}})(Fn,fi,SK,Og,Y1,cn,Jt,lc),ia=((t,e)=>(n,r,s)=>{const i=new Set;return n.connect=(o=>(a,c=0,l=0)=>{const u=0===i.size;if(e(a))return o.call(n,a,c,l),t(i,[a,c,l],d=>d[0]===a&&d[1]===c&&d[2]===l,!0),u&&r(),a;o.call(n,a,c),t(i,[a,c],d=>d[0]===a&&d[1]===c,!0),u&&r()})(n.connect),n.disconnect=(o=>(a,c,l)=>{const u=i.size>0;if(void 0===a)o.apply(n),i.clear();else if("number"==typeof a){o.call(n,a);for(const h of i)h[1]===a&&i.delete(h)}else{e(a)?o.call(n,a,c,l):o.call(n,a,c);for(const h of i)h[0]===a&&(void 0===c||h[1]===c)&&(void 0===l||h[2]===l)&&i.delete(h)}u&&0===i.size&&s()})(n.disconnect),n})(oc,tD),IK=((t,e)=>(n,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const s=n.createBufferSource();e(r,()=>{const a=r.numberOfInputs;for(let c=0;c<a;c+=1)s.connect(r,0,c)},()=>s.disconnect(r))})(zn,ia),oa=((t,e)=>(n,r)=>{const s=n.createChannelMerger(r.numberOfInputs);return null!==t&&"webkitAudioContext"===t.name&&e(n,s),Yn(s,r),s})(bo,IK),xK=((t,e,n)=>()=>{const r=new WeakMap,s=function(){var i=ze(function*(o,a){let c=e(o);return xr(c,a)||(c=t(a,{channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,numberOfInputs:c.numberOfInputs})),r.set(a,c),yield n(o,a,c),c});return function(a,c){return i.apply(this,arguments)}}();return{render(i,o){const a=r.get(o);return void 0!==a?Promise.resolve(a):s(i,o)}}})(oa,pn,_r),AK=((t,e,n,r,s)=>class extends t{constructor(o,a){const c=r(o),l={...AZ,...a};super(o,!1,n(c,l),s(c)?e():null)}})(Fn,xK,oa,cn,Jt),NK=((t,e,n)=>()=>{const r=new WeakMap,s=function(){var i=ze(function*(o,a){let c=e(o);return xr(c,a)||(c=t(a,{channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,numberOfOutputs:c.numberOfOutputs})),r.set(a,c),yield n(o,a,c),c});return function(a,c){return i.apply(this,arguments)}}();return{render(i,o){const a=r.get(o);return void 0!==a?Promise.resolve(a):s(i,o)}}})(Ud,pn,_r),kK=((t,e,n,r,s)=>class extends t{constructor(a,c){const l=r(a),u=(t=>({...t,channelCount:t.numberOfOutputs}))({...RZ,...c});super(a,!1,n(l,u),s(l)?e():null)}})(Fn,NK,Ud,cn,Jt),RK=((t,e,n,r)=>(s,{offset:i,...o})=>{const a=s.createBuffer(1,2,44100),c=e(s,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),l=n(s,{...o,gain:i}),u=a.getChannelData(0);u[0]=1,u[1]=1,c.buffer=a,c.loop=!0;const d={get bufferSize(){},get channelCount(){return l.channelCount},set channelCount(p){l.channelCount=p},get channelCountMode(){return l.channelCountMode},set channelCountMode(p){l.channelCountMode=p},get channelInterpretation(){return l.channelInterpretation},set channelInterpretation(p){l.channelInterpretation=p},get context(){return l.context},get inputs(){return[]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return l.numberOfOutputs},get offset(){return l.gain},get onended(){return c.onended},set onended(p){c.onended=p},addEventListener:(...p)=>c.addEventListener(p[0],p[1],p[2]),dispatchEvent:(...p)=>c.dispatchEvent(p[0]),removeEventListener:(...p)=>c.removeEventListener(p[0],p[1],p[2]),start(p=0){c.start.call(c,p)},stop(p=0){c.stop.call(c,p)}};return t(s,c),r(Ll(d,l),()=>c.connect(l),()=>c.disconnect(l))})(Fg,Bl,is,ia),Hl=((t,e,n,r,s)=>(i,o)=>{if(void 0===i.createConstantSource)return n(i,o);const a=i.createConstantSource();return Yn(a,o),An(a,o,"offset"),e(r,()=>r(i))||YC(a),e(s,()=>s(i))||QC(a),t(i,a),a})(Fg,ws,RK,KC,XC),OK=((t,e,n,r,s)=>()=>{const i=new WeakMap;let o=null,a=null;const c=function(){var l=ze(function*(u,d){let h=n(u);const f=xr(h,d);return f||(h=e(d,{channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,offset:h.offset.value}),null!==o&&h.start(o),null!==a&&h.stop(a)),i.set(d,h),f?yield t(d,u.offset,h.offset):yield r(d,u.offset,h.offset),yield s(u,d,h),h});return function(d,h){return l.apply(this,arguments)}}();return{set start(l){o=l},set stop(l){a=l},render(l,u){const d=i.get(u);return void 0!==d?Promise.resolve(d):c(l,u)}}})(Vi,Hl,pn,ji,_r),FK=((t,e,n,r,s,i,o)=>class extends t{constructor(c,l){const u=s(c),d={...jZ,...l},h=r(u,d),f=i(u),p=f?n():null;super(c,!1,h,p),this._constantSourceNodeRenderer=p,this._nativeConstantSourceNode=h,this._offset=e(this,f,h.offset,qr,ss),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(c){const l="function"==typeof c?o(this,c):null;this._nativeConstantSourceNode.onended=l;const u=this._nativeConstantSourceNode.onended;this._onended=null!==u&&u===l?c:u}start(c=0){if(this._nativeConstantSourceNode.start(c),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.start=c),"closed"!==this.context.state){Fl(this);const l=()=>{this._nativeConstantSourceNode.removeEventListener("ended",l),vo(this)&&Vd(this)};this._nativeConstantSourceNode.addEventListener("ended",l)}}stop(c=0){this._nativeConstantSourceNode.stop(c),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.stop=c)}})(Fn,fi,OK,Hl,cn,Jt,Vl),fR=((t,e)=>(n,r)=>{const s=n.createConvolver();if(Yn(s,r),r.disableNormalization===s.normalize&&(s.normalize=!r.disableNormalization),_n(s,r,"buffer"),r.channelCount>2||(e(s,"channelCount",i=>()=>i.call(s),i=>o=>{if(o>2)throw t();return i.call(s,o)}),"max"===r.channelCountMode))throw t();return e(s,"channelCountMode",i=>()=>i.call(s),i=>o=>{if("max"===o)throw t();return i.call(s,o)}),s})(Ar,$d),PK=((t,e,n)=>()=>{const r=new WeakMap,s=function(){var i=ze(function*(o,a){let c=e(o);return xr(c,a)||(c=t(a,{buffer:c.buffer,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,disableNormalization:!c.normalize})),r.set(a,c),Pl(c)?yield n(o,a,c.inputs[0]):yield n(o,a,c),c});return function(a,c){return i.apply(this,arguments)}}();return{render(i,o){const a=r.get(o);return void 0!==a?Promise.resolve(a):s(i,o)}}})(fR,pn,_r),LK=((t,e,n,r,s,i)=>class extends t{constructor(a,c){const l=r(a),u={...qZ,...c},d=n(l,u);super(a,!1,d,s(l)?e():null),this._isBufferNullified=!1,this._nativeConvolverNode=d,null!==u.buffer&&i(this,u.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(a){if(this._nativeConvolverNode.buffer=a,null===a&&null!==this._nativeConvolverNode.buffer){const c=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=c.createBuffer(1,1,c.sampleRate),this._isBufferNullified=!0,i(this,0)}else this._isBufferNullified=!1,i(this,null===this._nativeConvolverNode.buffer?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(a){this._nativeConvolverNode.normalize=a}})(Fn,PK,fR,cn,Jt,lc),VK=((t,e,n,r,s)=>i=>{const o=new WeakMap,a=function(){var c=ze(function*(l,u){let d=n(l);const h=xr(d,u);return h||(d=e(u,{channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,delayTime:d.delayTime.value,maxDelayTime:i})),o.set(u,d),h?yield t(u,l.delayTime,d.delayTime):yield r(u,l.delayTime,d.delayTime),yield s(l,u,d),d});return function(u,d){return c.apply(this,arguments)}}();return{render(c,l){const u=o.get(l);return void 0!==u?Promise.resolve(u):a(c,l)}}})(Vi,Q1,pn,ji,_r),jK=((t,e,n,r,s,i,o)=>class extends t{constructor(c,l){const u=s(c),d={...QZ,...l},h=r(u,d),f=i(u);super(c,!1,h,f?n(d.maxDelayTime):null),this._delayTime=e(this,f,h.delayTime),o(this,d.maxDelayTime)}get delayTime(){return this._delayTime}})(Fn,fi,VK,Q1,cn,Jt,lc),pR=(t=>(e,n)=>{const r=e.createDynamicsCompressor();if(Yn(r,n),n.channelCount>2||"max"===n.channelCountMode)throw t();return An(r,n,"attack"),An(r,n,"knee"),An(r,n,"ratio"),An(r,n,"release"),An(r,n,"threshold"),r})(Ar),BK=((t,e,n,r,s)=>()=>{const i=new WeakMap,o=function(){var a=ze(function*(c,l){let u=n(c);const d=xr(u,l);return d||(u=e(l,{attack:u.attack.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,knee:u.knee.value,ratio:u.ratio.value,release:u.release.value,threshold:u.threshold.value})),i.set(l,u),d?(yield t(l,c.attack,u.attack),yield t(l,c.knee,u.knee),yield t(l,c.ratio,u.ratio),yield t(l,c.release,u.release),yield t(l,c.threshold,u.threshold)):(yield r(l,c.attack,u.attack),yield r(l,c.knee,u.knee),yield r(l,c.ratio,u.ratio),yield r(l,c.release,u.release),yield r(l,c.threshold,u.threshold)),yield s(c,l,u),u});return function(l,u){return a.apply(this,arguments)}}();return{render(a,c){const l=i.get(c);return void 0!==l?Promise.resolve(l):o(a,c)}}})(Vi,pR,pn,ji,_r),HK=((t,e,n,r,s,i,o,a)=>class extends t{constructor(l,u){const d=i(l),h={...sY,...u},f=r(d,h),p=o(d);super(l,!1,f,p?n():null),this._attack=e(this,p,f.attack),this._knee=e(this,p,f.knee),this._nativeDynamicsCompressorNode=f,this._ratio=e(this,p,f.ratio),this._release=e(this,p,f.release),this._threshold=e(this,p,f.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(l){const u=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=l,l>2)throw this._nativeDynamicsCompressorNode.channelCount=u,s()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(l){const u=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=l,"max"===l)throw this._nativeDynamicsCompressorNode.channelCountMode=u,s()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return"number"==typeof this._nativeDynamicsCompressorNode.reduction.value?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}})(Fn,fi,BK,pR,Ar,cn,Jt,lc),UK=((t,e,n,r,s)=>()=>{const i=new WeakMap,o=function(){var a=ze(function*(c,l){let u=n(c);const d=xr(u,l);return d||(u=e(l,{channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,gain:u.gain.value})),i.set(l,u),d?yield t(l,c.gain,u.gain):yield r(l,c.gain,u.gain),yield s(c,l,u),u});return function(l,u){return a.apply(this,arguments)}}();return{render(a,c){const l=i.get(c);return void 0!==l?Promise.resolve(l):o(a,c)}}})(Vi,is,pn,ji,_r),qK=((t,e,n,r,s,i)=>class extends t{constructor(a,c){const l=s(a),u={...hY,...c},d=r(l,u),h=i(l);super(a,!1,d,h?n():null),this._gain=e(this,h,d.gain,qr,ss)}get gain(){return this._gain}})(Fn,fi,UK,is,cn,Jt),$K=((t,e,n,r)=>(s,i,{channelCount:o,channelCountMode:a,channelInterpretation:c,feedback:l,feedforward:u})=>{const d=Z1(i,s.sampleRate),h=l instanceof Float64Array?l:new Float64Array(l),f=u instanceof Float64Array?u:new Float64Array(u),p=h.length,g=f.length,_=Math.min(p,g);if(0===p||p>20)throw r();if(0===h[0])throw e();if(0===g||g>20)throw r();if(0===f[0])throw e();if(1!==h[0]){for(let S=0;S<g;S+=1)f[S]/=h[0];for(let S=1;S<p;S+=1)h[S]/=h[0]}const m=n(s,d,o,o);m.channelCount=o,m.channelCountMode=a,m.channelInterpretation=c;const M=[],R=[],v=[];for(let S=0;S<o;S+=1){M.push(0);const Z=new Float32Array(32),W=new Float32Array(32);Z.fill(0),W.fill(0),R.push(Z),v.push(W)}m.onaudioprocess=S=>{const Z=S.inputBuffer,W=S.outputBuffer,ee=Z.numberOfChannels;for(let j=0;j<ee;j+=1){const ce=Z.getChannelData(j),ye=W.getChannelData(j);M[j]=G1(h,p,f,g,_,R[j],v[j],M[j],32,ce,ye)}};const N=s.sampleRate/2;return Ll({get bufferSize(){return d},get channelCount(){return m.channelCount},set channelCount(S){m.channelCount=S},get channelCountMode(){return m.channelCountMode},set channelCountMode(S){m.channelCountMode=S},get channelInterpretation(){return m.channelInterpretation},set channelInterpretation(S){m.channelInterpretation=S},get context(){return m.context},get inputs(){return[m]},get numberOfInputs(){return m.numberOfInputs},get numberOfOutputs(){return m.numberOfOutputs},addEventListener:(...S)=>m.addEventListener(S[0],S[1],S[2]),dispatchEvent:(...S)=>m.dispatchEvent(S[0]),getFrequencyResponse(S,Z,W){if(S.length!==Z.length||Z.length!==W.length)throw t();const ee=S.length;for(let j=0;j<ee;j+=1){const ce=-Math.PI*(S[j]/N),ye=[Math.cos(ce),Math.sin(ce)],Me=mQ(K1(f,ye),K1(h,ye));Z[j]=Math.sqrt(Me[0]*Me[0]+Me[1]*Me[1]),W[j]=Math.atan2(Me[1],Me[0])}},removeEventListener:(...S)=>m.removeEventListener(S[0],S[1],S[2])},m)})(Og,zn,qd,Ar),Pg=((t,e,n,r)=>s=>t(cc,()=>cc(s))?Promise.resolve(t(r,r)).then(i=>{if(!i){const o=n(s,512,0,1);s.oncomplete=()=>{o.onaudioprocess=null,o.disconnect()},o.onaudioprocess=()=>s.currentTime,o.connect(s.destination)}return s.startRendering()}):new Promise(i=>{const o=e(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});s.oncomplete=a=>{o.disconnect(),i(a.renderedBuffer)},o.connect(s.destination),s.startRendering()}))(ws,is,qd,((t,e)=>()=>{if(null===e)return Promise.resolve(!1);const n=new e(1,1,44100),r=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(s=>{n.oncomplete=()=>{r.disconnect(),s(0!==n.currentTime)},n.startRendering()})})(is,lr)),zK=((t,e,n,r,s)=>(i,o)=>{const a=new WeakMap;let c=null;const l=function(){var u=ze(function*(d,h){let f=null,p=e(d);const g=xr(p,h);if(void 0===h.createIIRFilter?f=t(h,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):g||(p=h.createIIRFilter(o,i)),a.set(h,null===f?p:f),null!==f){if(null===c){if(null===n)throw new Error("Missing the native OfflineAudioContext constructor.");const m=new n(d.context.destination.channelCount,d.context.length,h.sampleRate);c=ze(function*(){return yield r(d,m,m.destination),((t,e,n,r)=>{const s=n instanceof Float64Array?n:new Float64Array(n),i=r instanceof Float64Array?r:new Float64Array(r),o=s.length,a=i.length,c=Math.min(o,a);if(1!==s[0]){for(let p=0;p<o;p+=1)i[p]/=s[0];for(let p=1;p<a;p+=1)s[p]/=s[0]}const u=new Float32Array(32),d=new Float32Array(32),h=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),f=t.numberOfChannels;for(let p=0;p<f;p+=1){const g=t.getChannelData(p),_=h.getChannelData(p);u.fill(0),d.fill(0),G1(s,o,i,a,c,u,d,0,32,g,_)}return h})(yield s(m),h,i,o)})()}const _=yield c;return f.buffer=_,f.start(0),f}return yield r(d,h,p),p});return function(h,f){return u.apply(this,arguments)}}();return{render(u,d){const h=a.get(d);return void 0!==h?Promise.resolve(h):l(u,d)}}})(Bl,pn,lr,_r,Pg),GK=(t=>(e,n,r)=>{if(void 0===e.createIIRFilter)return t(e,n,r);const s=e.createIIRFilter(r.feedforward,r.feedback);return Yn(s,r),s})($K),WK=((t,e,n,r,s,i)=>class extends t{constructor(a,c){const l=r(a),u=s(l),d={...EY,...c},h=e(l,u?null:a.baseLatency,d);super(a,!1,h,u?n(d.feedback,d.feedforward):null),(t=>{t.getFrequencyResponse=(e=>(n,r,s)=>{if(n.length!==r.length||r.length!==s.length)throw Og();return e.call(t,n,r,s)})(t.getFrequencyResponse)})(h),this._nativeIIRFilterNode=h,i(this,1)}getFrequencyResponse(a,c,l){return this._nativeIIRFilterNode.getFrequencyResponse(a,c,l)}})(Fn,GK,zK,cn,Jt,lc),ZK=((t,e,n,r,s,i,o,a)=>(c,l)=>{const u=l.listener,{forwardX:h,forwardY:f,forwardZ:p,positionX:g,positionY:_,positionZ:m,upX:y,upY:M,upZ:R}=void 0===u.forwardX?(()=>{const v=new Float32Array(1),N=e(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),I=o(l);let S=!1,Z=[0,0,-1,0,1,0],W=[0,0,0];const ee=()=>{if(S)return;S=!0;const ge=r(l,256,9,0);ge.onaudioprocess=({inputBuffer:de})=>{const Me=[i(de,v,0),i(de,v,1),i(de,v,2),i(de,v,3),i(de,v,4),i(de,v,5)];Me.some((Ve,ut)=>Ve!==Z[ut])&&(u.setOrientation(...Me),Z=Me);const Ke=[i(de,v,6),i(de,v,7),i(de,v,8)];Ke.some((Ve,ut)=>Ve!==W[ut])&&(u.setPosition(...Ke),W=Ke)},N.connect(ge)},j=ge=>de=>{de!==Z[ge]&&(Z[ge]=de,u.setOrientation(...Z))},ce=ge=>de=>{de!==W[ge]&&(W[ge]=de,u.setPosition(...W))},ye=(ge,de,Me)=>{const Ke=n(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:de});Ke.connect(N,0,ge),Ke.start(),Object.defineProperty(Ke.offset,"defaultValue",{get:()=>de});const Ve=t({context:c},I,Ke.offset,qr,ss);return a(Ve,"value",ut=>()=>ut.call(Ve),ut=>ft=>{try{ut.call(Ve,ft)}catch(ln){if(9!==ln.code)throw ln}ee(),I&&Me(ft)}),Ve.cancelAndHoldAtTime=(ut=>I?()=>{throw s()}:(...ft)=>{const ln=ut.apply(Ve,ft);return ee(),ln})(Ve.cancelAndHoldAtTime),Ve.cancelScheduledValues=(ut=>I?()=>{throw s()}:(...ft)=>{const ln=ut.apply(Ve,ft);return ee(),ln})(Ve.cancelScheduledValues),Ve.exponentialRampToValueAtTime=(ut=>I?()=>{throw s()}:(...ft)=>{const ln=ut.apply(Ve,ft);return ee(),ln})(Ve.exponentialRampToValueAtTime),Ve.linearRampToValueAtTime=(ut=>I?()=>{throw s()}:(...ft)=>{const ln=ut.apply(Ve,ft);return ee(),ln})(Ve.linearRampToValueAtTime),Ve.setTargetAtTime=(ut=>I?()=>{throw s()}:(...ft)=>{const ln=ut.apply(Ve,ft);return ee(),ln})(Ve.setTargetAtTime),Ve.setValueAtTime=(ut=>I?()=>{throw s()}:(...ft)=>{const ln=ut.apply(Ve,ft);return ee(),ln})(Ve.setValueAtTime),Ve.setValueCurveAtTime=(ut=>I?()=>{throw s()}:(...ft)=>{const ln=ut.apply(Ve,ft);return ee(),ln})(Ve.setValueCurveAtTime),Ve};return{forwardX:ye(0,0,j(0)),forwardY:ye(1,0,j(1)),forwardZ:ye(2,-1,j(2)),positionX:ye(6,0,ce(0)),positionY:ye(7,0,ce(1)),positionZ:ye(8,0,ce(2)),upX:ye(3,0,j(3)),upY:ye(4,1,j(4)),upZ:ye(5,0,j(5))}})():u;return{get forwardX(){return h},get forwardY(){return f},get forwardZ(){return p},get positionX(){return g},get positionY(){return _},get positionZ(){return m},get upX(){return y},get upY(){return M},get upZ(){return R}}})(fi,oa,Hl,qd,Ar,J1,Jt,$d),gR=new WeakMap,iD=((t,e,n,r,s,i)=>class extends n{constructor(a,c){super(a),this._nativeContext=a,Dg.set(this,a),r(a)&&s.set(a,new Set),this._destination=new t(this,c),this._listener=e(this,a),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(a){const c="function"==typeof a?i(this,a):null;this._nativeContext.onstatechange=c;const l=this._nativeContext.onstatechange;this._onstatechange=null!==l&&l===c?a:l}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}})(TK,ZK,aR,Jt,gR,Vl),mR=((t,e,n,r,s,i)=>(o,a)=>{const c=o.createOscillator();return Yn(c,a),An(c,a,"detune"),An(c,a,"frequency"),void 0!==a.periodicWave?c.setPeriodicWave(a.periodicWave):_n(c,a,"type"),e(n,()=>n(o))||YC(c),e(r,()=>r(o))||i(c,o),e(s,()=>s(o))||QC(c),t(o,c),c})(Fg,ws,KC,nR,XC,rR),YK=((t,e,n,r,s)=>()=>{const i=new WeakMap;let o=null,a=null,c=null;const l=function(){var u=ze(function*(d,h){let f=n(d);const p=xr(f,h);return p||(f=e(h,{channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,detune:f.detune.value,frequency:f.frequency.value,periodicWave:null===o?void 0:o,type:f.type}),null!==a&&f.start(a),null!==c&&f.stop(c)),i.set(h,f),p?(yield t(h,d.detune,f.detune),yield t(h,d.frequency,f.frequency)):(yield r(h,d.detune,f.detune),yield r(h,d.frequency,f.frequency)),yield s(d,h,f),f});return function(h,f){return u.apply(this,arguments)}}();return{set periodicWave(u){o=u},set start(u){a=u},set stop(u){c=u},render(u,d){const h=i.get(d);return void 0!==h?Promise.resolve(h):l(u,d)}}})(Vi,mR,pn,ji,_r),QK=((t,e,n,r,s,i,o)=>class extends t{constructor(c,l){const u=s(c),d={...OQ,...l},h=n(u,d),f=i(u),p=f?r():null,g=c.sampleRate/2;super(c,!1,h,p),this._detune=e(this,f,h.detune,153600,-153600),this._frequency=e(this,f,h.frequency,g,-g),this._nativeOscillatorNode=h,this._onended=null,this._oscillatorNodeRenderer=p,null!==this._oscillatorNodeRenderer&&void 0!==d.periodicWave&&(this._oscillatorNodeRenderer.periodicWave=d.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(c){const l="function"==typeof c?o(this,c):null;this._nativeOscillatorNode.onended=l;const u=this._nativeOscillatorNode.onended;this._onended=null!==u&&u===l?c:u}get type(){return this._nativeOscillatorNode.type}set type(c){this._nativeOscillatorNode.type=c,null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(c){this._nativeOscillatorNode.setPeriodicWave(c),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=c)}start(c=0){if(this._nativeOscillatorNode.start(c),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.start=c),"closed"!==this.context.state){Fl(this);const l=()=>{this._nativeOscillatorNode.removeEventListener("ended",l),vo(this)&&Vd(this)};this._nativeOscillatorNode.addEventListener("ended",l)}}stop(c=0){this._nativeOscillatorNode.stop(c),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.stop=c)}})(Fn,fi,mR,YK,cn,Jt,Vl),_R=(t=>(e,n)=>{const r=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),s=e.createBuffer(1,2,44100);return r.buffer=s,r.loop=!0,r.connect(n),r.start(),()=>{r.stop(),r.disconnect(n)}})(Bl),KK=((t,e,n,r,s)=>(i,{curve:o,oversample:a,...c})=>{const l=i.createWaveShaper(),u=i.createWaveShaper();Yn(l,c),Yn(u,c);const d=n(i,{...c,gain:1}),h=n(i,{...c,gain:-1}),f=n(i,{...c,gain:1}),p=n(i,{...c,gain:-1});let g=null,_=!1,m=null;const y={get bufferSize(){},get channelCount(){return l.channelCount},set channelCount(v){d.channelCount=v,h.channelCount=v,l.channelCount=v,f.channelCount=v,u.channelCount=v,p.channelCount=v},get channelCountMode(){return l.channelCountMode},set channelCountMode(v){d.channelCountMode=v,h.channelCountMode=v,l.channelCountMode=v,f.channelCountMode=v,u.channelCountMode=v,p.channelCountMode=v},get channelInterpretation(){return l.channelInterpretation},set channelInterpretation(v){d.channelInterpretation=v,h.channelInterpretation=v,l.channelInterpretation=v,f.channelInterpretation=v,u.channelInterpretation=v,p.channelInterpretation=v},get context(){return l.context},get curve(){return m},set curve(v){if(null!==v&&v.length<2)throw e();if(null===v)l.curve=v,u.curve=v;else{const N=v.length,I=new Float32Array(N+2-N%2),S=new Float32Array(N+2-N%2);I[0]=v[0],S[0]=-v[N-1];const Z=Math.ceil((N+1)/2),W=(N+1)/2-1;for(let ee=1;ee<Z;ee+=1){const j=ee/Z*W,ce=Math.floor(j),ye=Math.ceil(j);I[ee]=ce===ye?v[ce]:(1-(j-ce))*v[ce]+(1-(ye-j))*v[ye],S[ee]=ce===ye?-v[N-1-ce]:-(1-(j-ce))*v[N-1-ce]-(1-(ye-j))*v[N-1-ye]}I[Z]=N%2==1?v[Z-1]:(v[Z-2]+v[Z-1])/2,l.curve=I,u.curve=S}m=v,_&&(r(m)&&null===g?g=t(i,d):null!==g&&(g(),g=null))},get inputs(){return[d]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return l.numberOfOutputs},get oversample(){return l.oversample},set oversample(v){l.oversample=v,u.oversample=v},addEventListener:(...v)=>d.addEventListener(v[0],v[1],v[2]),dispatchEvent:(...v)=>d.dispatchEvent(v[0]),removeEventListener:(...v)=>d.removeEventListener(v[0],v[1],v[2])};return null!==o&&(y.curve=o instanceof Float32Array?o:new Float32Array(o)),a!==y.oversample&&(y.oversample=a),s(Ll(y,f),()=>{d.connect(l).connect(f),d.connect(h).connect(u).connect(p).connect(f),_=!0,r(m)&&(g=t(i,d))},()=>{d.disconnect(l),l.disconnect(f),d.disconnect(h),h.disconnect(u),u.disconnect(p),p.disconnect(f),_=!1,null!==g&&(g(),g=null)})})(_R,zn,is,eR,ia),Lg=((t,e,n,r,s,i,o)=>(a,c)=>{const l=a.createWaveShaper();if(null!==i&&"webkitAudioContext"===i.name&&void 0===a.createGain().gain.automationRate)return n(a,c);Yn(l,c);const u=null===c.curve||c.curve instanceof Float32Array?c.curve:new Float32Array(c.curve);if(null!==u&&u.length<2)throw e();_n(l,{curve:u},"curve"),_n(l,c,"oversample");let d=null,h=!1;return o(l,"curve",g=>()=>g.call(l),g=>_=>(g.call(l,_),h&&(r(_)&&null===d?d=t(a,l):!r(_)&&null!==d&&(d(),d=null)),_)),s(l,()=>{h=!0,r(l.curve)&&(d=t(a,l))},()=>{h=!1,null!==d&&(d(),d=null)})})(_R,zn,KK,eR,ia,bo,$d),XK=((t,e,n,r,s,i,o,a,c,l)=>(u,{coneInnerAngle:d,coneOuterAngle:h,coneOuterGain:f,distanceModel:p,maxDistance:g,orientationX:_,orientationY:m,orientationZ:y,panningModel:M,positionX:R,positionY:v,positionZ:N,refDistance:I,rolloffFactor:S,...Z})=>{const W=u.createPanner();if(Z.channelCount>2||"max"===Z.channelCountMode)throw o();Yn(W,Z);const ee={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},j=n(u,{...ee,channelInterpretation:"speakers",numberOfInputs:6}),ce=r(u,{...Z,gain:1}),ye=r(u,{...ee,gain:1}),ge=r(u,{...ee,gain:0}),de=r(u,{...ee,gain:0}),Me=r(u,{...ee,gain:0}),Ke=r(u,{...ee,gain:0}),Ve=r(u,{...ee,gain:0}),ut=s(u,256,6,1),ft=i(u,{...ee,curve:new Float32Array([1,1]),oversample:"none"});let ln=[_,m,y],Xn=[R,v,N];const Wr=new Float32Array(1);ut.onaudioprocess=({inputBuffer:oe})=>{const Jn=[c(oe,Wr,0),c(oe,Wr,1),c(oe,Wr,2)];Jn.some((Xl,Jl)=>Xl!==ln[Jl])&&(W.setOrientation(...Jn),ln=Jn);const $i=[c(oe,Wr,3),c(oe,Wr,4),c(oe,Wr,5)];$i.some((Xl,Jl)=>Xl!==Xn[Jl])&&(W.setPosition(...$i),Xn=$i)},Object.defineProperty(ge.gain,"defaultValue",{get:()=>0}),Object.defineProperty(de.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Me.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Ke.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Ve.gain,"defaultValue",{get:()=>0});const Tt={get bufferSize(){},get channelCount(){return W.channelCount},set channelCount(oe){if(oe>2)throw o();ce.channelCount=oe,W.channelCount=oe},get channelCountMode(){return W.channelCountMode},set channelCountMode(oe){if("max"===oe)throw o();ce.channelCountMode=oe,W.channelCountMode=oe},get channelInterpretation(){return W.channelInterpretation},set channelInterpretation(oe){ce.channelInterpretation=oe,W.channelInterpretation=oe},get coneInnerAngle(){return W.coneInnerAngle},set coneInnerAngle(oe){W.coneInnerAngle=oe},get coneOuterAngle(){return W.coneOuterAngle},set coneOuterAngle(oe){W.coneOuterAngle=oe},get coneOuterGain(){return W.coneOuterGain},set coneOuterGain(oe){if(oe<0||oe>1)throw e();W.coneOuterGain=oe},get context(){return W.context},get distanceModel(){return W.distanceModel},set distanceModel(oe){W.distanceModel=oe},get inputs(){return[ce]},get maxDistance(){return W.maxDistance},set maxDistance(oe){if(oe<0)throw new RangeError;W.maxDistance=oe},get numberOfInputs(){return W.numberOfInputs},get numberOfOutputs(){return W.numberOfOutputs},get orientationX(){return ye.gain},get orientationY(){return ge.gain},get orientationZ(){return de.gain},get panningModel(){return W.panningModel},set panningModel(oe){W.panningModel=oe},get positionX(){return Me.gain},get positionY(){return Ke.gain},get positionZ(){return Ve.gain},get refDistance(){return W.refDistance},set refDistance(oe){if(oe<0)throw new RangeError;W.refDistance=oe},get rolloffFactor(){return W.rolloffFactor},set rolloffFactor(oe){if(oe<0)throw new RangeError;W.rolloffFactor=oe},addEventListener:(...oe)=>ce.addEventListener(oe[0],oe[1],oe[2]),dispatchEvent:(...oe)=>ce.dispatchEvent(oe[0]),removeEventListener:(...oe)=>ce.removeEventListener(oe[0],oe[1],oe[2])};return d!==Tt.coneInnerAngle&&(Tt.coneInnerAngle=d),h!==Tt.coneOuterAngle&&(Tt.coneOuterAngle=h),f!==Tt.coneOuterGain&&(Tt.coneOuterGain=f),p!==Tt.distanceModel&&(Tt.distanceModel=p),g!==Tt.maxDistance&&(Tt.maxDistance=g),_!==Tt.orientationX.value&&(Tt.orientationX.value=_),m!==Tt.orientationY.value&&(Tt.orientationY.value=m),y!==Tt.orientationZ.value&&(Tt.orientationZ.value=y),M!==Tt.panningModel&&(Tt.panningModel=M),R!==Tt.positionX.value&&(Tt.positionX.value=R),v!==Tt.positionY.value&&(Tt.positionY.value=v),N!==Tt.positionZ.value&&(Tt.positionZ.value=N),I!==Tt.refDistance&&(Tt.refDistance=I),S!==Tt.rolloffFactor&&(Tt.rolloffFactor=S),(1!==ln[0]||0!==ln[1]||0!==ln[2])&&W.setOrientation(...ln),(0!==Xn[0]||0!==Xn[1]||0!==Xn[2])&&W.setPosition(...Xn),l(Ll(Tt,W),()=>{ce.connect(W),t(ce,ft,0,0),ft.connect(ye).connect(j,0,0),ft.connect(ge).connect(j,0,1),ft.connect(de).connect(j,0,2),ft.connect(Me).connect(j,0,3),ft.connect(Ke).connect(j,0,4),ft.connect(Ve).connect(j,0,5),j.connect(ut).connect(u.destination)},()=>{ce.disconnect(W),a(ce,ft,0,0),ft.disconnect(ye),ye.disconnect(j),ft.disconnect(ge),ge.disconnect(j),ft.disconnect(de),de.disconnect(j),ft.disconnect(Me),Me.disconnect(j),ft.disconnect(Ke),Ke.disconnect(j),ft.disconnect(Ve),Ve.disconnect(j),j.disconnect(ut),ut.disconnect(u.destination)})})(Mg,zn,oa,is,qd,Lg,Ar,Ig,J1,ia),yR=(t=>(e,n)=>{const r=e.createPanner();return void 0===r.orientationX?t(e,n):(Yn(r,n),An(r,n,"orientationX"),An(r,n,"orientationY"),An(r,n,"orientationZ"),An(r,n,"positionX"),An(r,n,"positionY"),An(r,n,"positionZ"),_n(r,n,"coneInnerAngle"),_n(r,n,"coneOuterAngle"),_n(r,n,"coneOuterGain"),_n(r,n,"distanceModel"),_n(r,n,"maxDistance"),_n(r,n,"panningModel"),_n(r,n,"refDistance"),_n(r,n,"rolloffFactor"),r)})(XK),JK=((t,e,n,r,s,i,o,a,c,l)=>()=>{const u=new WeakMap;let d=null;const h=function(){var f=ze(function*(p,g){let _=null,m=i(p);const y={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation},M={...y,coneInnerAngle:m.coneInnerAngle,coneOuterAngle:m.coneOuterAngle,coneOuterGain:m.coneOuterGain,distanceModel:m.distanceModel,maxDistance:m.maxDistance,panningModel:m.panningModel,refDistance:m.refDistance,rolloffFactor:m.rolloffFactor},R=xr(m,g);if("bufferSize"in m)_=r(g,{...y,gain:1});else if(!R){const v={...M,orientationX:m.orientationX.value,orientationY:m.orientationY.value,orientationZ:m.orientationZ.value,positionX:m.positionX.value,positionY:m.positionY.value,positionZ:m.positionZ.value};m=s(g,v)}if(u.set(g,null===_?m:_),null!==_){if(null===d){if(null===o)throw new Error("Missing the native OfflineAudioContext constructor.");const j=new o(6,p.context.length,g.sampleRate),ce=e(j,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});ce.connect(j.destination),d=ze(function*(){const ye=yield Promise.all([p.orientationX,p.orientationY,p.orientationZ,p.positionX,p.positionY,p.positionZ].map(function(){var ge=ze(function*(de,Me){const Ke=n(j,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:0===Me?1:0});return yield a(j,de,Ke.offset),Ke});return function(de,Me){return ge.apply(this,arguments)}}()));for(let ge=0;ge<6;ge+=1)ye[ge].connect(ce,0,ge),ye[ge].start(0);return l(j)})()}const v=yield d,N=r(g,{...y,gain:1});yield c(p,g,N);const I=[];for(let j=0;j<v.numberOfChannels;j+=1)I.push(v.getChannelData(j));let S=[I[0][0],I[1][0],I[2][0]],Z=[I[3][0],I[4][0],I[5][0]],W=r(g,{...y,gain:1}),ee=s(g,{...M,orientationX:S[0],orientationY:S[1],orientationZ:S[2],positionX:Z[0],positionY:Z[1],positionZ:Z[2]});N.connect(W).connect(ee.inputs[0]),ee.connect(_);for(let j=128;j<v.length;j+=128){const ce=[I[0][j],I[1][j],I[2][j]],ye=[I[3][j],I[4][j],I[5][j]];if(ce.some((ge,de)=>ge!==S[de])||ye.some((ge,de)=>ge!==Z[de])){S=ce,Z=ye;const ge=j/g.sampleRate;W.gain.setValueAtTime(0,ge),W=r(g,{...y,gain:0}),ee=s(g,{...M,orientationX:S[0],orientationY:S[1],orientationZ:S[2],positionX:Z[0],positionY:Z[1],positionZ:Z[2]}),W.gain.setValueAtTime(1,ge),N.connect(W).connect(ee.inputs[0]),ee.connect(_)}}return _}return R?(yield t(g,p.orientationX,m.orientationX),yield t(g,p.orientationY,m.orientationY),yield t(g,p.orientationZ,m.orientationZ),yield t(g,p.positionX,m.positionX),yield t(g,p.positionY,m.positionY),yield t(g,p.positionZ,m.positionZ)):(yield a(g,p.orientationX,m.orientationX),yield a(g,p.orientationY,m.orientationY),yield a(g,p.orientationZ,m.orientationZ),yield a(g,p.positionX,m.positionX),yield a(g,p.positionY,m.positionY),yield a(g,p.positionZ,m.positionZ)),Pl(m)?yield c(p,g,m.inputs[0]):yield c(p,g,m),m});return function(g,_){return f.apply(this,arguments)}}();return{render(f,p){const g=u.get(p);return void 0!==g?Promise.resolve(g):h(f,p)}}})(Vi,oa,Hl,is,yR,pn,lr,ji,_r,Pg),eX=((t,e,n,r,s,i,o)=>class extends t{constructor(c,l){const u=s(c),d={...LQ,...l},h=n(u,d),f=i(u);super(c,!1,h,f?r():null),this._nativePannerNode=h,this._orientationX=e(this,f,h.orientationX,qr,ss),this._orientationY=e(this,f,h.orientationY,qr,ss),this._orientationZ=e(this,f,h.orientationZ,qr,ss),this._positionX=e(this,f,h.positionX,qr,ss),this._positionY=e(this,f,h.positionY,qr,ss),this._positionZ=e(this,f,h.positionZ,qr,ss),o(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(c){this._nativePannerNode.coneInnerAngle=c}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(c){this._nativePannerNode.coneOuterAngle=c}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(c){this._nativePannerNode.coneOuterGain=c}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(c){this._nativePannerNode.distanceModel=c}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(c){this._nativePannerNode.maxDistance=c}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(c){this._nativePannerNode.panningModel=c}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(c){this._nativePannerNode.refDistance=c}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(c){this._nativePannerNode.rolloffFactor=c}})(Fn,fi,yR,JK,cn,Jt,lc),tX=(t=>(e,{disableNormalization:n,imag:r,real:s})=>{const i=r instanceof Float32Array?r:new Float32Array(r),o=s instanceof Float32Array?s:new Float32Array(s),a=e.createPeriodicWave(o,i,{disableNormalization:n});if(Array.from(r).length<2)throw t();return a})(Li),nX=((t,e,n)=>class QO{constructor(i,o){const a=e(i),c=(t=>{const{imag:e,real:n}=t;return void 0===e?void 0===n?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(n,()=>0),real:n}:void 0===n?{...t,imag:e,real:Array.from(e,()=>0)}:{...t,imag:e,real:n}})({...BQ,...o}),l=t(a,c);return n.add(l),l}static[Symbol.hasInstance](i){return null!==i&&"object"==typeof i&&Object.getPrototypeOf(i)===QO.prototype||n.has(i)}})(tX,cn,new WeakSet),rX=((t,e,n,r,s,i)=>{const a=new Float32Array([1,1]),c=Math.PI/2,l={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},u={...l,oversample:"none"},f=(p,g,_,m,y)=>{if(1===g)return((p,g,_,m)=>{const y=new Float32Array(16385),M=new Float32Array(16385);for(let Z=0;Z<16385;Z+=1){const W=Z/16384*c;y[Z]=Math.cos(W),M[Z]=Math.sin(W)}const R=n(p,{...l,gain:0}),v=r(p,{...u,curve:y}),N=r(p,{...u,curve:a}),I=n(p,{...l,gain:0}),S=r(p,{...u,curve:M});return{connectGraph(){g.connect(R),g.connect(void 0===N.inputs?N:N.inputs[0]),g.connect(I),N.connect(_),_.connect(void 0===v.inputs?v:v.inputs[0]),_.connect(void 0===S.inputs?S:S.inputs[0]),v.connect(R.gain),S.connect(I.gain),R.connect(m,0,0),I.connect(m,0,1)},disconnectGraph(){g.disconnect(R),g.disconnect(void 0===N.inputs?N:N.inputs[0]),g.disconnect(I),N.disconnect(_),_.disconnect(void 0===v.inputs?v:v.inputs[0]),_.disconnect(void 0===S.inputs?S:S.inputs[0]),v.disconnect(R.gain),S.disconnect(I.gain),R.disconnect(m,0,0),I.disconnect(m,0,1)}}})(p,_,m,y);if(2===g)return((p,g,_,m)=>{const y=new Float32Array(16385),M=new Float32Array(16385),R=new Float32Array(16385),v=new Float32Array(16385),N=Math.floor(8192.5);for(let Me=0;Me<16385;Me+=1)if(Me>N){const Ke=(Me-N)/(16384-N)*c;y[Me]=Math.cos(Ke),M[Me]=Math.sin(Ke),R[Me]=0,v[Me]=1}else{const Ke=Me/(16384-N)*c;y[Me]=1,M[Me]=0,R[Me]=Math.cos(Ke),v[Me]=Math.sin(Ke)}const I=e(p,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),S=n(p,{...l,gain:0}),Z=r(p,{...u,curve:y}),W=n(p,{...l,gain:0}),ee=r(p,{...u,curve:M}),j=r(p,{...u,curve:a}),ce=n(p,{...l,gain:0}),ye=r(p,{...u,curve:R}),ge=n(p,{...l,gain:0}),de=r(p,{...u,curve:v});return{connectGraph(){g.connect(I),g.connect(void 0===j.inputs?j:j.inputs[0]),I.connect(S,0),I.connect(W,0),I.connect(ce,1),I.connect(ge,1),j.connect(_),_.connect(void 0===Z.inputs?Z:Z.inputs[0]),_.connect(void 0===ee.inputs?ee:ee.inputs[0]),_.connect(void 0===ye.inputs?ye:ye.inputs[0]),_.connect(void 0===de.inputs?de:de.inputs[0]),Z.connect(S.gain),ee.connect(W.gain),ye.connect(ce.gain),de.connect(ge.gain),S.connect(m,0,0),ce.connect(m,0,0),W.connect(m,0,1),ge.connect(m,0,1)},disconnectGraph(){g.disconnect(I),g.disconnect(void 0===j.inputs?j:j.inputs[0]),I.disconnect(S,0),I.disconnect(W,0),I.disconnect(ce,1),I.disconnect(ge,1),j.disconnect(_),_.disconnect(void 0===Z.inputs?Z:Z.inputs[0]),_.disconnect(void 0===ee.inputs?ee:ee.inputs[0]),_.disconnect(void 0===ye.inputs?ye:ye.inputs[0]),_.disconnect(void 0===de.inputs?de:de.inputs[0]),Z.disconnect(S.gain),ee.disconnect(W.gain),ye.disconnect(ce.gain),de.disconnect(ge.gain),S.disconnect(m,0,0),ce.disconnect(m,0,0),W.disconnect(m,0,1),ge.disconnect(m,0,1)}}})(p,_,m,y);throw s()};return(p,{channelCount:g,channelCountMode:_,pan:m,...y})=>{if("max"===_)throw s();const M=t(p,{...y,channelCount:1,channelCountMode:_,numberOfInputs:2}),R=n(p,{...y,channelCount:g,channelCountMode:_,gain:1}),v=n(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:m});let{connectGraph:N,disconnectGraph:I}=f(p,g,R,v,M);Object.defineProperty(v.gain,"defaultValue",{get:()=>0}),Object.defineProperty(v.gain,"maxValue",{get:()=>1}),Object.defineProperty(v.gain,"minValue",{get:()=>-1});const S={get bufferSize(){},get channelCount(){return R.channelCount},set channelCount(j){R.channelCount!==j&&(Z&&I(),({connectGraph:N,disconnectGraph:I}=f(p,j,R,v,M)),Z&&N()),R.channelCount=j},get channelCountMode(){return R.channelCountMode},set channelCountMode(j){if("clamped-max"===j||"max"===j)throw s();R.channelCountMode=j},get channelInterpretation(){return R.channelInterpretation},set channelInterpretation(j){R.channelInterpretation=j},get context(){return R.context},get inputs(){return[R]},get numberOfInputs(){return R.numberOfInputs},get numberOfOutputs(){return R.numberOfOutputs},get pan(){return v.gain},addEventListener:(...j)=>R.addEventListener(j[0],j[1],j[2]),dispatchEvent:(...j)=>R.dispatchEvent(j[0]),removeEventListener:(...j)=>R.removeEventListener(j[0],j[1],j[2])};let Z=!1;return i(Ll(S,M),()=>{N(),Z=!0},()=>{I(),Z=!1})}})(oa,Ud,is,Lg,Ar,ia),vR=((t,e)=>(n,r)=>{const s=r.channelCountMode;if("clamped-max"===s)throw e();if(void 0===n.createStereoPanner)return t(n,r);const i=n.createStereoPanner();return Yn(i,r),An(i,r,"pan"),Object.defineProperty(i,"channelCountMode",{get:()=>s,set:o=>{if(o!==s)throw e()}}),i})(rX,Ar),sX=((t,e,n,r,s)=>()=>{const i=new WeakMap,o=function(){var a=ze(function*(c,l){let u=n(c);const d=xr(u,l);return d||(u=e(l,{channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,pan:u.pan.value})),i.set(l,u),d?yield t(l,c.pan,u.pan):yield r(l,c.pan,u.pan),Pl(u)?yield s(c,l,u.inputs[0]):yield s(c,l,u),u});return function(l,u){return a.apply(this,arguments)}}();return{render(a,c){const l=i.get(c);return void 0!==l?Promise.resolve(l):o(a,c)}}})(Vi,vR,pn,ji,_r),iX=((t,e,n,r,s,i)=>class extends t{constructor(a,c){const l=s(a),u={...YQ,...c},d=n(l,u),h=i(l);super(a,!1,d,h?r():null),this._pan=e(this,h,d.pan)}get pan(){return this._pan}})(Fn,fi,vR,sX,cn,Jt),oX=((t,e,n)=>()=>{const r=new WeakMap,s=function(){var i=ze(function*(o,a){let c=e(o);return xr(c,a)||(c=t(a,{channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,curve:c.curve,oversample:c.oversample})),r.set(a,c),Pl(c)?yield n(o,a,c.inputs[0]):yield n(o,a,c),c});return function(a,c){return i.apply(this,arguments)}}();return{render(i,o){const a=r.get(o);return void 0!==a?Promise.resolve(a):s(i,o)}}})(Lg,pn,_r),aX=((t,e,n,r,s,i,o)=>class extends t{constructor(c,l){const u=s(c),d={...tK,...l},h=n(u,d);super(c,!0,h,i(u)?r():null),this._isCurveNullified=!1,this._nativeWaveShaperNode=h,o(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(c){if(null===c)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(c.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=c}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(c){this._nativeWaveShaperNode.oversample=c}})(Fn,zn,Lg,oX,cn,Jt,lc),bR=(t=>null!==t&&t.isSecureContext)(hi),oD=(t=>(e,n,r)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get:()=>Math.round(e*n)},currentTime:{configurable:!0,get:()=>e}});try{return r()}finally{null!==t&&(delete t.currentFrame,delete t.currentTime)}})(hi),CR=new WeakMap,cX=((t,e)=>n=>{let r=t.get(n);if(void 0!==r)return r;if(null===e)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new e(1,1,44100),t.set(n,r),r})(CR,lr),lX=bR?((t,e,n,r,s,i,o,a,c,l,u,d,h)=>{let f=0;return(p,g,_={credentials:"omit"})=>{const m=u.get(p);if(void 0!==m&&m.has(g))return Promise.resolve();const y=l.get(p);if(void 0!==y){const v=y.get(g);if(void 0!==v)return v}const M=i(p),R=void 0===M.audioWorklet?s(g).then(([v,N])=>{const[I,S]=N1(v,N);return n(`${I};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${S}\n})})(window,'_AWGS')`)}).then(()=>{const v=h._AWGS.pop();if(void 0===v)throw new SyntaxError;r(M.currentTime,M.sampleRate,()=>v(class{},void 0,(N,I)=>{if(""===N.trim())throw e();const S=HC.get(M);if(void 0!==S){if(S.has(N))throw e();R1(I),k1(I.parameterDescriptors),S.set(N,I)}else R1(I),k1(I.parameterDescriptors),HC.set(M,new Map([[N,I]]))},M.sampleRate,void 0,void 0))}):Promise.all([s(g),Promise.resolve(t(d,d))]).then(([[v,N],I])=>{const S=f+1;f=S;const[Z,W]=N1(v,N),ge=new Blob([`${Z};((AudioWorkletProcessor,registerProcessor)=>{${W}\n})(${I?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${I?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${I?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${S}',class extends AudioWorkletProcessor{process(){return !1}})`],{type:"application/javascript; charset=utf-8"}),de=URL.createObjectURL(ge);return M.audioWorklet.addModule(de,_).then(()=>{if(a(M))return M;const Me=o(M);return Me.audioWorklet.addModule(de,_).then(()=>Me)}).then(Me=>{if(null===c)throw new SyntaxError;try{new c(Me,`__sac${S}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(de))});return void 0===y?l.set(p,new Map([[g,R]])):y.set(g,R),R.then(()=>{const v=u.get(p);void 0===v?u.set(p,new Set([g])):v.add(g)}).finally(()=>{const v=l.get(p);void 0!==v&&v.delete(g)}),R}})(ws,Ar,(t=>e=>new Promise((n,r)=>{if(null===t)return void r(new SyntaxError);const s=t.document.head;if(null===s)r(new SyntaxError);else{const i=t.document.createElement("script"),o=new Blob([e],{type:"application/javascript"}),a=URL.createObjectURL(o),c=t.onerror,l=()=>{t.onerror=c,URL.revokeObjectURL(a)};t.onerror=(u,d,h,f,p)=>d===a||d===t.location.href&&1===h&&1===f?(l(),r(p),!1):null!==c?c(u,d,h,f,p):void 0,i.onerror=()=>{l(),r(new SyntaxError)},i.onload=()=>{l(),n()},i.src=a,i.type="module",s.appendChild(i)}}))(hi),oD,function(){var e=ze(function*(n){try{const r=yield fetch(n);if(r.ok)return[yield r.text(),r.url]}catch{}throw new DOMException("","AbortError")});return function(n){return e.apply(this,arguments)}}(),cn,cX,Jt,jl,new WeakMap,new WeakMap,((t,e)=>ze(function*(){if(null===t)return!0;if(null===e)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new e(1,128,44100),s=URL.createObjectURL(n);let i=!1,o=!1;try{yield r.audioWorklet.addModule(s);const a=new t(r,"a",{numberOfOutputs:0}),c=r.createOscillator();a.port.onmessage=()=>i=!0,a.onprocessorerror=()=>o=!0,c.connect(a),c.start(0),yield r.startRendering(),yield new Promise(l=>setTimeout(l))}catch{}finally{URL.revokeObjectURL(s)}return i&&!o}))(jl,lr),hi):void 0,uX=((t,e)=>n=>t(n)||e(n))(eD,Jt),dX=((t,e,n,r,s,i,o,a,c,l,u)=>(d,h)=>{const f=o(d)?d:i(d);if(s.has(h)){const p=new DOMException("","DataCloneError");return Promise.reject(p)}try{s.add(h)}catch{}return e(c,()=>c(f))?f.decodeAudioData(h).then(p=>(z1(h).catch(()=>{}),e(a,()=>a(p))||u(p),t.add(p),p)):new Promise((p,g)=>{const _=function(){var y=ze(function*(){try{yield z1(h)}catch{}});return function(){return y.apply(this,arguments)}}(),m=y=>{g(y),_()};try{f.decodeAudioData(h,y=>{"function"!=typeof y.copyFromChannel&&(l(y),$C(y)),t.add(y),_().then(()=>p(y))},y=>{m(null===y?new DOMException("","EncodingError"):y)})}catch(y){m(y)}})})(nD,ws,0,0,new WeakSet,cn,uX,Eg,cc,rD,sD),DR=((t,e,n,r,s,i,o,a,c,l,u,d,h,f,p,g,_,m,y,M)=>class extends p{constructor(v,N){super(v,N),this._nativeContext=v,this._audioWorklet=void 0===t?void 0:{addModule:(I,S)=>t(this,I,S)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new s(this)}createBuffer(v,N,I){return new n({length:N,numberOfChannels:v,sampleRate:I})}createBufferSource(){return new r(this)}createChannelMerger(v=6){return new i(this,{numberOfInputs:v})}createChannelSplitter(v=6){return new o(this,{numberOfOutputs:v})}createConstantSource(){return new a(this)}createConvolver(){return new c(this)}createDelay(v=1){return new u(this,{maxDelayTime:v})}createDynamicsCompressor(){return new d(this)}createGain(){return new h(this)}createIIRFilter(v,N){return new f(this,{feedback:N,feedforward:v})}createOscillator(){return new g(this)}createPanner(){return new _(this)}createPeriodicWave(v,N,I={disableNormalization:!1}){return new m(this,{...I,imag:N,real:v})}createStereoPanner(){return new y(this)}createWaveShaper(){return new M(this)}decodeAudioData(v,N,I){return l(this._nativeContext,v).then(S=>("function"==typeof N&&N(S),S),S=>{throw"function"==typeof I&&I(S),S})}})(lX,DK,dR,EK,MK,AK,kK,FK,LK,dX,jK,HK,qK,WK,iD,QK,eX,nX,iX,aX),hX=((t,e,n,r)=>class extends t{constructor(i,o){const a=n(i),c=((t,e)=>t.createMediaElementSource(e.mediaElement))(a,o);if(r(a))throw TypeError();super(i,!0,c,null),this._nativeMediaElementAudioSourceNode=c}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}})(Fn,0,cn,Jt),fX=((t,e,n,r)=>class extends t{constructor(i,o){const a=n(i);if(r(a))throw new TypeError;const l=((t,e)=>{const n=t.createMediaStreamDestination();return Yn(n,e),1===n.numberOfOutputs&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n})(a,{...BY,...o});super(i,!1,l,null),this._nativeMediaStreamAudioDestinationNode=l}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}})(Fn,0,cn,Jt),pX=((t,e,n,r)=>class extends t{constructor(i,o){const a=n(i),c=((t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort((i,o)=>i.id<o.id?-1:i.id>o.id?1:0);const r=n.slice(0,1),s=t.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(s,"mediaStream",{value:e}),s})(a,o);if(r(a))throw new TypeError;super(i,!0,c,null),this._nativeMediaStreamAudioSourceNode=c}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}})(Fn,0,cn,Jt),gX=((t,e)=>(n,{mediaStreamTrack:r})=>{if("function"==typeof n.createMediaStreamTrackSource)return n.createMediaStreamTrackSource(r);const s=new MediaStream([r]),i=n.createMediaStreamSource(s);if("audio"!==r.kind)throw t();if(e(n))throw new TypeError;return i})(zn,Jt),mX=((t,e,n)=>class extends t{constructor(s,i){const o=n(s);super(s,!0,e(o,i),null)}})(Fn,gX,cn),_X=((t,e,n,r,s,i,o,a,c)=>class extends t{constructor(u={}){if(null===c)throw new Error("Missing the native AudioContext constructor.");let d;try{d=new c(u)}catch(p){throw 12===p.code&&"sampleRate is not in range"===p.message?n():p}if(null===d)throw r();if(!(t=>void 0===t||"number"==typeof t||"string"==typeof t&&("balanced"===t||"interactive"===t||"playback"===t))(u.latencyHint))throw new TypeError(`The provided value '${u.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(void 0!==u.sampleRate&&d.sampleRate!==u.sampleRate)throw n();super(d,2);const{latencyHint:h}=u,{sampleRate:f}=d;if(this._baseLatency="number"==typeof d.baseLatency?d.baseLatency:"balanced"===h?512/f:"interactive"===h||void 0===h?256/f:"playback"===h?1024/f:128*Math.max(2,Math.min(128,Math.round(h*f/128)))/f,this._nativeAudioContext=d,"webkitAudioContext"===c.name?(this._nativeGainNode=d.createGain(),this._nativeOscillatorNode=d.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(d.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,"running"===d.state){this._state="suspended";const p=()=>{"suspended"===this._state&&(this._state=null),d.removeEventListener("statechange",p)};d.addEventListener("statechange",p)}}get baseLatency(){return this._baseLatency}get state(){return null!==this._state?this._state:this._nativeAudioContext.state}close(){return"closed"===this.state?this._nativeAudioContext.close().then(()=>{throw e()}):("suspended"===this._state&&(this._state=null),this._nativeAudioContext.close().then(()=>{null!==this._nativeGainNode&&null!==this._nativeOscillatorNode&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Tg(this)}))}createMediaElementSource(u){return new s(this,{mediaElement:u})}createMediaStreamDestination(){return new i(this)}createMediaStreamSource(u){return new o(this,{mediaStream:u})}createMediaStreamTrackSource(u){return new a(this,{mediaStreamTrack:u})}resume(){return"suspended"===this._state?new Promise((u,d)=>{const h=()=>{this._nativeAudioContext.removeEventListener("statechange",h),"running"===this._nativeAudioContext.state?u():this.resume().then(u,d)};this._nativeAudioContext.addEventListener("statechange",h)}):this._nativeAudioContext.resume().catch(u=>{throw void 0===u||15===u.code?e():u})}suspend(){return this._nativeAudioContext.suspend().catch(u=>{throw void 0===u?e():u})}})(DR,zn,Ar,X1,hX,fX,pX,mX,bo),aD=(t=>e=>{const n=t.get(e);if(void 0===n)throw new Error("The context has no set of AudioWorkletNodes.");return n})(gR),yX=(t=>(e,n)=>{t(e).add(n)})(aD),wR=(t=>(e,n,r=0,s=0)=>{const i=e[r];if(void 0===i)throw t();return Ag(n)?i.connect(n,0,s):i.connect(n,0)})(Li),vX=(t=>(e,n)=>{t(e).delete(n)})(aD),ER=(t=>(e,n=void 0,r=void 0,s=0)=>void 0===n?e.forEach(i=>i.disconnect()):"number"==typeof n?Rg(t,e,n).disconnect():Ag(n)?void 0===r?e.forEach(i=>i.disconnect(n)):void 0===s?Rg(t,e,r).disconnect(n,0):Rg(t,e,r).disconnect(n,0,s):void 0===r?e.forEach(i=>i.disconnect(n)):Rg(t,e,r).disconnect(n,0))(Li),TR=new WeakMap,bX=((t,e)=>n=>e(t,n))(TR,di),CX=((t,e,n,r,s,i,o,a,c,l,u,d,h)=>(f,p,g,_)=>{if(0===_.numberOfInputs&&0===_.numberOfOutputs)throw c();const m=Array.isArray(_.outputChannelCount)?_.outputChannelCount:Array.from(_.outputChannelCount);if(m.some(ae=>ae<1))throw c();if(m.length!==_.numberOfOutputs)throw e();if("explicit"!==_.channelCountMode)throw c();const y=_.channelCount*_.numberOfInputs,M=m.reduce((ae,Xe)=>ae+Xe,0),R=void 0===g.parameterDescriptors?0:g.parameterDescriptors.length;if(y+R>6||M>6)throw c();const v=new MessageChannel,N=[],I=[];for(let ae=0;ae<_.numberOfInputs;ae+=1)N.push(o(f,{channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,gain:1})),I.push(s(f,{channelCount:_.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:_.channelCount}));const S=[];if(void 0!==g.parameterDescriptors)for(const{defaultValue:ae,maxValue:Xe,minValue:er,name:Tn}of g.parameterDescriptors){const Lt=i(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:void 0!==_.parameterData[Tn]?_.parameterData[Tn]:void 0===ae?0:ae});Object.defineProperties(Lt.offset,{defaultValue:{get:()=>void 0===ae?0:ae},maxValue:{get:()=>void 0===Xe?qr:Xe},minValue:{get:()=>void 0===er?ss:er}}),S.push(Lt)}const Z=r(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,y+R)}),W=Z1(p,f.sampleRate),ee=a(f,W,y+R,Math.max(1,M)),j=s(f,{channelCount:Math.max(1,M),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,M)}),ce=[];for(let ae=0;ae<_.numberOfOutputs;ae+=1)ce.push(r(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:m[ae]}));for(let ae=0;ae<_.numberOfInputs;ae+=1){N[ae].connect(I[ae]);for(let Xe=0;Xe<_.channelCount;Xe+=1)I[ae].connect(Z,Xe,ae*_.channelCount+Xe)}const ye=new q1(void 0===g.parameterDescriptors?[]:g.parameterDescriptors.map(({name:ae},Xe)=>{const er=S[Xe];return er.connect(Z,0,y+Xe),er.start(0),[ae,er.offset]}));Z.connect(ee);let ge=_.channelInterpretation,de=null;const Me=0===_.numberOfOutputs?[ee]:ce,Ke={get bufferSize(){return W},get channelCount(){return _.channelCount},set channelCount(ae){throw n()},get channelCountMode(){return _.channelCountMode},set channelCountMode(ae){throw n()},get channelInterpretation(){return ge},set channelInterpretation(ae){for(const Xe of N)Xe.channelInterpretation=ae;ge=ae},get context(){return ee.context},get inputs(){return N},get numberOfInputs(){return _.numberOfInputs},get numberOfOutputs(){return _.numberOfOutputs},get onprocessorerror(){return de},set onprocessorerror(ae){"function"==typeof de&&Ke.removeEventListener("processorerror",de),de="function"==typeof ae?ae:null,"function"==typeof de&&Ke.addEventListener("processorerror",de)},get parameters(){return ye},get port(){return v.port2},addEventListener:(...ae)=>ee.addEventListener(ae[0],ae[1],ae[2]),connect:t.bind(null,Me),disconnect:l.bind(null,Me),dispatchEvent:(...ae)=>ee.dispatchEvent(ae[0]),removeEventListener:(...ae)=>ee.removeEventListener(ae[0],ae[1],ae[2])},Ve=new Map;v.port1.addEventListener=(ae=>(...Xe)=>{if("message"===Xe[0]){const er="function"==typeof Xe[1]?Xe[1]:"object"==typeof Xe[1]&&null!==Xe[1]&&"function"==typeof Xe[1].handleEvent?Xe[1].handleEvent:null;if(null!==er){const Tn=Ve.get(Xe[1]);void 0!==Tn?Xe[1]=Tn:(Xe[1]=Lt=>{u(f.currentTime,f.sampleRate,()=>er(Lt))},Ve.set(er,Xe[1]))}}return ae.call(v.port1,Xe[0],Xe[1],Xe[2])})(v.port1.addEventListener),v.port1.removeEventListener=(ae=>(...Xe)=>{if("message"===Xe[0]){const er=Ve.get(Xe[1]);void 0!==er&&(Ve.delete(Xe[1]),Xe[1]=er)}return ae.call(v.port1,Xe[0],Xe[1],Xe[2])})(v.port1.removeEventListener);let ut=null;Object.defineProperty(v.port1,"onmessage",{get:()=>ut,set:ae=>{"function"==typeof ut&&v.port1.removeEventListener("message",ut),ut="function"==typeof ae?ae:null,"function"==typeof ut&&(v.port1.addEventListener("message",ut),v.port1.start())}}),g.prototype.port=v.port1;let ft=null;((t,e,n,r)=>{let s=UC.get(t);void 0===s&&(s=new WeakMap,UC.set(t,s));const i=oQ(n,r);return s.set(e,i),i})(f,Ke,g,_).then(ae=>ft=ae);const Xn=kg(_.numberOfInputs,_.channelCount),Wr=kg(_.numberOfOutputs,m),Tt=void 0===g.parameterDescriptors?[]:g.parameterDescriptors.reduce((ae,{name:Xe})=>({...ae,[Xe]:new Float32Array(128)}),{});let Eo=!0;const ga=()=>{_.numberOfOutputs>0&&ee.disconnect(j);for(let ae=0,Xe=0;ae<_.numberOfOutputs;ae+=1){const er=ce[ae];for(let Tn=0;Tn<m[ae];Tn+=1)j.disconnect(er,Xe+Tn,Tn);Xe+=m[ae]}},oe=new Map;ee.onaudioprocess=({inputBuffer:ae,outputBuffer:Xe})=>{if(null!==ft){const er=d(Ke);for(let Tn=0;Tn<W;Tn+=128){for(let Lt=0;Lt<_.numberOfInputs;Lt+=1)for(let kn=0;kn<_.channelCount;kn+=1)Ng(ae,Xn[Lt],kn,kn,Tn);void 0!==g.parameterDescriptors&&g.parameterDescriptors.forEach(({name:Lt},kn)=>{Ng(ae,Tt,Lt,y+kn,Tn)});for(let Lt=0;Lt<_.numberOfInputs;Lt+=1)for(let kn=0;kn<m[Lt];kn+=1)0===Wr[Lt][kn].byteLength&&(Wr[Lt][kn]=new Float32Array(128));try{const Lt=Xn.map((Zs,ma)=>{if(er[ma].size>0)return oe.set(ma,W/128),Zs;const AD=oe.get(ma);return void 0===AD?[]:(Zs.every(aee=>aee.every(cee=>0===cee))&&(1===AD?oe.delete(ma):oe.set(ma,AD-1)),Zs)});Eo=u(f.currentTime+Tn/f.sampleRate,f.sampleRate,()=>ft.process(Lt,Wr,Tt));for(let Zs=0,ma=0;Zs<_.numberOfOutputs;Zs+=1){for(let lh=0;lh<m[Zs];lh+=1)$1(Xe,Wr[Zs],lh,ma+lh,Tn);ma+=m[Zs]}}catch(Lt){Eo=!1,Ke.dispatchEvent(new ErrorEvent("processorerror",{colno:Lt.colno,filename:Lt.filename,lineno:Lt.lineno,message:Lt.message}))}if(!Eo){for(let Lt=0;Lt<_.numberOfInputs;Lt+=1){N[Lt].disconnect(I[Lt]);for(let kn=0;kn<_.channelCount;kn+=1)I[Tn].disconnect(Z,kn,Lt*_.channelCount+kn)}if(void 0!==g.parameterDescriptors){const Lt=g.parameterDescriptors.length;for(let kn=0;kn<Lt;kn+=1){const Zs=S[kn];Zs.disconnect(Z,0,y+kn),Zs.stop()}}Z.disconnect(ee),ee.onaudioprocess=null,Jn?ga():Jl();break}}}};let Jn=!1;const $i=o(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Xl=()=>ee.connect($i).connect(f.destination),Jl=()=>{ee.disconnect($i),$i.disconnect()};return Xl(),h(Ke,()=>{if(Eo){Jl(),_.numberOfOutputs>0&&ee.connect(j);for(let ae=0,Xe=0;ae<_.numberOfOutputs;ae+=1){const er=ce[ae];for(let Tn=0;Tn<m[ae];Tn+=1)j.connect(er,Xe+Tn,Tn);Xe+=m[ae]}}Jn=!0},()=>{Eo&&(Xl(),ga()),Jn=!1})})(wR,Li,zn,oa,Ud,Hl,is,qd,Ar,ER,oD,bX,ia),DX=((t,e,n,r,s)=>(i,o,a,c,l,u)=>{if(null!==a)try{const d=new a(i,c,u),h=new Map;let f=null;if(Object.defineProperties(d,{channelCount:{get:()=>u.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>f,set:p=>{"function"==typeof f&&d.removeEventListener("processorerror",f),f="function"==typeof p?p:null,"function"==typeof f&&d.addEventListener("processorerror",f)}}}),d.addEventListener=(p=>(...g)=>{if("processorerror"===g[0]){const _="function"==typeof g[1]?g[1]:"object"==typeof g[1]&&null!==g[1]&&"function"==typeof g[1].handleEvent?g[1].handleEvent:null;if(null!==_){const m=h.get(g[1]);void 0!==m?g[1]=m:(g[1]=y=>{"error"===y.type?(Object.defineProperties(y,{type:{value:"processorerror"}}),_(y)):_(new ErrorEvent(g[0],{...y}))},h.set(_,g[1]))}}return p.call(d,"error",g[1],g[2]),p.call(d,...g)})(d.addEventListener),d.removeEventListener=(p=>(...g)=>{if("processorerror"===g[0]){const _=h.get(g[1]);void 0!==_&&(h.delete(g[1]),g[1]=_)}return p.call(d,"error",g[1],g[2]),p.call(d,g[0],g[1],g[2])})(d.removeEventListener),0!==u.numberOfOutputs){const p=n(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return d.connect(p).connect(i.destination),s(d,()=>p.disconnect(),()=>p.connect(i.destination))}return d}catch(d){throw 11===d.code?r():d}if(void 0===l)throw r();return(t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}})(u),e(i,o,l,u)})(zn,CX,is,Ar,ia),wX=((t,e,n,r,s,i,o,a,c,l,u,d,h,f,p,g)=>(_,m,y)=>{const M=new WeakMap;let R=null;const v=function(){var N=ze(function*(I,S){let Z=u(I),W=null;const ee=xr(Z,S),j=Array.isArray(m.outputChannelCount)?m.outputChannelCount:Array.from(m.outputChannelCount);if(null===d){const ce=j.reduce((Me,Ke)=>Me+Ke,0),ye=s(S,{channelCount:Math.max(1,ce),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,ce)}),ge=[];for(let Me=0;Me<I.numberOfOutputs;Me+=1)ge.push(r(S,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:j[Me]}));const de=o(S,{channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,gain:1});de.connect=e.bind(null,ge),de.disconnect=c.bind(null,ge),W=[ye,ge,de]}else ee||(Z=new d(S,_));if(M.set(S,null===W?Z:W[2]),null!==W){if(null===R){if(void 0===y)throw new Error("Missing the processor constructor.");if(null===h)throw new Error("Missing the native OfflineAudioContext constructor.");const Ke=I.channelCount*I.numberOfInputs,Ve=void 0===y.parameterDescriptors?0:y.parameterDescriptors.length,ut=Ke+Ve;R=wZ(I,0===ut?null:yield function(){var ln=ze(function*(){const Xn=new h(ut,128*Math.ceil(I.context.length/128),S.sampleRate),Wr=[],Tt=[];for(let oe=0;oe<m.numberOfInputs;oe+=1)Wr.push(o(Xn,{channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,gain:1})),Tt.push(s(Xn,{channelCount:m.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:m.channelCount}));const Eo=yield Promise.all(Array.from(I.parameters.values()).map(function(){var oe=ze(function*(Jn){const $i=i(Xn,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:Jn.value});return yield f(Xn,Jn,$i.offset),$i});return function(Jn){return oe.apply(this,arguments)}}())),ga=r(Xn,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,Ke+Ve)});for(let oe=0;oe<m.numberOfInputs;oe+=1){Wr[oe].connect(Tt[oe]);for(let Jn=0;Jn<m.channelCount;Jn+=1)Tt[oe].connect(ga,Jn,oe*m.channelCount+Jn)}for(const[oe,Jn]of Eo.entries())Jn.connect(ga,0,Ke+oe),Jn.start(0);return ga.connect(Xn.destination),yield Promise.all(Wr.map(oe=>p(I,Xn,oe))),g(Xn)});return function(){return ln.apply(this,arguments)}}()(),S,m,j,y,l)}const ce=yield R,ye=n(S,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[ge,de,Me]=W;null!==ce&&(ye.buffer=ce,ye.start(0)),ye.connect(ge);for(let Ke=0,Ve=0;Ke<I.numberOfOutputs;Ke+=1){const ut=de[Ke];for(let ft=0;ft<j[Ke];ft+=1)ge.connect(ut,Ve+ft,ft);Ve+=j[Ke]}return Me}if(ee)for(const[ce,ye]of I.parameters.entries())yield t(S,ye,Z.parameters.get(ce));else for(const[ce,ye]of I.parameters.entries())yield f(S,ye,Z.parameters.get(ce));return yield p(I,S,Z),Z});return function(S,Z){return N.apply(this,arguments)}}();return{render(N,I){a(I,N);const S=M.get(I);return void 0!==S?Promise.resolve(S):v(N,I)}}})(Vi,wR,Bl,oa,Ud,Hl,is,vX,ER,oD,pn,jl,lr,ji,_r,Pg),EX=(t=>e=>t.get(e))(CR),TX=(t=>(e,n)=>{t.set(e,n)})(TR),SR=bR?((t,e,n,r,s,i,o,a,c,l,u,d,h,f)=>class extends e{constructor(g,_,m){var y;const M=a(g),R=c(M),v=(t=>({...t,outputChannelCount:void 0!==t.outputChannelCount?t.outputChannelCount:1===t.numberOfInputs&&1===t.numberOfOutputs?[t.channelCount]:Array.from({length:t.numberOfOutputs},()=>1)}))({...bZ,...m});(t=>{const{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}})(v);const N=HC.get(M),I=N?.get(_),S=R||"closed"!==M.state?M:null!==(y=o(M))&&void 0!==y?y:M,Z=s(S,R?null:g.baseLatency,l,_,I,v);super(g,!0,Z,R?r(_,v,I):null);const ee=[];Z.parameters.forEach((ce,ye)=>{const ge=n(this,R,ce);ee.push([ye,ge])}),this._nativeAudioWorkletNode=Z,this._onprocessorerror=null,this._parameters=new q1(ee),R&&t(M,this);const{activeInputs:j}=i(this);d(Z,j)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(g){const _="function"==typeof g?f(this,g):null;this._nativeAudioWorkletNode.onprocessorerror=_;const m=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=null!==m&&m===_?g:m}get parameters(){return null===this._parameters?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}})(yX,Fn,fi,wX,DX,$r,EX,cn,Jt,jl,0,TX,0,Vl):void 0,MR=((t,e)=>(n,r,s)=>{if(null===e)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,r,s)}catch(i){throw"SyntaxError"===i.name?t():i}})(Ar,lr),IR=((t,e,n,r,s,i,o,a)=>(c,l)=>n(c).render(c,l).then(()=>Promise.all(Array.from(r(l)).map(u=>n(u).render(u,l)))).then(()=>s(l)).then(u=>("function"!=typeof u.copyFromChannel?(o(u),$C(u)):e(i,()=>i(u))||a(u),t.add(u),u)))(nD,ws,JC,aD,Pg,Eg,rD,sD),SX=((t,e,n,r,s)=>class extends t{constructor(o,a,c){let l;if("number"==typeof o&&void 0!==a&&void 0!==c)l={length:a,numberOfChannels:o,sampleRate:c};else{if("object"!=typeof o)throw new Error("The given parameters are not valid.");l=o}const{length:u,numberOfChannels:d,sampleRate:h}={...kQ,...l},f=r(d,u,h);e(cc,()=>cc(f))||f.addEventListener("statechange",(()=>{let p=0;const g=_=>{"running"===this._state&&(p>0?(f.removeEventListener("statechange",g),_.stopImmediatePropagation(),this._waitForThePromiseToSettle(_)):p+=1)};return g})()),super(f,d),this._length=u,this._nativeOfflineAudioContext=f,this._state=null}get length(){return void 0===this._nativeOfflineAudioContext.length?this._length:this._nativeOfflineAudioContext.length}get state(){return null===this._state?this._nativeOfflineAudioContext.state:this._state}startRendering(){return"running"===this._state?Promise.reject(n()):(this._state="running",s(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,Tg(this)}))}_waitForThePromiseToSettle(o){null===this._state?this._nativeOfflineAudioContext.dispatchEvent(o):setTimeout(()=>this._waitForThePromiseToSettle(o))}})(DR,ws,zn,MR,IR),MX=((t,e)=>n=>{const r=t.get(n);return e(r)||e(n)})(Dg,eD),IX=((t,e)=>n=>t.has(n)||e(n))(VC,tD),xX=((t,e)=>n=>t.has(n)||e(n))(jC,cR),AX=((t,e)=>n=>{const r=t.get(n);return e(r)||e(n)})(Dg,Jt);var t;function Es(t){return void 0===t}function lt(t){return void 0!==t}function js(t){return"number"==typeof t}function aa(t){return"[object Object]"===Object.prototype.toString.call(t)&&t.constructor===Object}function Nr(t){return Array.isArray(t)}function Bi(t){return"string"==typeof t}function Vg(t){return Bi(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}function ue(t,e){if(!t)throw new Error(e)}function ur(t,e,n=1/0){if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function AR(t){!t.isOffline&&"running"!==t.state&&zd('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let NR=!1,kR=!1;function RR(t){NR=t}let cD=console;function zd(...t){cD.warn(...t)}function FX(t,e,n){return new SX(t,e,n)}const zr="object"==typeof self?self:null,PX=zr&&(zr.hasOwnProperty("AudioContext")||zr.hasOwnProperty("webkitAudioContext"));class VX{constructor(e,n,r,s){this._callback=e,this._type=n,this._minimumUpdateInterval=Math.max(128/(s||44100),.001),this.updateInterval=r,this._createClock()}_createWorker(){const e=new Blob([`\n\t\t\t// the initial timeout time\n\t\t\tlet timeoutTime =  ${(1e3*this._updateInterval).toFixed(1)};\n\t\t\t// onmessage callback\n\t\t\tself.onmessage = function(msg){\n\t\t\t\ttimeoutTime = parseInt(msg.data);\n\t\t\t};\n\t\t\t// the tick function which posts a message\n\t\t\t// and schedules a new tick\n\t\t\tfunction tick(){\n\t\t\t\tsetTimeout(tick, timeoutTime);\n\t\t\t\tself.postMessage('tick');\n\t\t\t}\n\t\t\t// call tick initially\n\t\t\ttick();\n\t\t\t`],{type:"text/javascript"}),n=URL.createObjectURL(e),r=new Worker(n);r.onmessage=this._callback.bind(this),this._worker=r}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},1e3*this._updateInterval)}_createClock(){if("worker"===this._type)try{this._createWorker()}catch{this._type="timeout",this._createClock()}else"timeout"===this._type&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var n;this._updateInterval=Math.max(e,this._minimumUpdateInterval),"worker"===this._type&&(null===(n=this._worker)||void 0===n||n.postMessage(1e3*this._updateInterval))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function uc(t){return xX(t)}function ca(t){return IX(t)}function jg(t){return AX(t)}function Ul(t){return MX(t)}function BX(t,e){return"value"===t||uc(e)||ca(e)||function jX(t){return t instanceof dR}(e)}function Bs(t,...e){if(!e.length)return t;const n=e.shift();if(aa(t)&&aa(n))for(const r in n)BX(r,n[r])?t[r]=n[r]:aa(n[r])?(t[r]||Object.assign(t,{[r]:{}}),Bs(t[r],n[r])):Object.assign(t,{[r]:n[r]});return Bs(t,...e)}function L(t,e,n=[],r){const s={},i=Array.from(e);if(aa(i[0])&&r&&!Reflect.has(i[0],r)&&(Object.keys(i[0]).some(a=>Reflect.has(t,a))||(Bs(s,{[r]:i[0]}),n.splice(n.indexOf(r),1),i.shift())),1===i.length&&aa(i[0]))Bs(s,i[0]);else for(let o=0;o<n.length;o++)lt(i[o])&&(s[n[o]]=i[o]);return Bs(t,s)}function pi(t,e){return Es(t)?e:t}function yr(t,e){return e.forEach(n=>{Reflect.has(t,n)&&delete t[n]}),t}let la=(()=>{class t{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...n){(this.debug||zr&&this.toString()===zr.TONE_DEBUG_CLASS)&&function RX(...t){cD.log(...t)}(this,...n)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}return t.version=LC,t})();const lD=1e-6;function ql(t,e){return t>e+lD}function uD(t,e){return ql(t,e)||gi(t,e)}function Bg(t,e){return t+lD<e}function gi(t,e){return Math.abs(t-e)<lD}class Hs extends la{constructor(){super(),this.name="Timeline",this._timeline=[];const e=L(Hs.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(ue(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length)ue(uD(e.time,this._timeline[this.length-1].time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e);else{const n=this._search(e.time);this._timeline.splice(n+1,0,e)}return this.length>this.memory&&this._timeline.splice(0,this.length-this.memory),this}remove(e){const n=this._timeline.indexOf(e);return-1!==n&&this._timeline.splice(n,1),this}get(e,n="time"){const r=this._search(e,n);return-1!==r?this._timeline[r]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,n="time"){const r=this._search(e,n);return r+1<this._timeline.length?this._timeline[r+1]:null}getBefore(e){const n=this._timeline.length;if(n>0&&this._timeline[n-1].time<e)return this._timeline[n-1];const r=this._search(e);return r-1>=0?this._timeline[r-1]:null}cancel(e){if(this._timeline.length>1){let n=this._search(e);if(n>=0)if(gi(this._timeline[n].time,e)){for(let r=n;r>=0&&gi(this._timeline[r].time,e);r--)n=r;this._timeline=this._timeline.slice(0,n)}else this._timeline=this._timeline.slice(0,n+1);else this._timeline=[]}else 1===this._timeline.length&&uD(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const n=this._search(e);return n>=0&&(this._timeline=this._timeline.slice(n+1)),this}previousEvent(e){const n=this._timeline.indexOf(e);return n>0?this._timeline[n-1]:null}_search(e,n="time"){if(0===this._timeline.length)return-1;let r=0;const s=this._timeline.length;let i=s;if(s>0&&this._timeline[s-1][n]<=e)return s-1;for(;r<i;){let o=Math.floor(r+(i-r)/2);const a=this._timeline[o],c=this._timeline[o+1];if(gi(a[n],e)){for(let l=o;l<this._timeline.length&&gi(this._timeline[l][n],e);l++)o=l;return o}if(Bg(a[n],e)&&ql(c[n],e))return o;ql(a[n],e)?i=o:r=o+1}return-1}_iterate(e,n=0,r=this._timeline.length-1){this._timeline.slice(n,r+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,n){const r=this._search(e);return-1!==r&&this._iterate(n,0,r),this}forEachAfter(e,n){const r=this._search(e);return this._iterate(n,r+1),this}forEachBetween(e,n,r){let s=this._search(e),i=this._search(n);return-1!==s&&-1!==i?(this._timeline[s].time!==e&&(s+=1),this._timeline[i].time===n&&(i-=1),this._iterate(r,s,i)):-1===s&&this._iterate(r,0,i),this}forEachFrom(e,n){let r=this._search(e);for(;r>=0&&this._timeline[r].time>=e;)r--;return this._iterate(n,r+1),this}forEachAtTime(e,n){const r=this._search(e);if(-1!==r&&gi(this._timeline[r].time,e)){let s=r;for(let i=r;i>=0&&gi(this._timeline[i].time,e);i--)s=i;this._iterate(i=>{n(i)},s,r)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const OR=[];function Hg(t){OR.push(t)}const FR=[];function Ug(t){FR.push(t)}class Gd extends la{constructor(){super(...arguments),this.name="Emitter"}on(e,n){return e.split(/\W+/).forEach(s=>{Es(this._events)&&(this._events={}),this._events.hasOwnProperty(s)||(this._events[s]=[]),this._events[s].push(n)}),this}once(e,n){const r=(...s)=>{n(...s),this.off(e,r)};return this.on(e,r),this}off(e,n){return e.split(/\W+/).forEach(s=>{if(Es(this._events)&&(this._events={}),this._events.hasOwnProperty(s))if(Es(n))this._events[s]=[];else{const i=this._events[s];for(let o=i.length-1;o>=0;o--)i[o]===n&&i.splice(o,1)}}),this}emit(e,...n){if(this._events&&this._events.hasOwnProperty(e)){const r=this._events[e].slice(0);for(let s=0,i=r.length;s<i;s++)r[s].apply(this,n)}return this}static mixin(e){["on","once","off","emit"].forEach(n=>{const r=Object.getOwnPropertyDescriptor(Gd.prototype,n);Object.defineProperty(e.prototype,n,r)})}dispose(){return super.dispose(),this._events=void 0,this}}class PR extends Gd{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class Wd extends PR{constructor(){var e,n;super(),this.name="Context",this._constants=new Map,this._timeouts=new Hs,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const r=L(Wd.getDefaults(),arguments,["context"]);r.context?(this._context=r.context,this._latencyHint=(null===(e=arguments[0])||void 0===e?void 0:e.latencyHint)||""):(this._context=function OX(t){return new _X(t)}({latencyHint:r.latencyHint}),this._latencyHint=r.latencyHint),this._ticker=new VX(this.emit.bind(this,"tick"),r.clockSource,r.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[null!==(n=arguments[0])&&void 0!==n&&n.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=r.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(function qX(t){OR.forEach(e=>e(t))}(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,n,r){return this._context.createBuffer(e,n,r)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,n){return this._context.createIIRFilter(e,n)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,n,r){return this._context.createPeriodicWave(e,n,r)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return ue(Ul(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return ue(Ul(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return ue(Ul(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){ue(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){ue(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){ue(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){ue(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,n){return function LX(t,e,n){return ue(lt(SR),"AudioWorkletNode only works in a secure context (https or localhost)"),new(t instanceof zr?.BaseAudioContext?zr?.AudioWorkletNode:SR)(t,e,n)}(this.rawContext,e,n)}addAudioWorkletModule(e){return Kt(this,void 0,void 0,function*(){ue(lt(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return Kt(this,void 0,void 0,function*(){(yield this._workletPromise)||Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return Ul(this._context)?this._context.resume():Promise.resolve()}close(){return Kt(this,void 0,void 0,function*(){Ul(this._context)&&"closed"!==this.state&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&function $X(t){FR.forEach(e=>e(t))}(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const n=this._context.createBuffer(1,128,this._context.sampleRate),r=n.getChannelData(0);for(let i=0;i<r.length;i++)r[i]=e;const s=this._context.createBufferSource();return s.channelCount=1,s.channelCountMode="explicit",s.buffer=n,s.loop=!0,s.start(0),this._constants.set(e,s),s}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();this._timeouts.forEachBefore(e,n=>{n.callback(),this._timeouts.remove(n)})}setTimeout(e,n){this._timeoutIds++;const r=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:r+n}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(n=>{n.id===e&&this._timeouts.remove(n)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,n){const r=++this._timeoutIds,s=()=>{const i=this.now();this._timeouts.add({callback:()=>{e(),s()},id:r,time:i+n})};return s(),r}}function Se(t,e){Nr(e)?e.forEach(n=>Se(t,n)):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function Zd(t,e){Nr(e)?e.forEach(n=>Zd(t,n)):Object.defineProperty(t,e,{writable:!0})}const vt=()=>{};let mi=(()=>{class t extends la{constructor(){super(),this.name="ToneAudioBuffer",this.onload=vt;const n=L(t.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=n.reverse,this.onload=n.onload,Bi(n.url)?this.load(n.url).catch(n.onerror):n.url&&this.set(n.url)}static getDefaults(){return{onerror:vt,onload:vt,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Us().sampleRate}set(n){return n instanceof t?n.loaded?this._buffer=n.get():n.onload=()=>{this.set(n),this.onload(this)}:this._buffer=n,this._reversed&&this._reverse(),this}get(){return this._buffer}load(n){return Kt(this,void 0,void 0,function*(){const r=t.load(n).then(s=>{this.set(s),this.onload(this)});t.downloads.push(r);try{yield r}finally{const s=t.downloads.indexOf(r);t.downloads.splice(s,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(n){const r=Nr(n)&&n[0].length>0,s=r?n.length:1,i=r?n[0].length:n.length,o=Us(),a=o.createBuffer(s,i,o.sampleRate),c=r||1!==s?n:[n];for(let l=0;l<s;l++)a.copyToChannel(c[l],l);return this._buffer=a,this}toMono(n){if(js(n))this.fromArray(this.toArray(n));else{let r=new Float32Array(this.length);const s=this.numberOfChannels;for(let i=0;i<s;i++){const o=this.toArray(i);for(let a=0;a<o.length;a++)r[a]+=o[a]}r=r.map(i=>i/s),this.fromArray(r)}return this}toArray(n){if(js(n))return this.getChannelData(n);if(1===this.numberOfChannels)return this.toArray(0);{const r=[];for(let s=0;s<this.numberOfChannels;s++)r[s]=this.getChannelData(s);return r}}getChannelData(n){return this._buffer?this._buffer.getChannelData(n):new Float32Array(0)}slice(n,r=this.duration){ue(this.loaded,"Buffer is not loaded");const s=Math.floor(n*this.sampleRate),i=Math.floor(r*this.sampleRate);ue(s<i,"The start time must be less than the end time");const o=i-s,a=Us().createBuffer(this.numberOfChannels,o,this.sampleRate);for(let c=0;c<this.numberOfChannels;c++)a.copyToChannel(this.getChannelData(c).subarray(s,i),c);return new t(a)}_reverse(){if(this.loaded)for(let n=0;n<this.numberOfChannels;n++)this.getChannelData(n).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(n){this._reversed!==n&&(this._reversed=n,this._reverse())}static fromArray(n){return(new t).fromArray(n)}static fromUrl(n){return Kt(this,void 0,void 0,function*(){return yield(new t).load(n)})}static load(n){return Kt(this,void 0,void 0,function*(){const r=""===t.baseUrl||t.baseUrl.endsWith("/")?t.baseUrl:t.baseUrl+"/",s=yield fetch(r+n);if(!s.ok)throw new Error(`could not load url: ${n}`);const i=yield s.arrayBuffer();return yield Us().decodeAudioData(i)})}static supportsType(n){const r=n.split("."),s=r[r.length-1];return""!==document.createElement("audio").canPlayType("audio/"+s)}static loaded(){return Kt(this,void 0,void 0,function*(){for(yield Promise.resolve();t.downloads.length;)yield t.downloads[0]})}}return t.baseUrl="",t.downloads=[],t})();class qg extends Wd{constructor(){super({clockSource:"offline",context:jg(arguments[0])?arguments[0]:FX(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:jg(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=jg(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return Kt(this,void 0,void 0,function*(){let n=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,n++;const r=Math.floor(this.sampleRate/128);e&&n%r===0&&(yield new Promise(s=>setTimeout(s,1)))}})}render(){return Kt(this,arguments,void 0,function*(e=!0){yield this.workletsAreReady(),yield this._renderClock(e);const n=yield this._context.startRendering();return new mi(n)})}close(){return Promise.resolve()}}const LR=new class zX extends PR{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,n,r){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,n){return{}}createPanner(){return{}}createPeriodicWave(e,n,r){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,n){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return Kt(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,n){return 0}clearTimeout(e){return this}setInterval(e,n){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}};let hc=LR;function Us(){return hc===LR&&PX&&function GX(t,e=!1){e&&hc.dispose(),hc=Ul(t)?new Wd(t):jg(t)?new qg(t):t}(new Wd),hc}if(zr&&!zr.TONE_SILENCE_LOGGING){console.log(`%c * Tone.js ${"v"}${LC} * `,"background: #000; color: #fff")}function Qd(t){return Math.pow(2,t/12)}let zg=440;function fc(t){return Math.round(VR(t))}function VR(t){return 69+12*Math.log2(t/zg)}class dD extends la{constructor(e,n,r){super(),this.defaultUnits="s",this._val=n,this._units=r,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,n)=>{const r=parseInt(e,10),s="."===n?1.5:1;return 1===r?this._beatsToUnits(this._getTimeSignature())*s:this._beatsToUnits(4/r)*s},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const n=parseInt(e,10);return this._beatsToUnits(8/(3*Math.floor(n)))},regexp:/^(\d+)t$/i},tr:{method:(e,n,r)=>{let s=0;return e&&"0"!==e&&(s+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&"0"!==n&&(s+=this._beatsToUnits(parseFloat(n))),r&&"0"!==r&&(s+=this._beatsToUnits(parseFloat(r)/4)),s},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof dD&&this.fromType(this._val),Es(this._val))return this._noArg();if(Bi(this._val)&&Es(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(aa(this._val)){let e=0;for(const n in this._val)if(lt(this._val[n])){const r=this._val[n];e+=new this.constructor(this.context,n).valueOf()*r}return e}if(lt(this._units)){const e=this._expressions[this._units],n=this._val.toString().trim().match(e.regexp);return n?e.method.apply(this,n.slice(1)):e.method.call(this,this._val)}return Bi(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi()}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return 1e3*this.toSeconds()}}class qs extends dD{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const n=new qs(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(n))},regexp:/^@(.+)/}})}quantize(e,n=1){const r=new this.constructor(this.context,e).valueOf(),s=this.valueOf();return s+(Math.round(s/r)*r-s)*n}toNotation(){const e=this.toSeconds(),n=["1m"];for(let i=1;i<9;i++){const o=Math.pow(2,i);n.push(o+"n."),n.push(o+"n"),n.push(o+"t")}n.push("0");let r=n[0],s=new qs(this.context,n[0]).toSeconds();return n.forEach(i=>{const o=new qs(this.context,i).toSeconds();Math.abs(o-e)<Math.abs(s-e)&&(r=i,s=o)}),r}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let n=this.valueOf()/e;n=parseFloat(n.toFixed(4));const r=Math.floor(n/this._getTimeSignature());let s=n%1*4;n=Math.floor(n)%this._getTimeSignature();const i=s.toString();return i.length>3&&(s=parseFloat(parseFloat(i).toFixed(3))),[r,n,s].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return fc(this.toFrequency())}_now(){return this.context.now()}}class os extends qs{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return function WX(){return zg}()}static set A4(e){!function ZX(t){zg=t}(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return"midi"===this.defaultUnits?e:os.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,n){const s=YX[e.toLowerCase()]+12*(parseInt(n,10)+1);return"midi"===this.defaultUnits?s:os.mtof(s)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,n,r){let s=1;return e&&"0"!==e&&(s*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&"0"!==n&&(s*=this._beatsToUnits(parseFloat(n))),r&&"0"!==r&&(s*=this._beatsToUnits(parseFloat(r)/4)),s}}})}transpose(e){return new os(this.context,this.valueOf()*Qd(e))}harmonize(e){return e.map(n=>this.transpose(n))}toMidi(){return fc(this.valueOf())}toNote(){const e=this.toFrequency(),n=Math.log2(e/os.A4);let r=Math.round(12*n)+57;const s=Math.floor(r/12);return s<0&&(r+=-12*s),QX[r%12]+s.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.floor(n*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(60*e/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return function jR(t){return zg*Math.pow(2,(t-69)/12)}(e)}static ftom(e){return fc(e)}}const YX={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},QX=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Qn extends qs{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class dr extends la{constructor(){super();const e=L(dr.getDefaults(),arguments,["context"]);this.context=this.defaultContext?this.defaultContext:e.context}static getDefaults(){return{context:Us()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return function kX(t){Es(t)&&NR&&!kR&&(kR=!0,zd("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}(e),new qs(this.context,e).toSeconds()}toFrequency(e){return new os(this.context,e).toFrequency()}toTicks(e){return new Qn(this.context,e).toTicks()}_getPartialProperties(e){const n=this.get();return Object.keys(n).forEach(r=>{Es(e[r])&&delete n[r]}),n}get(){const e=function UX(t){return t.constructor.getDefaults()}(this);return Object.keys(e).forEach(n=>{if(Reflect.has(this,n)){const r=this[n];lt(r)&&lt(r.value)&&lt(r.setValueAtTime)?e[n]=r.value:r instanceof dr?e[n]=r._getPartialProperties(e[n]):Nr(r)||js(r)||Bi(r)||function xR(t){return"boolean"==typeof t}(r)?e[n]=r:delete e[n]}}),e}set(e){return Object.keys(e).forEach(n=>{Reflect.has(this,n)&&lt(this[n])&&(this[n]&&lt(this[n].value)&&lt(this[n].setValueAtTime)?this[n].value!==e[n]&&(this[n].value=e[n]):this[n]instanceof dr?this[n].set(e[n]):this[n]=e[n])}),this}}class Kd extends Hs{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const n=this.get(e);return null!==n?n.state:this._initial}setStateAtTime(e,n,r){return ur(n,0),this.add(Object.assign({},r,{state:e,time:n})),this}getLastState(e,n){for(let s=this._search(n);s>=0;s--){const i=this._timeline[s];if(i.state===e)return i}}getNextState(e,n){const r=this._search(n);if(-1!==r)for(let s=r;s<this._timeline.length;s++){const i=this._timeline[s];if(i.state===e)return i}}}class Qe extends dr{constructor(){const e=L(Qe.getDefaults(),arguments,["param","units","convert"]);for(super(e),this.name="Param",this.overridden=!1,this._minOutput=1e-7,ue(lt(e.param)&&(uc(e.param)||e.param instanceof Qe),"param must be an AudioParam");!uc(e.param);)e.param=e.param._param;this._swappable=!!lt(e.swappable)&&e.swappable,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new Hs(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,lt(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(dr.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return lt(this._minValue)?this._minValue:"time"===this.units||"frequency"===this.units||"normalRange"===this.units||"positive"===this.units||"transportTime"===this.units||"ticks"===this.units||"bpm"===this.units||"hertz"===this.units||"samples"===this.units?0:"audioRange"===this.units?-1:"decibels"===this.units?-1/0:this._param.minValue}get maxValue(){return lt(this._maxValue)?this._maxValue:"normalRange"===this.units||"audioRange"===this.units?1:this._param.maxValue}_is(e,n){return this.units===n}_assertRange(e){return lt(this.maxValue)&&lt(this.minValue)&&ur(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?function Yd(t){return Math.pow(10,t/20)}(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&"decibels"===this.units?function $g(t){return Math.log(t)/Math.LN10*20}(e):e}setValueAtTime(e,n){const r=this.toSeconds(n),s=this._fromType(e);return ue(isFinite(s)&&isFinite(r),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(s),this.log(this.units,"setValueAtTime",e,r),this._events.add({time:r,type:"setValueAtTime",value:s}),this._param.setValueAtTime(s,r),this}getValueAtTime(e){const n=Math.max(this.toSeconds(e),0),r=this._events.getAfter(n),s=this._events.get(n);let i=this._initialValue;if(null===s)i=this._initialValue;else if("setTargetAtTime"!==s.type||null!==r&&"setValueAtTime"!==r.type)if(null===r)i=s.value;else if("linearRampToValueAtTime"===r.type||"exponentialRampToValueAtTime"===r.type){let o=s.value;if("setTargetAtTime"===s.type){const a=this._events.getBefore(s.time);o=null===a?this._initialValue:a.value}i="linearRampToValueAtTime"===r.type?this._linearInterpolate(s.time,o,r.time,r.value,n):this._exponentialInterpolate(s.time,o,r.time,r.value,n)}else i=s.value;else{const o=this._events.getBefore(s.time);let a;a=null===o?this._initialValue:o.value,"setTargetAtTime"===s.type&&(i=this._exponentialApproach(s.time,a,s.value,s.constant,n))}return this._toType(i)}setRampPoint(e){e=this.toSeconds(e);let n=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),0===this._fromType(n)&&(n=this._toType(this._minOutput)),this.setValueAtTime(n,e),this}linearRampToValueAtTime(e,n){const r=this._fromType(e),s=this.toSeconds(n);return ue(isFinite(r)&&isFinite(s),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(r),this._events.add({time:s,type:"linearRampToValueAtTime",value:r}),this.log(this.units,"linearRampToValueAtTime",e,s),this._param.linearRampToValueAtTime(r,s),this}exponentialRampToValueAtTime(e,n){let r=this._fromType(e);r=gi(r,0)?this._minOutput:r,this._assertRange(r);const s=this.toSeconds(n);return ue(isFinite(r)&&isFinite(s),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({time:s,type:"exponentialRampToValueAtTime",value:r}),this.log(this.units,"exponentialRampToValueAtTime",e,s),this._param.exponentialRampToValueAtTime(r,s),this}exponentialRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialRampToValueAtTime(e,r+this.toSeconds(n)),this}linearRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.linearRampToValueAtTime(e,r+this.toSeconds(n)),this}targetRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialApproachValueAtTime(e,r,n),this}exponentialApproachValueAtTime(e,n,r){n=this.toSeconds(n),r=this.toSeconds(r);const s=Math.log(r+1)/Math.log(200);return this.setTargetAtTime(e,n,s),this.cancelAndHoldAtTime(n+.9*r),this.linearRampToValueAtTime(e,n+r),this}setTargetAtTime(e,n,r){const s=this._fromType(e);ue(isFinite(r)&&r>0,"timeConstant must be a number greater than 0");const i=this.toSeconds(n);return this._assertRange(s),ue(isFinite(s)&&isFinite(i),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({constant:r,time:i,type:"setTargetAtTime",value:s}),this.log(this.units,"setTargetAtTime",e,i,r),this._param.setTargetAtTime(s,i,r),this}setValueCurveAtTime(e,n,r,s=1){r=this.toSeconds(r),n=this.toSeconds(n);const i=this._fromType(e[0])*s;this.setValueAtTime(this._toType(i),n);const o=r/(e.length-1);for(let a=1;a<e.length;a++){const c=this._fromType(e[a])*s;this.linearRampToValueAtTime(this._toType(c),n+a*o)}return this}cancelScheduledValues(e){const n=this.toSeconds(e);return ue(isFinite(n),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(n),this._param.cancelScheduledValues(n),this.log(this.units,"cancelScheduledValues",n),this}cancelAndHoldAtTime(e){const n=this.toSeconds(e),r=this._fromType(this.getValueAtTime(n));ue(isFinite(n),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",n,"value="+r);const s=this._events.get(n),i=this._events.getAfter(n);return s&&gi(s.time,n)?i?(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time)):(this._param.cancelAndHoldAtTime(n),this._events.cancel(n+this.sampleTime)):i&&(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time),"linearRampToValueAtTime"===i.type?this.linearRampToValueAtTime(this._toType(r),n):"exponentialRampToValueAtTime"===i.type&&this.exponentialRampToValueAtTime(this._toType(r),n)),this._events.add({time:n,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,n),this}rampTo(e,n=.1,r){return"frequency"===this.units||"bpm"===this.units||"decibels"===this.units?this.exponentialRampTo(e,n,r):this.linearRampTo(e,n,r),this}apply(e){const n=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(n),n);const r=this._events.get(n);if(r&&"setTargetAtTime"===r.type){const s=this._events.getAfter(r.time),i=s?s.time:n+2,o=(i-n)/10;for(let a=n;a<i;a+=o)e.linearRampToValueAtTime(this.getValueAtTime(a),a)}return this._events.forEachAfter(this.context.currentTime,s=>{"cancelScheduledValues"===s.type?e.cancelScheduledValues(s.time):"setTargetAtTime"===s.type?e.setTargetAtTime(s.value,s.time,s.constant):e[s.type](s.value,s.time)}),this}setParam(e){ue(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const n=this.input;return n.disconnect(this._param),this.apply(e),this._param=e,n.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,n,r,s,i){return r+(n-r)*Math.exp(-(i-e)/s)}_linearInterpolate(e,n,r,s,i){return n+(i-e)/(r-e)*(s-n)}_exponentialInterpolate(e,n,r,s,i){return n*Math.pow(s/n,(i-e)/(r-e))}}class $ extends dr{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return lt(this.input)?uc(this.input)||this.input instanceof Qe?1:this.input.numberOfInputs:0}get numberOfOutputs(){return lt(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return lt(e)&&(e instanceof $||ca(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(r=>{r.channelCount=e.channelCount,r.channelCountMode=e.channelCountMode,r.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();ue(e.length>0,"ToneAudioNode does not have any internal nodes");const n=e[0];return{channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelInterpretation:e}))}connect(e,n=0,r=0){return as(this,e,n,r),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return zd("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,n=0,r=0){return function BR(t,e,n=0,r=0){if(lt(e))for(;e instanceof $;)e=e.input;for(;!ca(t);)lt(t.output)&&(t=t.output);uc(e)?t.disconnect(e,n):ca(e)?t.disconnect(e,n,r):t.disconnect()}(this,e,n,r),this}chain(...e){return $s(this,...e),this}fan(...e){return e.forEach(n=>this.connect(n)),this}dispose(){return super.dispose(),lt(this.input)&&(this.input instanceof $?this.input.dispose():ca(this.input)&&this.input.disconnect()),lt(this.output)&&(this.output instanceof $?this.output.dispose():ca(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function $s(...t){const e=t.shift();t.reduce((n,r)=>(n instanceof $?n.connect(r):ca(n)&&as(n,r),r),e)}function as(t,e,n=0,r=0){for(ue(lt(t),"Cannot connect from undefined node"),ue(lt(e),"Cannot connect to undefined node"),(e instanceof $||ca(e))&&ue(e.numberOfInputs>0,"Cannot connect to node with no inputs"),ue(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof $||e instanceof Qe;)lt(e.input)&&(e=e.input);for(;t instanceof $;)lt(t.output)&&(t=t.output);uc(e)?t.connect(e,n):t.connect(e,n,r)}class le extends ${constructor(){const e=L(le.getDefaults(),arguments,["gain","units"]);super(e),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new Qe({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),Se(this,"gain")}static getDefaults(){return Object.assign($.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class $l extends ${constructor(e){super(e),this.onended=vt,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new le({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(n){const r=this.toSeconds(n);return-1!==this._startTime&&r>=this._startTime&&(-1===this._stopTime||r<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign($.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:vt})}_startGain(e,n=1){ue(-1===this._startTime,"Source cannot be started more than once");const r=this.toSeconds(this._fadeIn);return this._startTime=e+r,this._startTime=Math.max(this._startTime,this.context.currentTime),r>0?(this._gainNode.gain.setValueAtTime(0,e),"linear"===this._curve?this._gainNode.gain.linearRampToValueAtTime(n,e+r):this._gainNode.gain.exponentialApproachValueAtTime(n,e,r)):this._gainNode.gain.setValueAtTime(n,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){ue(-1!==this._startTime,"'start' must be called before 'stop'"),this.cancelStop();const n=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+n,this._stopTime=Math.max(this._stopTime,this.now()),n>0?"linear"===this._curve?this._gainNode.gain.linearRampTo(0,n,e):this._gainNode.gain.targetRampTo(0,n,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const r="exponential"===this._curve?2*n:0;this._stopSource(this.now()+r),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==vt&&(this.onended(this),this.onended=vt,!this.context.isOffline)){const e=()=>this.dispose();typeof requestIdleCallback<"u"?requestIdleCallback(e):setTimeout(e,10)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),ue(-1!==this._startTime,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=vt,this}}class Gg extends $l{constructor(){const e=L(Gg.getDefaults(),arguments,["offset"]);super(e),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),as(this._source,this._gainNode),this.offset=new Qe({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign($l.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._source.start(n),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Le extends ${constructor(){const e=L(Le.getDefaults(),arguments,["value","units"]);super(e),this.name="Signal",this.override=!0,this.output=this._constantSource=new Gg({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign($.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,n=0,r=0){return Wg(this,e,n,r),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,n){return this._param.setValueAtTime(e,n),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,n){return this._param.linearRampToValueAtTime(e,n),this}exponentialRampToValueAtTime(e,n){return this._param.exponentialRampToValueAtTime(e,n),this}exponentialRampTo(e,n,r){return this._param.exponentialRampTo(e,n,r),this}linearRampTo(e,n,r){return this._param.linearRampTo(e,n,r),this}targetRampTo(e,n,r){return this._param.targetRampTo(e,n,r),this}exponentialApproachValueAtTime(e,n,r){return this._param.exponentialApproachValueAtTime(e,n,r),this}setTargetAtTime(e,n,r){return this._param.setTargetAtTime(e,n,r),this}setValueCurveAtTime(e,n,r,s){return this._param.setValueCurveAtTime(e,n,r,s),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,n,r){return this._param.rampTo(e,n,r),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function Wg(t,e,n,r){(e instanceof Qe||uc(e)||e instanceof Le&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof Le&&(e.overridden=!0)),as(t,e,n,r)}class hD extends Qe{constructor(){const e=L(hD.getDefaults(),arguments,["value"]);super(e),this.name="TickParam",this._events=new Hs(1/0),this._multiplier=1,this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Qe.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,n,r){n=this.toSeconds(n),this.setRampPoint(n);const s=this._fromType(e),i=this._events.get(n),o=Math.round(Math.max(1/r,1));for(let a=0;a<=o;a++){const c=r*a+n,l=this._exponentialApproach(i.time,i.value,s,r,c);this.linearRampToValueAtTime(this._toType(l),c)}return this}setValueAtTime(e,n){const r=this.toSeconds(n);super.setValueAtTime(e,n);const s=this._events.get(r),i=this._events.previousEvent(s),o=this._getTicksUntilEvent(i,r);return s.ticks=Math.max(o,0),this}linearRampToValueAtTime(e,n){const r=this.toSeconds(n);super.linearRampToValueAtTime(e,n);const s=this._events.get(r),i=this._events.previousEvent(s),o=this._getTicksUntilEvent(i,r);return s.ticks=Math.max(o,0),this}exponentialRampToValueAtTime(e,n){n=this.toSeconds(n);const r=this._fromType(e),s=this._events.get(n),i=Math.round(Math.max(10*(n-s.time),1)),o=(n-s.time)/i;for(let a=0;a<=i;a++){const c=o*a+s.time,l=this._exponentialInterpolate(s.time,s.value,n,r,c);this.linearRampToValueAtTime(this._toType(l),c)}return this}_getTicksUntilEvent(e,n){if(null===e)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(Es(e.ticks)){const o=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(o,e.time)}const r=this._fromType(this.getValueAtTime(e.time));let s=this._fromType(this.getValueAtTime(n));const i=this._events.get(n);return i&&i.time===n&&"setValueAtTime"===i.type&&(s=this._fromType(this.getValueAtTime(n-this.sampleTime))),.5*(n-e.time)*(r+s)+e.ticks}getTicksAtTime(e){const n=this.toSeconds(e),r=this._events.get(n);return Math.max(this._getTicksUntilEvent(r,n),0)}getDurationOfTicks(e,n){const r=this.toSeconds(n),s=this.getTicksAtTime(n);return this.getTimeOfTick(s+e)-r}getTimeOfTick(e){const n=this._events.get(e,"ticks"),r=this._events.getAfter(e,"ticks");if(n&&n.ticks===e)return n.time;if(n&&r&&"linearRampToValueAtTime"===r.type&&n.value!==r.value){const s=this._fromType(this.getValueAtTime(n.time)),o=(this._fromType(this.getValueAtTime(r.time))-s)/(r.time-n.time),a=Math.sqrt(Math.pow(s,2)-2*o*(n.ticks-e)),c=(-s+a)/o;return(c>0?c:(-s-a)/o)+n.time}return n?0===n.value?1/0:n.time+(e-n.ticks)/n.value:e/this._initialValue}ticksToTime(e,n){return this.getDurationOfTicks(e,n)}timeToTicks(e,n){const r=this.toSeconds(n),s=this.toSeconds(e),i=this.getTicksAtTime(r);return this.getTicksAtTime(r+s)-i}_fromType(e){return"bpm"===this.units&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return"bpm"===this.units&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const n=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(n,0)}}class fD extends Le{constructor(){const e=L(fD.getDefaults(),arguments,["value"]);super(e),this.name="TickSignal",this.input=this._param=new hD({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(Le.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,n){return this._param.ticksToTime(e,n)}timeToTicks(e,n){return this._param.timeToTicks(e,n)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,n){return this._param.getDurationOfTicks(e,n)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class pD extends dr{constructor(){const e=L(pD.getDefaults(),arguments,["frequency"]);super(e),this.name="TickSource",this._state=new Kd,this._tickOffset=new Hs,this._ticksAtTime=new Hs,this._secondsAtTime=new Hs,this.frequency=new fD({context:this.context,units:e.units,value:e.frequency}),Se(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},dr.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,n){const r=this.toSeconds(e);return"started"!==this._state.getValueAtTime(r)&&(this._state.setStateAtTime("started",r),lt(n)&&this.setTicksAtTime(n,r),this._ticksAtTime.cancel(r),this._secondsAtTime.cancel(r)),this}stop(e){const n=this.toSeconds(e);if("stopped"===this._state.getValueAtTime(n)){const r=this._state.get(n);r&&r.time>0&&(this._tickOffset.cancel(r.time),this._state.cancel(r.time))}return this._state.cancel(n),this._state.setStateAtTime("stopped",n),this.setTicksAtTime(0,n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}pause(e){const n=this.toSeconds(e);return"started"===this._state.getValueAtTime(n)&&(this._state.setStateAtTime("paused",n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const n=this.toSeconds(e),r=this._state.getLastState("stopped",n),s=this._ticksAtTime.get(n),i={state:"paused",time:n};this._state.add(i);let o=s||r,a=s?s.ticks:0,c=null;return this._state.forEachBetween(o.time,n+this.sampleTime,l=>{let u=o.time;const d=this._tickOffset.get(l.time);d&&d.time>=o.time&&(a=d.ticks,u=d.time),"started"===o.state&&"started"!==l.state&&(a+=this.frequency.getTicksAtTime(l.time)-this.frequency.getTicksAtTime(u),l.time!==i.time&&(c={state:l.state,time:l.time,ticks:a})),o=l}),this._state.remove(i),c&&this._ticksAtTime.add(c),a}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const n=this.now(),r=this.frequency.timeToTicks(e,n);this.setTicksAtTime(r,n)}getSecondsAtTime(e){e=this.toSeconds(e);const n=this._state.getLastState("stopped",e),r={state:"paused",time:e};this._state.add(r);const s=this._secondsAtTime.get(e);let i=s||n,o=s?s.seconds:0,a=null;return this._state.forEachBetween(i.time,e+this.sampleTime,c=>{let l=i.time;const u=this._tickOffset.get(c.time);u&&u.time>=i.time&&(o=u.seconds,l=u.time),"started"===i.state&&"started"!==c.state&&(o+=c.time-l,c.time!==r.time&&(a={state:c.state,time:c.time,seconds:o})),i=c}),this._state.remove(r),a&&this._secondsAtTime.add(a),o}setTicksAtTime(e,n){return n=this.toSeconds(n),this._tickOffset.cancel(n),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,n),ticks:e,time:n}),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,n=this.now()){const r=this._tickOffset.get(n),s=this._state.get(n),i=Math.max(r.time,s.time),o=this.frequency.getTicksAtTime(i)+e-r.ticks;return this.frequency.getTimeOfTick(o)}forEachTickBetween(e,n,r){let s=this._state.get(e);this._state.forEachBetween(e,n,o=>{s&&"started"===s.state&&"started"!==o.state&&this.forEachTickBetween(Math.max(s.time,e),o.time-this.sampleTime,r),s=o});let i=null;if(s&&"started"===s.state){const o=Math.max(s.time,e),a=this.frequency.getTicksAtTime(o),l=a-this.frequency.getTicksAtTime(s.time);let u=Math.ceil(l)-l;u=gi(u,1)?0:u;let d=this.frequency.getTimeOfTick(a+u);for(;d<n;){try{r(d,Math.round(this.getTicksAtTime(d)))}catch(h){i=h;break}d+=this.frequency.getDurationOfTicks(1,d)}}if(i)throw i;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class Xd extends dr{constructor(){const e=L(Xd.getDefaults(),arguments,["callback","frequency"]);super(e),this.name="Clock",this.callback=vt,this._lastUpdate=0,this._state=new Kd("stopped"),this._boundLoop=this._loop.bind(this),this.callback=e.callback,this._tickSource=new pD({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Se(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(dr.getDefaults(),{callback:vt,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,n){AR(this.context);const r=this.toSeconds(e);return this.log("start",r),"started"!==this._state.getValueAtTime(r)&&(this._state.setStateAtTime("started",r),this._tickSource.start(r,n),r<this._lastUpdate&&this.emit("start",r,n)),this}stop(e){const n=this.toSeconds(e);return this.log("stop",n),this._state.cancel(n),this._state.setStateAtTime("stopped",n),this._tickSource.stop(n),n<this._lastUpdate&&this.emit("stop",n),this}pause(e){const n=this.toSeconds(e);return"started"===this._state.getValueAtTime(n)&&(this._state.setStateAtTime("paused",n),this._tickSource.pause(n),n<this._lastUpdate&&this.emit("pause",n)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,n){return this._tickSource.setTicksAtTime(e,n),this}getTimeOfTick(e,n=this.now()){return this._tickSource.getTimeOfTick(e,n)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,n){const r=this.toSeconds(n),s=this.getTicksAtTime(r);return this._tickSource.getTimeOfTick(s+e,r)}_loop(){const e=this._lastUpdate,n=this.now();this._lastUpdate=n,this.log("loop",e,n),e!==n&&(this._state.forEachBetween(e,n,r=>{switch(r.state){case"started":const s=this._tickSource.getTicksAtTime(r.time);this.emit("start",r.time,s);break;case"stopped":0!==r.time&&this.emit("stop",r.time);break;case"paused":this.emit("pause",r.time)}}),this._tickSource.forEachTickBetween(e,n,(r,s)=>{this.callback(r,s)}))}getStateAtTime(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Gd.mixin(Xd);class ua extends ${constructor(){const e=L(ua.getDefaults(),arguments,["volume"]);super(e),this.name="Volume",this.input=this.output=new le({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,Se(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign($.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class gD extends ${constructor(){const e=L(gD.getDefaults(),arguments);super(e),this.name="Destination",this.input=new ua({context:this.context}),this.output=new le({context:this.context}),this.volume=this.input.volume,$s(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign($.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),$s(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}Hg(t=>{t.destination=new gD({context:t})}),Ug(t=>{t.destination.dispose()});class KX extends ${constructor(){super(...arguments),this.name="Listener",this.positionX=new Qe({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Qe({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Qe({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Qe({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Qe({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Qe({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Qe({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Qe({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Qe({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign($.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}Hg(t=>{t.listener=new KX({context:t})}),Ug(t=>{t.listener.dispose()});class Zg extends la{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=L(Zg.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(n=>{this._loadingCount++,this.add(n,e.urls[n],this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:vt,onload:vt,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return ue(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,0===this._loadingCount&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,n])=>n.loaded)}add(e,n,r=vt,s=vt){return Bi(n)?(this.baseUrl&&"data:audio/"===n.trim().substring(0,11).toLowerCase()&&(this.baseUrl=""),this._buffers.set(e.toString(),new mi(this.baseUrl+n,r,s))):this._buffers.set(e.toString(),new mi(n,r,s)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class wn extends Qn{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class XX extends dr{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Hs,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,n){return this._events.add({callback:e,time:this.toSeconds(n)}),1===this._events.length&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;this._events.forEachBefore(e+this.anticipation,n=>{e-n.time<=this.expiration&&n.callback(),this._events.remove(n)}),this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Hg(t=>{t.draw=new XX({context:t})}),Ug(t=>{t.draw.dispose()});class JX extends la{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){ue(lt(e.time),"Events must have a time property"),ue(lt(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let n=new eJ(e.time,e.time+e.duration,e);for(null===this._root?this._root=n:this._root.insert(n),this._length++;null!==n;)n.updateHeight(),n.updateMax(),this._rebalance(n),n=n.parent;return this}remove(e){if(null!==this._root){const n=[];this._root.search(e.time,n);for(const r of n)if(r.event===e){this._removeNode(r),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,n=>this.remove(n)),this}_setRoot(e){this._root=e,null!==this._root&&(this._root.parent=null)}_replaceNodeInParent(e,n){null!==e.parent?(e.isLeftChild()?e.parent.left=n:e.parent.right=n,this._rebalance(e.parent)):this._setRoot(n)}_removeNode(e){if(null===e.left&&null===e.right)this._replaceNodeInParent(e,null);else if(null===e.right)this._replaceNodeInParent(e,e.left);else if(null===e.left)this._replaceNodeInParent(e,e.right);else{let r,s=null;if(e.getBalance()>0)if(null===e.left.right)r=e.left,r.right=e.right,s=r;else{for(r=e.left.right;null!==r.right;)r=r.right;r.parent&&(r.parent.right=r.left,s=r.parent,r.left=e.left,r.right=e.right)}else if(null===e.right.left)r=e.right,r.left=e.left,s=r;else{for(r=e.right.left;null!==r.left;)r=r.left;r.parent&&(r.parent.left=r.right,s=r.parent,r.left=e.left,r.right=e.right)}null!==e.parent?e.isLeftChild()?e.parent.left=r:e.parent.right=r:this._setRoot(r),s&&this._rebalance(s)}e.dispose()}_rotateLeft(e){const n=e.parent,r=e.isLeftChild(),s=e.right;s&&(e.right=s.left,s.left=e),null!==n?r?n.left=s:n.right=s:this._setRoot(s)}_rotateRight(e){const n=e.parent,r=e.isLeftChild(),s=e.left;s&&(e.left=s.right,s.right=e),null!==n?r?n.left=s:n.right=s:this._setRoot(s)}_rebalance(e){const n=e.getBalance();n>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):n<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(null!==this._root){const n=[];if(this._root.search(e,n),n.length>0){let r=n[0];for(let s=1;s<n.length;s++)n[s].low>r.low&&(r=n[s]);return r.event}}return null}forEach(e){if(null!==this._root){const n=[];this._root.traverse(r=>n.push(r)),n.forEach(r=>{r.event&&e(r.event)})}return this}forEachAtTime(e,n){if(null!==this._root){const r=[];this._root.search(e,r),r.forEach(s=>{s.event&&n(s.event)})}return this}forEachFrom(e,n){if(null!==this._root){const r=[];this._root.searchAfter(e,r),r.forEach(s=>{s.event&&n(s.event)})}return this}dispose(){return super.dispose(),null!==this._root&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class eJ{constructor(e,n,r){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=r,this.low=e,this.high=n,this.max=this.high}insert(e){e.low<=this.low?null===this.left?this.left=e:this.left.insert(e):null===this.right?this.right=e:this.right.insert(e)}search(e,n){e>this.max||(null!==this.left&&this.left.search(e,n),this.low<=e&&this.high>e&&n.push(this),!(this.low>e)&&null!==this.right&&this.right.search(e,n))}searchAfter(e,n){this.low>=e&&(n.push(this),null!==this.left&&this.left.searchAfter(e,n)),null!==this.right&&this.right.searchAfter(e,n)}traverse(e){e(this),null!==this.left&&this.left.traverse(e),null!==this.right&&this.right.traverse(e)}updateHeight(){this.height=null!==this.left&&null!==this.right?Math.max(this.left.height,this.right.height)+1:null!==this.right?this.right.height+1:null!==this.left?this.left.height+1:0}updateMax(){this.max=this.high,null!==this.left&&(this.max=Math.max(this.max,this.left.max)),null!==this.right&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return null!==this.left&&null!==this.right?e=this.left.height-this.right.height:null!==this.left?e=this.left.height+1:null!==this.right&&(e=-(this.right.height+1)),e}isLeftChild(){return null!==this.parent&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,null!==e&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,null!==e&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class tJ extends la{constructor(e){super(),this.name="TimelineValue",this._timeline=new Hs({memory:10}),this._initialValue=e}set(e,n){return this._timeline.add({value:e,time:n}),this}get(e){const n=this._timeline.get(e);return n?n.value:this._initialValue}}class Ts extends ${constructor(){super(L(Ts.getDefaults(),arguments,["context"]))}connect(e,n=0,r=0){return Wg(this,e,n,r),this}}class Hi extends Ts{constructor(){const e=L(Hi.getDefaults(),arguments,["mapping","length"]);super(e),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,Nr(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):function NX(t){return"function"==typeof t}(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(Le.getDefaults(),{length:1024})}setMap(e,n=1024){const r=new Float32Array(n);for(let s=0,i=n;s<i;s++)r[s]=e(s/(i-1)*2-1,s);return this.curve=r,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){ue(["none","2x","4x"].some(r=>r.includes(e)),"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class eh extends Ts{constructor(){const e=L(eh.getDefaults(),arguments,["value"]);super(e),this.name="Pow",this._exponentScaler=this.input=this.output=new Hi({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(Ts.getDefaults(),{value:1})}_expFunc(e){return n=>Math.pow(Math.abs(n),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}let Yg=(()=>{class t{constructor(n,r){this.id=t._eventId++,this._remainderTime=0;const s=Object.assign(t.getDefaults(),r);this.transport=n,this.callback=s.callback,this._once=s.once,this.time=Math.floor(s.time),this._remainderTime=s.time-this.time}static getDefaults(){return{callback:vt,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(n){if(this.callback){const r=this.transport.bpm.getDurationOfTicks(1,n);this.callback(n+this._remainderTime*r),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}return t._eventId=0,t})();class mD extends Yg{constructor(e,n){super(e,n),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const r=Object.assign(mD.getDefaults(),n);this.duration=r.duration,this._interval=r.interval,this._nextTick=r.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},Yg.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return Bg(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new wn(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){Bg(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new wn(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const n=this.transport.getTicksAtTime(e);ql(n,this.time)&&(this._nextTick=this.floatTime+Math.ceil((n-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class Qg extends dr{constructor(){const e=L(Qg.getDefaults(),arguments);super(e),this.name="Transport",this._loop=new tJ(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Hs,this._repeatedEvents=new JX,this._syncedSignals=[],this._swingAmount=0,this._ppq=e.ppq,this._clock=new Xd({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),Se(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(dr.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,n){if(this._loop.get(e)&&n>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),n=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&n%this._ppq!==0&&n%(2*this._swingTicks)!=0){const s=Math.sin(n%(2*this._swingTicks)/(2*this._swingTicks)*Math.PI)*this._swingAmount;e+=new wn(this.context,2*this._swingTicks/3).toSeconds()*s}RR(!0),this._timeline.forEachAtTime(n,r=>r.invoke(e)),RR(!1)}schedule(e,n){const r=new Yg(this,{callback:e,time:new Qn(this.context,n).toTicks()});return this._addEvent(r,this._timeline)}scheduleRepeat(e,n,r,s=1/0){const i=new mD(this,{callback:e,duration:new qs(this.context,s).toTicks(),interval:new qs(this.context,n).toTicks(),time:new Qn(this.context,r).toTicks()});return this._addEvent(i,this._repeatedEvents)}scheduleOnce(e,n){const r=new Yg(this,{callback:e,once:!0,time:new Qn(this.context,n).toTicks()});return this._addEvent(r,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const n=this._scheduledEvents[e.toString()];n.timeline.remove(n.event),n.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,n){return this._scheduledEvents[e.id.toString()]={event:e,timeline:n},n.add(e),e.id}cancel(e=0){const n=this.toTicks(e);return this._timeline.forEachFrom(n,r=>this.clear(r.id)),this._repeatedEvents.forEachFrom(n,r=>this.clear(r.id)),this}_bindClockEvents(){this._clock.on("start",(e,n)=>{n=new wn(this.context,n).toSeconds(),this.emit("start",e,n)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,n){let r;return this.context.resume(),lt(n)&&(r=this.toTicks(n)),this._clock.start(e,r),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),"started"!==this._clock.getStateAtTime(e)?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){Nr(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new qs(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new qs(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new wn(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),n=this._clock.getTicksAtTime(e);return new wn(this.context,n).toBarsBeatsSixteenths()}set position(e){const n=this.toTicks(e);this.ticks=n}get seconds(){return this._clock.seconds}set seconds(e){const n=this.now(),r=this._clock.frequency.timeToTicks(e,n);this.ticks=r}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const n=this.now();if("started"===this.state){const r=this._clock.getTicksAtTime(n),i=n+this._clock.frequency.getDurationOfTicks(Math.ceil(r)-r,n);this.emit("stop",i),this._clock.setTicksAtTime(e,i),this.emit("start",i,this._clock.getSecondsAtTime(i))}else this.emit("ticks",n),this._clock.setTicksAtTime(e,n)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),"started"!==this.state)return 0;{const n=this.now(),r=this.getTicksAtTime(n);return this._clock.nextTickTime(e-r%e,n)}}syncSignal(e,n){const r=this.now();let s=this.bpm,i=1/(60/s.getValueAtTime(r)/this.PPQ),o=[];if("time"===e.units){const c=.015625/i,l=new le(c),u=new eh(-1),d=new le(c);s.chain(l,u,d),s=d,i=1/i,o=[l,u,d]}n||(n=0!==e.getValueAtTime(r)?e.getValueAtTime(r)/i:0);const a=new le(n);return s.connect(a),a.connect(e._param),o.push(a),this._syncedSignals.push({initial:e.value,nodes:o,signal:e}),e.value=0,this}unsyncSignal(e){for(let n=this._syncedSignals.length-1;n>=0;n--){const r=this._syncedSignals[n];r.signal===e&&(r.nodes.forEach(s=>s.dispose()),r.signal.value=r.initial,this._syncedSignals.splice(n,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),Zd(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Gd.mixin(Qg),Hg(t=>{t.transport=new Qg({context:t})}),Ug(t=>{t.transport.dispose()});class Nn extends ${constructor(e){super(e),this.input=void 0,this._state=new Kd("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=vt,this._syncedStop=vt,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new ua({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,Se(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign($.getDefaults(),{mute:!1,onstop:vt,volume:0})}get state(){return this._synced?"started"===this.context.transport.state?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,n,r){let s=Es(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(s=this._clampToCurrentTime(s),this._synced||"started"!==this._state.getValueAtTime(s))if(this.log("start",s),this._state.setStateAtTime("started",s),this._synced){const i=this._state.get(s);i&&(i.offset=this.toSeconds(pi(n,0)),i.duration=r?this.toSeconds(r):void 0);const o=this.context.transport.schedule(a=>{this._start(a,n,r)},s);this._scheduled.push(o),"started"===this.context.transport.state&&this.context.transport.getSecondsAtTime(this.immediate())>s&&this._syncedStart(this.now(),this.context.transport.seconds)}else AR(this.context),this._start(s,n,r);else ue(ql(s,this._state.get(s).time),"Start time must be strictly greater than previous start time"),this._state.cancel(s),this._state.setStateAtTime("started",s),this.log("restart",s),this.restart(s,n,r);return this}stop(e){let n=Es(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(n=this._clampToCurrentTime(n),"started"===this._state.getValueAtTime(n)||lt(this._state.getNextState("started",n))){if(this.log("stop",n),this._synced){const r=this.context.transport.schedule(this._stop.bind(this),n);this._scheduled.push(r)}else this._stop(n);this._state.cancel(n),this._state.setStateAtTime("stopped",n)}return this}restart(e,n,r){return e=this.toSeconds(e),"started"===this._state.getValueAtTime(e)&&(this._state.cancel(e),this._restart(e,n,r)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,n)=>{if(ql(n,0)){const r=this._state.get(n);if(r&&"started"===r.state&&r.time!==n){const s=n-this.toSeconds(r.time);let i;r.duration&&(i=this.toSeconds(r.duration)-s),this._start(e,this.toSeconds(r.offset)+s,i)}}},this._syncedStop=e=>{const n=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));"started"===this._state.getValueAtTime(n)&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=vt,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class zl extends $l{constructor(){const e=L(zl.getDefaults(),arguments,["url","onload"]);super(e),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,as(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Qe({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new mi(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign($l.getDefaults(),{url:new mi,loop:!1,loopEnd:0,loopStart:0,onload:vt,onerror:vt,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,n,r,s=1){ue(this.buffer.loaded,"buffer is either not set or not loaded");const i=this.toSeconds(e);this._startGain(i,s),n=pi(n,this.loop?this.loopStart:0);let o=Math.max(this.toSeconds(n),0);if(this.loop){const a=this.toSeconds(this.loopEnd)||this.buffer.duration,c=this.toSeconds(this.loopStart),l=a-c;uD(o,a)&&(o=(o-c)%l+c),gi(o,this.buffer.duration)&&(o=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,Bg(o,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(i,o)),lt(r)){let a=this.toSeconds(r);a=Math.max(a,0),this.stop(i+a)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function gc(t,e){return Kt(this,void 0,void 0,function*(){const n=e/t.context.sampleRate,r=new qg(1,n,t.context.sampleRate);return new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:r})).toDestination().start(0),(yield r.render()).getChannelData(0)})}class Xg extends $l{constructor(){const e=L(Xg.getDefaults(),arguments,["frequency","type"]);super(e),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],as(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new Qe({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new Qe({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),Se(this,["frequency","detune"])}static getDefaults(){return Object.assign($l.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._oscillator.start(n),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}let Gr=(()=>{class t extends Nn{constructor(){const n=L(t.getDefaults(),arguments,["frequency","type"]);super(n),this.name="Oscillator",this._oscillator=null,this.frequency=new Le({context:this.context,units:"frequency",value:n.frequency}),Se(this,"frequency"),this.detune=new Le({context:this.context,units:"cents",value:n.detune}),Se(this,"detune"),this._partials=n.partials,this._partialCount=n.partialCount,this._type=n.type,n.partialCount&&"custom"!==n.type&&(this._type=this.baseType+n.partialCount.toString()),this.phase=n.phase}static getDefaults(){return Object.assign(Nn.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(n){const r=this.toSeconds(n),s=new Xg({context:this.context,onended:()=>this.onstop(this)});this._oscillator=s,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(r)}_stop(n){const r=this.toSeconds(n);this._oscillator&&this._oscillator.stop(r)}_restart(n){const r=this.toSeconds(n);return this.log("restart",r),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(r),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if("custom"===this._type)return t._periodicWaveCache.find(r=>r.phase===this._phase&&function HX(t,e){return t.length===e.length&&t.every((n,r)=>e[r]===n)}(r.partials,this._partials));{const n=t._periodicWaveCache.find(r=>r.type===this._type&&r.phase===this._phase);return this._partialCount=n?n.partialCount:this._partialCount,n}}get type(){return this._type}set type(n){this._type=n;const r=-1!==["sine","square","sawtooth","triangle"].indexOf(n);if(0===this._phase&&r)this._wave=void 0,this._partialCount=0,null!==this._oscillator&&(this._oscillator.type=n);else{const s=this._getCachedPeriodicWave();if(lt(s)){const{partials:i,wave:o}=s;this._wave=o,this._partials=i,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave)}else{const[i,o]=this._getRealImaginary(n,this._phase),a=this.context.createPeriodicWave(i,o);this._wave=a,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave),t._periodicWaveCache.push({imag:o,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:i,type:this._type,wave:this._wave}),t._periodicWaveCache.length>100&&t._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(n){this.type=this.partialCount&&"custom"!==this._type&&"custom"!==n?n+this.partialCount:n}get partialCount(){return this._partialCount}set partialCount(n){ur(n,0);let r=this._type;const s=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(s&&(r=s[1]),"custom"!==this._type)this.type=0===n?r:r+n.toString();else{const i=new Float32Array(n);this._partials.forEach((o,a)=>i[a]=o),this._partials=Array.from(i),this.type=this._type}}_getRealImaginary(n,r){let i=2048;const o=new Float32Array(i),a=new Float32Array(i);let c=1;if("custom"===n){if(c=this._partials.length+1,this._partialCount=this._partials.length,i=c,0===this._partials.length)return[o,a]}else{const l=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(n);l?(c=parseInt(l[2],10)+1,this._partialCount=parseInt(l[2],10),n=l[1],c=Math.max(c,2),i=c):this._partialCount=0,this._partials=[]}for(let l=1;l<i;++l){const u=2/(l*Math.PI);let d;switch(n){case"sine":d=l<=c?1:0,this._partials[l-1]=d;break;case"square":d=1&l?2*u:0,this._partials[l-1]=d;break;case"sawtooth":d=u*(1&l?1:-1),this._partials[l-1]=d;break;case"triangle":d=1&l?u*u*2*(l-1>>1&1?-1:1):0,this._partials[l-1]=d;break;case"custom":d=this._partials[l-1];break;default:throw new TypeError("Oscillator: invalid type: "+n)}0!==d?(o[l]=-d*Math.sin(r*l),a[l]=d*Math.cos(r*l)):(o[l]=0,a[l]=0)}return[o,a]}_inverseFFT(n,r,s){let i=0;const o=n.length;for(let a=0;a<o;a++)i+=n[a]*Math.cos(a*s)+r[a]*Math.sin(a*s);return i}getInitialValue(){const[n,r]=this._getRealImaginary(this._type,0);let s=0;const i=2*Math.PI;for(let a=0;a<32;a++)s=Math.max(this._inverseFFT(n,r,a/32*i),s);return function dc(t,e,n){return Math.max(Math.min(t,n),e)}(-this._inverseFFT(n,r,this._phase)/s,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(n){this._partials=n,this._partialCount=this._partials.length,n.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(n){this._phase=n*Math.PI/180,this.type=this._type}asArray(){return Kt(this,arguments,void 0,function*(n=1024){return gc(this,n)})}dispose(){return super.dispose(),null!==this._oscillator&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}return t._periodicWaveCache=[],t})();class yD extends Ts{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Hi({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class En extends Le{constructor(){const e=L(En.getDefaults(),arguments,["value"]);super(e),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new le({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Le.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Jg extends Nn{constructor(){const e=L(Jg.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="AMOscillator",this._modulationScale=new yD({context:this.context}),this._modulationNode=new le({context:this.context}),this._carrier=new Gr({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Gr({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new En({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Se(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Gr.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return Kt(this,arguments,void 0,function*(e=1024){return gc(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class th extends Nn{constructor(){const e=L(th.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="FMOscillator",this._modulationNode=new le({context:this.context,gain:0}),this._carrier=new Gr({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new Le({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new Gr({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new En({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new En({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Se(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Gr.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return Kt(this,arguments,void 0,function*(e=1024){return gc(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class nh extends Nn{constructor(){const e=L(nh.getDefaults(),arguments,["frequency","width"]);super(e),this.name="PulseOscillator",this._widthGate=new le({context:this.context,gain:0}),this._thresh=new Hi({context:this.context,mapping:n=>n<=0?-1:1}),this.width=new Le({context:this.context,units:"audioRange",value:e.width}),this._triangle=new Gr({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Se(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(Nn.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(){return Kt(this,arguments,void 0,function*(e=1024){return gc(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class em extends Nn{constructor(){const e=L(em.getDefaults(),arguments,["frequency","type","spread"]);super(e),this.name="FatOscillator",this._oscillators=[],this.frequency=new Le({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Le({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,Se(this,["frequency","detune"])}static getDefaults(){return Object.assign(Gr.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(n=>n.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(n=>n.stop(e))}_restart(e){this._forEach(n=>n.restart(e))}_forEach(e){for(let n=0;n<this._oscillators.length;n++)e(this._oscillators[n],n)}get type(){return this._type}set type(e){this._type=e,this._forEach(n=>n.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const n=-e/2,r=e/(this._oscillators.length-1);this._forEach((s,i)=>s.detune.value=n+r*i)}}get count(){return this._oscillators.length}set count(e){if(ur(e,1),this._oscillators.length!==e){this._forEach(n=>n.dispose()),this._oscillators=[];for(let n=0;n<e;n++){const r=new Gr({context:this.context,volume:-6-1.1*e,type:this._type,phase:this._phase+n/e*360,partialCount:this._partialCount,onstop:0===n?()=>this.onstop(this):vt});"custom"===this.type&&(r.partials=this._partials),this.frequency.connect(r.frequency),this.detune.connect(r.detune),r.detune.overridden=!1,r.connect(this.output),this._oscillators[n]=r}this.spread=this._spread,"started"===this.state&&this._forEach(n=>n.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((n,r)=>n.phase=this._phase+r/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(n=>n.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(n=>n.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(n=>n.partialCount=e),this._type=this._oscillators[0].type}asArray(){return Kt(this,arguments,void 0,function*(e=1024){return gc(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class tm extends Nn{constructor(){const e=L(tm.getDefaults(),arguments,["frequency","modulationFrequency"]);super(e),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new En({context:this.context,value:2}),this._pulse=new nh({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Gr({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Se(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(Nn.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(){return Kt(this,arguments,void 0,function*(e=1024){return gc(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const UR={am:Jg,fat:em,fm:th,oscillator:Gr,pulse:nh,pwm:tm};class da extends Nn{constructor(){const e=L(da.getDefaults(),arguments,["frequency","type"]);super(e),this.name="OmniOscillator",this.frequency=new Le({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Le({context:this.context,units:"cents",value:e.detune}),Se(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(Gr.getDefaults(),th.getDefaults(),Jg.getDefaults(),em.getDefaults(),nh.getDefaults(),tm.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(n=>this._sourceType===n)&&(e=this._sourceType),e+this._oscillator.type}set type(e){"fm"===e.substr(0,2)?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):"am"===e.substr(0,2)?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):"fat"===e.substr(0,3)?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):"pwm"===e?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):"pulse"===e?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const n=UR[e],r=this.now();if(this._oscillator){const s=this._oscillator;s.stop(r),this.context.setTimeout(()=>s.dispose(),this.blockTime)}this._oscillator=new n({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),"started"===this.state&&this._oscillator.start(r)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let n="sine";"pwm"!==this._oscillator.type&&"pulse"!==this._oscillator.type&&(n=this._oscillator.type),"fm"===e?this.type="fm"+n:"am"===e?this.type="am"+n:"fat"===e?this.type="fat"+n:"oscillator"===e?this.type=n:"pulse"===e?this.type="pulse":"pwm"===e&&(this.type="pwm")}_getOscType(e,n){return e instanceof UR[n]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&"pulse"!==e&&"pwm"!==e&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&js(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&js(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Bi(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return Kt(this,arguments,void 0,function*(e=1024){return gc(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function qR(t,e=1/0){const n=new WeakMap;return function(r,s){Reflect.defineProperty(r,s,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){ur(i,t,e),n.set(this,i)}})}}function Do(t,e=1/0){const n=new WeakMap;return function(r,s){Reflect.defineProperty(r,s,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){ur(this.toSeconds(i),t,e),n.set(this,i)}})}}class rh extends Nn{constructor(){const e=L(rh.getDefaults(),arguments,["url","onload"]);super(e),this.name="Player",this._activeSources=new Set,this._buffer=new mi({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(Nn.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:vt,onerror:vt,playbackRate:1,reverse:!1})}load(e){return Kt(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=vt){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),0===this._activeSources.size&&!this._synced&&"started"===this._state.getValueAtTime(this.now())&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,n,r){return super.start(e,n,r),this}_start(e,n,r){n=pi(n,this._loop?this._loopStart:0);const s=this.toSeconds(n),i=r;r=pi(r,Math.max(this._buffer.duration-s,0));let o=this.toSeconds(r);o/=this._playbackRate,e=this.toSeconds(e);const a=new zl({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+o),this._state.setStateAtTime("stopped",e+o,{implicitEnd:!0})),this._activeSources.add(a),this._loop&&Es(i)?a.start(e,s):a.start(e,s,o-this.toSeconds(this.fadeOut))}_stop(e){const n=this.toSeconds(e);this._activeSources.forEach(r=>r.stop(n))}restart(e,n,r){return super.restart(e,n,r),this}_restart(e,n,r){var s;null===(s=[...this._activeSources].pop())||void 0===s||s.stop(e),this._start(e,n,r)}seek(e,n){const r=this.toSeconds(n);if("started"===this._state.getValueAtTime(r)){const s=this.toSeconds(e);this._stop(r),this._start(r,s)}return this}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&ur(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&ur(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(n=>{n.loop=e}),e)){const n=this._state.getNextState("stopped",this.now());n&&this._state.cancel(n.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const n=this.now(),r=this._state.getNextState("stopped",n);r&&r.implicitEnd&&(this._state.cancel(r.time),this._activeSources.forEach(s=>s.cancelStop())),this._activeSources.forEach(s=>{s.playbackRate.setValueAtTime(e,n)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}Fs([Do(0)],rh.prototype,"fadeIn",void 0),Fs([Do(0)],rh.prototype,"fadeOut",void 0);class kr extends ${constructor(){const e=L(kr.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="Envelope",this._sig=new Le({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign($.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,n){if(Bi(e))return e;{let r;for(r in nm)if(nm[r][n]===e)return r;return e}}_setCurve(e,n,r){if(Bi(r)&&Reflect.has(nm,r)){const s=nm[r];aa(s)?"_decayCurve"!==e&&(this[e]=s[n]):this[e]=s}else{if(!Nr(r)||"_decayCurve"===e)throw new Error("Envelope: invalid curve: "+r);this[e]=r}}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,n=1){this.log("triggerAttack",e,n),e=this.toSeconds(e);let s=this.toSeconds(this.attack);const i=this.toSeconds(this.decay),o=this.getValueAtTime(e);if(o>0&&(s=(1-o)/(1/s)),s<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(n,e);else if("linear"===this._attackCurve)this._sig.linearRampTo(n,s,e);else if("exponential"===this._attackCurve)this._sig.targetRampTo(n,s,e);else{this._sig.cancelAndHoldAtTime(e);let a=this._attackCurve;for(let c=1;c<a.length;c++)if(a[c-1]<=o&&o<=a[c]){a=this._attackCurve.slice(c),a[0]=o;break}this._sig.setValueCurveAtTime(a,e,s,n)}if(i&&this.sustain<1){const a=n*this.sustain,c=e+s;this.log("decay",c),"linear"===this._decayCurve?this._sig.linearRampToValueAtTime(a,i+c):this._sig.exponentialApproachValueAtTime(a,c,i)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const n=this.getValueAtTime(e);if(n>0){const r=this.toSeconds(this.release);r<this.sampleTime?this._sig.setValueAtTime(0,e):"linear"===this._releaseCurve?this._sig.linearRampTo(0,r,e):"exponential"===this._releaseCurve?this._sig.targetRampTo(0,r,e):(ue(Nr(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,r,n))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,n,r=1){return n=this.toSeconds(n),this.triggerAttack(n,r),this.triggerRelease(n+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,n=0,r=0){return Wg(this,e,n,r),this}asArray(){return Kt(this,arguments,void 0,function*(e=1024){const n=e/this.context.sampleRate,r=new qg(1,n,this.context.sampleRate),s=this.toSeconds(this.attack)+this.toSeconds(this.decay),i=s+this.toSeconds(this.release),o=.1*i,a=i+o,c=new this.constructor(Object.assign(this.get(),{attack:n*this.toSeconds(this.attack)/a,decay:n*this.toSeconds(this.decay)/a,release:n*this.toSeconds(this.release)/a,context:r}));return c._sig.toDestination(),c.triggerAttackRelease(n*(s+o)/a,0),(yield r.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}Fs([Do(0)],kr.prototype,"attack",void 0),Fs([Do(0)],kr.prototype,"decay",void 0),Fs([qR(0,1)],kr.prototype,"sustain",void 0),Fs([Do(0)],kr.prototype,"release",void 0);const nm=(()=>{let e,n;const r=[];for(e=0;e<128;e++)r[e]=Math.sin(e/127*(Math.PI/2));const s=[];for(e=0;e<127;e++){n=e/127;const h=Math.sin(n*(2*Math.PI)*6.4-Math.PI/2)+1;s[e]=h/10+.83*n}s[127]=1;const o=[];for(e=0;e<128;e++)o[e]=Math.ceil(e/127*5)/5;const c=[];for(e=0;e<128;e++)n=e/127,c[e]=.5*(1-Math.cos(Math.PI*n));const l=[];for(e=0;e<128;e++){n=e/127;const h=4*Math.pow(n,3)+.2,f=Math.cos(h*Math.PI*2*n);l[e]=Math.abs(f*(1-n))}function u(h){const f=new Array(h.length);for(let p=0;p<h.length;p++)f[p]=1-h[p];return f}return{bounce:{In:u(l),Out:l},cosine:{In:r,Out:function d(h){return h.slice(0).reverse()}(r)},exponential:"exponential",linear:"linear",ripple:{In:s,Out:u(s)},sine:{In:c,Out:u(c)},step:{In:o,Out:u(o)}}})();class Gs extends ${constructor(){const e=L(Gs.getDefaults(),arguments);super(e),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=n=>this._original_triggerRelease(n),this._volume=this.output=new ua({context:this.context,volume:e.volume}),this.volume=this._volume.volume,Se(this,"volume")}static getDefaults(){return Object.assign($.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,n){const r=this["_original_"+e]=this[e];this[e]=(...s)=>{const o=this.context.transport.schedule(a=>{s[n]=a,r.apply(this,s)},s[n]);this._scheduledEvents.push(o)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,n,r,s){const i=this.toSeconds(r),o=this.toSeconds(n);return this.triggerAttack(e,i,s),this.triggerRelease(i+o),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class vr extends Gs{constructor(){const e=L(vr.getDefaults(),arguments);super(e),this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(Gs.getDefaults(),{detune:0,onsilence:vt,portamento:0})}triggerAttack(e,n,r=1){this.log("triggerAttack",e,n,r);const s=this.toSeconds(n);return this._triggerEnvelopeAttack(s,r),this.setNote(e,s),this}triggerRelease(e){this.log("triggerRelease",e);const n=this.toSeconds(e);return this._triggerEnvelopeRelease(n),this}setNote(e,n){const r=this.toSeconds(n),s=e instanceof os?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(r)>.05){const i=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(s,i,r)}else this.frequency.setValueAtTime(s,r);return this}}Fs([Do(0)],vr.prototype,"portamento",void 0);class sh extends kr{constructor(){super(L(sh.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new le({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class Ui extends vr{constructor(){const e=L(Ui.getDefaults(),arguments);super(e),this.name="Synth",this.oscillator=new da(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new sh(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),Se(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(vr.getDefaults(),{envelope:Object.assign(yr(kr.getDefaults(),Object.keys($.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(yr(da.getDefaults(),[...Object.keys(Nn.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,n){if(this.envelope.triggerAttack(e,n),this.oscillator.start(e),0===this.envelope.sustain){const r=this.toSeconds(this.envelope.attack),s=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+r+s)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class im extends Ui{constructor(){const e=L(im.getDefaults(),arguments);super(e),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,Se(this,["oscillator","envelope"])}static getDefaults(){return Bs(vr.getDefaults(),Ui.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,n){const r=this.toSeconds(n),s=this.toFrequency(e instanceof os?e.toFrequency():e);return this.oscillator.frequency.setValueAtTime(s*this.octaves,r),this.oscillator.frequency.exponentialRampToValueAtTime(s,r+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Fs([qR(0)],im.prototype,"octaves",void 0),Fs([Do(0)],im.prototype,"pitchDecay",void 0);const wD=new Set;function ED(t){wD.add(t)}function JR(t,e){wD.add(`registerProcessor("${t}", ${e})`)}ED('\n\t/**\n\t * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. \n\t */\n\tclass ToneAudioWorkletProcessor extends AudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\t\n\t\t\tsuper(options);\n\t\t\t/**\n\t\t\t * If the processor was disposed or not. Keep alive until it\'s disposed.\n\t\t\t */\n\t\t\tthis.disposed = false;\n\t\t   \t/** \n\t\t\t * The number of samples in the processing block\n\t\t\t */\n\t\t\tthis.blockSize = 128;\n\t\t\t/**\n\t\t\t * the sample rate\n\t\t\t */\n\t\t\tthis.sampleRate = sampleRate;\n\n\t\t\tthis.port.onmessage = (event) => {\n\t\t\t\t// when it receives a dispose \n\t\t\t\tif (event.data === "dispose") {\n\t\t\t\t\tthis.disposed = true;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n'),ED("\n\t/**\n\t * Abstract class for a single input/output processor. \n\t * has a 'generate' function which processes one sample at a time\n\t */\n\tclass SingleIOProcessor extends ToneAudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(Object.assign(options, {\n\t\t\t\tnumberOfInputs: 1,\n\t\t\t\tnumberOfOutputs: 1\n\t\t\t}));\n\t\t\t/**\n\t\t\t * Holds the name of the parameter and a single value of that\n\t\t\t * parameter at the current sample\n\t\t\t * @type { [name: string]: number }\n\t\t\t */\n\t\t\tthis.params = {}\n\t\t}\n\n\t\t/**\n\t\t * Generate an output sample from the input sample and parameters\n\t\t * @abstract\n\t\t * @param input number\n\t\t * @param channel number\n\t\t * @param parameters { [name: string]: number }\n\t\t * @returns number\n\t\t */\n\t\tgenerate(){}\n\n\t\t/**\n\t\t * Update the private params object with the \n\t\t * values of the parameters at the given index\n\t\t * @param parameters { [name: string]: Float32Array },\n\t\t * @param index number\n\t\t */\n\t\tupdateParams(parameters, index) {\n\t\t\tfor (const paramName in parameters) {\n\t\t\t\tconst param = parameters[paramName];\n\t\t\t\tif (param.length > 1) {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][index];\n\t\t\t\t} else {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][0];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Process a single frame of the audio\n\t\t * @param inputs Float32Array[][]\n\t\t * @param outputs Float32Array[][]\n\t\t */\n\t\tprocess(inputs, outputs, parameters) {\n\t\t\tconst input = inputs[0];\n\t\t\tconst output = outputs[0];\n\t\t\t// get the parameter values\n\t\t\tconst channelCount = Math.max(input && input.length || 0, output.length);\n\t\t\tfor (let sample = 0; sample < this.blockSize; sample++) {\n\t\t\t\tthis.updateParams(parameters, sample);\n\t\t\t\tfor (let channel = 0; channel < channelCount; channel++) {\n\t\t\t\t\tconst inputSample = input && input.length ? input[channel][sample] : 0;\n\t\t\t\t\toutput[channel][sample] = this.generate(inputSample, channel, this.params);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn !this.disposed;\n\t\t}\n\t};\n"),ED("\n\t/**\n\t * A multichannel buffer for use within an AudioWorkletProcessor as a delay line\n\t */\n\tclass DelayLine {\n\t\t\n\t\tconstructor(size, channels) {\n\t\t\tthis.buffer = [];\n\t\t\tthis.writeHead = []\n\t\t\tthis.size = size;\n\n\t\t\t// create the empty channels\n\t\t\tfor (let i = 0; i < channels; i++) {\n\t\t\t\tthis.buffer[i] = new Float32Array(this.size);\n\t\t\t\tthis.writeHead[i] = 0;\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Push a value onto the end\n\t\t * @param channel number\n\t\t * @param value number\n\t\t */\n\t\tpush(channel, value) {\n\t\t\tthis.writeHead[channel] += 1;\n\t\t\tif (this.writeHead[channel] > this.size) {\n\t\t\t\tthis.writeHead[channel] = 0;\n\t\t\t}\n\t\t\tthis.buffer[channel][this.writeHead[channel]] = value;\n\t\t}\n\n\t\t/**\n\t\t * Get the recorded value of the channel given the delay\n\t\t * @param channel number\n\t\t * @param delay number delay samples\n\t\t */\n\t\tget(channel, delay) {\n\t\t\tlet readHead = this.writeHead[channel] - Math.floor(delay);\n\t\t\tif (readHead < 0) {\n\t\t\t\treadHead += this.size;\n\t\t\t}\n\t\t\treturn this.buffer[channel][readHead];\n\t\t}\n\t}\n");JR("feedback-comb-filter",'\n\tclass FeedbackCombFilterWorklet extends SingleIOProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(options);\n\t\t\tthis.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);\n\t\t}\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: "delayTime",\n\t\t\t\tdefaultValue: 0.1,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 1,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}, {\n\t\t\t\tname: "feedback",\n\t\t\t\tdefaultValue: 0.5,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 0.9999,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, channel, parameters) {\n\t\t\tconst delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);\n\t\t\tthis.delayLine.push(channel, input + delayedSample * parameters.feedback);\n\t\t\treturn delayedSample;\n\t\t}\n\t}\n');class lm extends Gs{constructor(){const e=L(lm.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(e),this.name="Sampler",this._activeSources=new Map;const n={};Object.keys(e.urls).forEach(r=>{const s=parseInt(r,10);if(ue(Vg(r)||js(s)&&isFinite(s),`url key is neither a note or midi pitch: ${r}`),Vg(r)){const i=new os(this.context,r).toMidi();n[i]=e.urls[r]}else js(s)&&isFinite(s)&&(n[s]=e.urls[s])}),this._buffers=new Zg({urls:n,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(Gs.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:vt,onerror:vt,release:.1,urls:{}})}_findClosest(e){let r=0;for(;r<96;){if(this._buffers.has(e+r))return-r;if(this._buffers.has(e-r))return r;r++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,n,r=1){return this.log("triggerAttack",e,n,r),Array.isArray(e)||(e=[e]),e.forEach(s=>{const i=VR(new os(this.context,s).toFrequency()),o=Math.round(i),a=i-o,c=this._findClosest(o),u=this._buffers.get(o-c),d=Qd(c+a),h=new zl({url:u,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:d}).connect(this.output);h.start(n,0,u.duration/d,r),Nr(this._activeSources.get(o))||this._activeSources.set(o,[]),this._activeSources.get(o).push(h),h.onended=()=>{if(this._activeSources&&this._activeSources.has(o)){const f=this._activeSources.get(o),p=f.indexOf(h);-1!==p&&f.splice(p,1)}}}),this}triggerRelease(e,n){return this.log("triggerRelease",e,n),Array.isArray(e)||(e=[e]),e.forEach(r=>{const s=new os(this.context,r).toMidi();if(this._activeSources.has(s)&&this._activeSources.get(s).length){const i=this._activeSources.get(s);n=this.toSeconds(n),i.forEach(o=>{o.stop(n)}),this._activeSources.set(s,[])}}),this}releaseAll(e){const n=this.toSeconds(e);return this._activeSources.forEach(r=>{for(;r.length;)r.shift().stop(n)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,n,r,s=1){const i=this.toSeconds(r);return this.triggerAttack(e,i,s),Nr(n)?(ue(Nr(e),"notes must be an array when duration is array"),e.forEach((o,a)=>{const c=n[Math.min(a,n.length-1)];this.triggerRelease(o,i+this.toSeconds(c))})):this.triggerRelease(e,i+this.toSeconds(n)),this}add(e,n,r){if(ue(Vg(e)||isFinite(e),`note must be a pitch or midi: ${e}`),Vg(e)){const s=new os(this.context,e).toMidi();this._buffers.add(s,n,r)}else this._buffers.add(e,n,r);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(n=>n.dispose())}),this._activeSources.clear(),this}}Fs([Do(0)],lm.prototype,"attack",void 0),Fs([Do(0)],lm.prototype,"release",void 0);class fm extends ${constructor(){const e=L(fm.getDefaults(),arguments,["pan"]);super(e),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new Qe({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",Se(this,"pan")}static getDefaults(){return Object.assign($.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}JR("bit-crusher","\n\tclass BitCrusherWorklet extends SingleIOProcessor {\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: \"bits\",\n\t\t\t\tdefaultValue: 12,\n\t\t\t\tminValue: 1,\n\t\t\t\tmaxValue: 16,\n\t\t\t\tautomationRate: 'k-rate'\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, _channel, parameters) {\n\t\t\tconst step = Math.pow(0.5, parameters.bits - 1);\n\t\t\tconst val = step * Math.floor(input / step + 0.5);\n\t\t\treturn val;\n\t\t}\n\t}\n");class Gn extends ${constructor(){const e=L(Gn.getDefaults(),arguments,["solo"]);super(e),this.name="Solo",this.input=this.output=new le({context:this.context}),Gn._allSolos.has(this.context)||Gn._allSolos.set(this.context,new Set),Gn._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign($.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),Gn._allSolos.get(this.context).forEach(n=>n._updateSolo())}get muted(){return 0===this.input.gain.value}_addSolo(){Gn._soloed.has(this.context)||Gn._soloed.set(this.context,new Set),Gn._soloed.get(this.context).add(this)}_removeSolo(){Gn._soloed.has(this.context)&&Gn._soloed.get(this.context).delete(this)}_isSoloed(){return Gn._soloed.has(this.context)&&Gn._soloed.get(this.context).has(this)}_noSolos(){return!Gn._soloed.has(this.context)||Gn._soloed.has(this.context)&&0===Gn._soloed.get(this.context).size}_updateSolo(){this.input.gain.value=this._isSoloed()||this._noSolos()?1:0}dispose(){return super.dispose(),Gn._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Gn._allSolos=new Map,Gn._soloed=new Map;class ID extends ${constructor(){const e=L(ID.getDefaults(),arguments,["pan","volume"]);super(e),this.name="PanVol",this._panner=this.input=new fm({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new ua({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,Se(this,["pan","volume"])}static getDefaults(){return Object.assign($.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class Kl extends ${constructor(){const e=L(Kl.getDefaults(),arguments,["volume","pan"]);super(e),this.name="Channel",this._solo=this.input=new Gn({solo:e.solo,context:this.context}),this._panVol=this.output=new ID({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Se(this,["pan","volume"])}static getDefaults(){return Object.assign($.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return Kl.buses.has(e)||Kl.buses.set(e,new le({context:this.context})),Kl.buses.get(e)}send(e,n=0){const r=this._getBus(e),s=new le({context:this.context,units:"decibels",gain:n});return this.connect(s),s.connect(r),s}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}function qO(){return Us().now()}Kl.buses=new Map,Us(),Us(),Us(),Us(),Us(),Us();class gJ extends tr{constructor(e,n){super()}schedule(e,n=0){return this}}const bm={setInterval(t,e,...n){const{delegate:r}=bm;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=bm;return(e?.clearInterval||clearInterval)(t)},delegate:void 0},$O={now:()=>($O.delegate||Date).now(),delegate:void 0};class ch{constructor(e,n=ch.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}ch.now=$O.now;const zO=new class _J extends ch{constructor(e,n=ch.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}(class mJ extends gJ{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const s=this.id,i=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(i,s,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(i,this.id,n),this}requestAsyncId(e,n,r=0){return bm.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&bm.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let s,r=!1;try{this.work(e)}catch(i){r=!0,s=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),s}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,xo(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}),yJ=zO;function GO(t,e){return e?n=>Ep(e.pipe(Jo(1),function vJ(){return or((t,e)=>{t.subscribe(Hn(e,ba))})}()),n.pipe(GO(t))):Sr((n,r)=>ii(t(n,r)).pipe(Jo(1),function bJ(t){return Ft(()=>t)}(n)))}let EJ=(()=>{class t{sendSelectedNoteIfConnected(n){var r=this;return ze(function*(){r.connectedDevice&&r.connectedDevice.gatt?.connected&&r.serialCharacteristic?yield r.setLedByNote(n,!0):console.warn("Bluetooth not connected. Cannot send note.")})()}bluetoothDevices=[];connectedDevice=null;octaves=[[0,0,0,0,0,1],[0,0,0,0,0,1],[0,1,2,1,0,1],[1,1,2,1,1,2],[1,1,2,2,1,2],[2,2,3,2,3,3],[2,2,3,2,3,3],[3,4,4,3,3,4],[3,4,4,3,4,4],[3,4,5,5,4,4],[4,5,5,5,5,5],[4,5,5,5,5,5],[6,6,6,6,6,7],[6,6,6,6,6,7],[6,7,8,7,6,7],[7,7,8,7,7,8],[7,7,8,8,7,8],[8,8,9,8,9,9],[8,8,9,8,9,9],[9,10,10,9,9,10],[9,10,10,9,10,10],[9,10,11,11,10,10]];Notes=[[7,0,5,10,2,7],[8,1,6,11,3,8],[9,2,7,0,4,9],[10,3,8,1,5,10],[11,4,9,2,6,11],[0,5,10,3,7,0],[1,6,11,4,8,1],[2,7,0,5,9,2],[3,8,1,6,10,3],[4,9,2,7,11,4],[5,10,3,8,0,5],[6,11,4,9,1,6],[7,0,5,10,2,7],[7,0,5,10,2,7],[8,1,6,11,3,8],[9,2,7,0,4,9],[10,3,8,1,5,10],[11,4,9,2,6,11],[0,5,10,3,7,0],[1,6,11,4,8,1],[2,7,0,5,9,2],[3,8,1,6,10,3],[4,9,2,7,11,4],[5,10,3,8,0,5],[6,11,4,9,1,6],[7,0,5,10,2,7]];getOctave(n,r){return this.octaves[n][r]}getNote(n,r){return this.Notes[n][r]}setLedByNote(n,r){var s=this;return ze(function*(){const o={C:3,"C#":4,Db:4,D:5,"D#":6,Eb:6,E:7,F:8,"F#":9,Gb:9,G:10,"G#":11,Ab:11,A:0,"A#":1,Bb:1,B:2}[n];if(void 0===o)throw new Error("Invalid note name");const a=[0,1,2,3,4,5,6,7,8,9,10,11];if(r)for(let c of a)yield s.sendSerialData([69,o,c]);else for(let c of a)yield s.sendSerialData([68,o,c])})()}sendDataSet(n){var r=this;return ze(function*(){const s=["A","A#","B","C","C#","D","D#","E","F","F#","G","G#"],i=[];for(let o of s)n.includes(o)?(i.push(63),i.push(63)):(i.push(0),i.push(0));console.log("Resulting byte array:",i),yield r.sendSerialData([65]);for(let o=0;o<i.length;o++)yield r.sendSerialData([i[o]])})()}device=null;server=null;serialServiceUUID="0000ffe0-0000-1000-8000-00805f9b34fb";serialCharacteristicUUID="0000ffe1-0000-1000-8000-00805f9b34fb";serialCharacteristic=null;sendSerialData(n){var r=this;return ze(function*(){if(!r.serialCharacteristic)throw new Error("Not connected to serial characteristic");console.log("Sending data to Bluetooth device data:",n);const s=new Uint8Array(n);console.log("Sending data to Bluetooth device buffer:",s);try{yield r.serialCharacteristic.writeValueWithoutResponse(s),function wJ(t,e=zO){const n=function DJ(t=0,e,n=yJ){let r=-1;return null!=e&&(eN(e)?n=e:r=e),new Fe(s=>{let i=function CJ(t){return t instanceof Date&&!isNaN(t)}(t)?+t-n.now():t;i<0&&(i=0);let o=0;return n.schedule(function(){s.closed||(s.next(o++),0<=r?this.schedule(void 0,r):s.complete())},i)})}(t,e);GO(()=>n)}(200),yield r.readSerialData()}catch(i){console.log("sendSerialData Method Error writting value:   "+i)}})()}readSerialData(){var n=this;return ze(function*(){if(!n.serialCharacteristic)throw new Error("Not connected to serial characteristic");const r=yield n.serialCharacteristic.readValue();console.log("Read data from Bluetooth device:",r);const s=[];for(let i=0;i<r.byteLength;i++)s.push(r.getUint8(i));return s})()}discoverDevices(){var n=this;return ze(function*(){n.bluetoothDevices=[];try{const r=yield navigator.bluetooth.requestDevice({acceptAllDevices:!1,optionalServices:[n.serialServiceUUID],filters:[{namePrefix:"BT05"}]});r&&(n.bluetoothDevices.push(r),console.log("Found device HM-10:",r))}catch(r){console.error("Error discovering Bluetooth devices:",r)}return n.bluetoothDevices})()}connectToDevice(n){var r=this;return ze(function*(){try{if(!n.gatt)throw new Error("GATT server not available on device");if(r.server=yield n.gatt.connect(),r.server){const s=yield r.server.getPrimaryService(r.serialServiceUUID);r.serialCharacteristic=yield s.getCharacteristic(r.serialCharacteristicUUID),r.connectedDevice=n,console.log("Connected to device: ",n.name),console.log("UUID : "+r.serialCharacteristic.uuid)}}catch(s){console.error("Error connecting to device:",s)}})()}disconnectDevice(){this.connectedDevice?.gatt?.connected&&(this.connectedDevice.gatt.disconnect(),console.log("Disconnected from device:",this.connectedDevice.name),this.connectedDevice=null)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const TJ=()=>[],WO=()=>({background:"#0d1a4a",color:"#fff",border:"2px solid #0d1a4a"}),ZO=()=>({background:"#f9f9f9",color:"#111",border:"1px solid #bbb"});function SJ(t,e){if(1&t){const n=Dn();jr(),V(0,"rect",24),Ie("click",function(){je(n);const s=K().$implicit;return Be(K(2).onCircleChordClick(s,"Diminished"))}),P()}if(2&t){const n=K().index,r=K(2);Et("x",r.getCircleLabelPosition(n,180).x-18)("y",r.getCircleLabelPosition(n,180).y-18)("fill",r.diminishedCircle[n]===r.clickedCircleNote&&"Diminished"===r.getChordTypeForKey(r.clickedCircleNote)?"#0d1a4a":"#efefef")("stroke",r.diminishedCircle[n]===r.clickedCircleNote&&"Diminished"===r.getChordTypeForKey(r.clickedCircleNote)?"#fff":r.selectedFifthCircleColor)("transform","rotate("+r.getCircleRotation(n)+" "+r.getCircleLabelPosition(n,180).x+" "+r.getCircleLabelPosition(n,180).y+")")}}function MJ(t,e){if(1&t){const n=Dn();jr(),Ya(0),Pt(1,SJ,1,5,"rect",22),V(2,"text",23),Ie("click",function(){const s=je(n).$implicit,i=K(2);return Be(i.isDiminishedChordInSequence(i.normalizeNote(s))?i.onCircleChordClick(s,"Diminished"):null)}),X(3),P(),Yo()}if(2&t){const n=e.$implicit,r=e.index,s=K(2);F(),Oe("ngIf",s.isDiminishedChordInSequence(s.normalizeNote(n))),F(),Et("x",s.getCircleLabelPosition(r,180).x)("y",s.getCircleLabelPosition(r,180).y)("fill",s.diminishedCircle[r]===s.clickedCircleNote&&"Diminished"===s.getChordTypeForKey(s.clickedCircleNote)?"#fff":"#0d1a4a")("stroke",s.diminishedCircle[r]===s.clickedCircleNote&&"Diminished"===s.getChordTypeForKey(s.clickedCircleNote)?"#fff":s.selectedFifthCircleColor),F(),mr("",n,"\xb0")}}function IJ(t,e){if(1&t){const n=Dn();jr(),V(0,"rect",28),Ie("click",function(){je(n);const s=K().index,i=K(2);return Be(i.onCircleChordClick(i.circleOfFifthsMinors[s],"Minor"))}),P()}if(2&t){const n=K().index,r=K(2);Et("x",r.getCircleLabelPosition(n,80).x-18)("y",r.getCircleLabelPosition(n,80).y-18)("fill",r.circleOfFifthsMinors[n]===r.clickedCircleNote&&"Minor"===r.getChordTypeForKey(r.clickedCircleNote)?"#0d1a4a":"#efefef")("stroke",r.circleOfFifthsMinors[n]===r.clickedCircleNote&&"Minor"===r.getChordTypeForKey(r.clickedCircleNote)?"#0d1a4a":r.selectedFifthCircleColor)("transform","rotate("+r.getCircleRotation(n)+" "+r.getCircleLabelPosition(n,80).x+" "+r.getCircleLabelPosition(n,80).y+")")}}function xJ(t,e){if(1&t){const n=Dn();jr(),V(0,"rect",29),Ie("click",function(){je(n);const s=K().$implicit,i=K(2);return Be(i.onCircleChordClick(i.normalizeNote(s)))}),P()}if(2&t){const n=K(),r=n.$implicit,s=n.index,i=K(2);Et("x",i.getCircleLabelPosition(s,135).x-(i.normalizeNote(r)===i.selectedNote?28:22))("y",i.getCircleLabelPosition(s,135).y-(i.normalizeNote(r)===i.selectedNote?28:22))("width",i.normalizeNote(r)===i.selectedNote?56:44)("height",i.normalizeNote(r)===i.selectedNote?56:44)("fill",i.normalizeNote(r)===i.clickedCircleNote&&"Minor"!==i.getChordTypeForKey(i.clickedCircleNote)?"#0d1a4a":"#efefef")("stroke",i.normalizeNote(r)===i.clickedCircleNote&&"Minor"!==i.getChordTypeForKey(i.clickedCircleNote)?"#0d1a4a":i.selectedFifthCircleColor)("stroke-width",r===i.selectedNote?4:2)("transform","rotate("+i.getCircleRotation(s)+" "+i.getCircleLabelPosition(s,135).x+" "+i.getCircleLabelPosition(s,135).y+")")}}function AJ(t,e){if(1&t&&(jr(),Ya(0),Pt(1,IJ,1,5,"rect",25),cr(2,"line",26),Pt(3,xJ,1,8,"rect",27),Yo()),2&t){const n=e.$implicit,r=e.index,s=K(2);F(),Oe("ngIf",s.isMinorChordInSequence(s.circleOfFifthsMinors[r])||s.circleOfFifthsMinors[r]===s.clickedCircleNote&&"Minor"===s.getChordTypeForKey(s.clickedCircleNote)),F(),Et("x1",200)("y1",200)("x2",s.getCircleLabelPosition(r+.5,200).x)("y2",s.getCircleLabelPosition(r+.5,200).y),F(),Oe("ngIf",s.normalizeNote(n)===s.selectedNote||s.isChordSequenceKey(n)||s.normalizeNote(n)===s.clickedCircleNote&&"Minor"!==s.getChordTypeForKey(s.clickedCircleNote))}}function NJ(t,e){if(1&t&&(jr(),Ya(0),cr(1,"line",30),Yo()),2&t){const n=e.index,r=K(2);F(),Et("x1",r.getCircleLabelPosition(n).x)("y1",r.getCircleLabelPosition(n).y)("x2",r.getCircleLabelPosition(n,110).x)("y2",r.getCircleLabelPosition(n,110).y)}}function kJ(t,e){if(1&t&&(jr(),V(0,"text",34),X(1),P()),2&t){const n=K(),r=n.$implicit,s=n.index,i=K(2);Et("x",i.getCircleLabelPosition(s,135).x)("y",i.getCircleLabelPosition(s,135).y+20),F(),mr("",i.getChordTypeForKey(i.normalizeNote(r))," ")}}function RJ(t,e){if(1&t){const n=Dn();jr(),Ya(0),V(1,"text",31),Ie("click",function(){const s=je(n).$implicit,i=K(2);return Be(i.onCircleChordClick(i.normalizeNote(s)))}),X(2),P(),Pt(3,kJ,2,3,"text",32),V(4,"text",33),Ie("click",function(){const s=je(n).index,i=K(2);return Be(i.onCircleChordClick(i.normalizeNote(i.circleOfFifthsMinors[s]),"Minor"))}),X(5),P(),Yo()}if(2&t){const n=e.$implicit,r=e.index,s=K(2);F(),Et("x",s.getCircleLabelPosition(r,135).x)("y",s.getCircleLabelPosition(r,135).y)("font-size",s.normalizeNote(n)===s.selectedNote?36:s.isChordSequenceKey(n)?28:20)("fill",s.normalizeNote(n)===s.clickedCircleNote&&"Minor"!==s.getChordTypeForKey(s.clickedCircleNote)?"#fff":s.normalizeNote(n)===s.selectedNote?s.selectedFifthCircleColor:s.isChordSequenceKey(s.normalizeNote(n))?"#e91e63":"#333")("font-weight",s.normalizeNote(n)===s.selectedNote||s.isChordSequenceKey(s.normalizeNote(n))?"900":"bold")("stroke",s.normalizeNote(n)===s.clickedCircleNote&&"Minor"!==s.getChordTypeForKey(s.clickedCircleNote)?"#fff":s.normalizeNote(n)===s.selectedNote?s.selectedFifthCircleColor:s.isChordSequenceKey(s.normalizeNote(n))?"#fff":"none")("stroke-width",s.normalizeNote(n)===s.selectedNote?2:s.isChordSequenceKey(s.normalizeNote(n))?1:0),F(),vs(n),F(),Oe("ngIf",s.isChordSequenceKey(s.normalizeNote(n))),F(),Et("x",s.getCircleLabelPosition(r,80).x)("y",s.getCircleLabelPosition(r,80).y)("fill",s.circleOfFifthsMinors[r]===s.clickedCircleNote&&"Minor"===s.getChordTypeForKey(s.clickedCircleNote)?"#fff":s.chordSequenceNotes.includes(s.circleOfFifthsMinors[r])?s.selectedFifthCircleColor:"#0077aa")("font-weight",s.chordSequenceNotes.includes(s.circleOfFifthsMinors[r])?"900":"normal")("stroke",s.circleOfFifthsMinors[r]===s.clickedCircleNote&&"Minor"===s.getChordTypeForKey(s.clickedCircleNote)||s.chordSequenceNotes.includes(s.circleOfFifthsMinors[r])?"#fff":"none")("stroke-width",s.circleOfFifthsMinors[r]===s.clickedCircleNote&&"Minor"===s.getChordTypeForKey(s.clickedCircleNote)||s.chordSequenceNotes.includes(s.circleOfFifthsMinors[r])?1:0),F(),vs(s.circleOfFifthsMinors[r])}}function OJ(t,e){if(1&t){const n=Dn();V(0,"div",13)(1,"div",14)(2,"button",15),Ie("click",function(){return je(n),Be(K().advanceSelectedNoteInNotesArray(-1))}),X(3,"\u2190 Previous Note"),P(),V(4,"span",16),X(5),P(),V(6,"button",15),Ie("click",function(){return je(n),Be(K().advanceSelectedNoteInNotesArray(1))}),X(7,"Next Note \u2192"),P()(),V(8,"div",17),jr(),V(9,"svg",18)(10,"g"),Pt(11,MJ,4,6,"ng-container",12),P(),cr(12,"circle",19)(13,"circle",20)(14,"circle",21),V(15,"g"),Pt(16,AJ,4,6,"ng-container",12),P(),V(17,"g"),Pt(18,NJ,2,4,"ng-container",12),P(),V(19,"g"),Pt(20,RJ,6,16,"ng-container",12),P()()()()}if(2&t){const n=K();F(5),vs(n.selectedNote),F(6),Oe("ngForOf",n.diminishedCircle),F(5),Oe("ngForOf",n.circleOfFifths),F(2),Oe("ngForOf",n.circleOfFifths),F(2),Oe("ngForOf",n.circleOfFifths)}}function FJ(t,e){if(1&t&&(V(0,"option",49),X(1),P()),2&t){const n=e.$implicit;Oe("value",n),F(),vs(n)}}function PJ(t,e){if(1&t&&(V(0,"option",49),X(1),P()),2&t){const n=e.$implicit;Oe("value",n.key),F(),vs(n.key)}}function LJ(t,e){if(1&t){const n=Dn();V(0,"div",36)(1,"label",50),X(2,"Chord:"),P(),V(3,"select",51),Cs("ngModelChange",function(s){je(n);const i=K(2);return Os(i.selectedChord,s)||(i.selectedChord=s),Be(s)}),Pt(4,PJ,2,2,"option",43),$v(5,"keyvalue"),P()()}if(2&t){const n=K(2);F(3),bs("ngModel",n.selectedChord),F(),Oe("ngForOf",zv(5,2,n.chordFormulas))}}function VJ(t,e){if(1&t&&(V(0,"option",49),X(1),P()),2&t){const n=e.$implicit;Oe("value",n.key),F(),vs(n.key)}}function jJ(t,e){if(1&t){const n=Dn();V(0,"div",36)(1,"label",52),X(2,"Scale:"),P(),V(3,"select",53),Cs("ngModelChange",function(s){je(n);const i=K(2);return Os(i.selectedScale,s)||(i.selectedScale=s),Be(s)}),Pt(4,VJ,2,2,"option",43),$v(5,"keyvalue"),P()()}if(2&t){const n=K(2);F(3),bs("ngModel",n.selectedScale),F(),Oe("ngForOf",zv(5,2,n.scaleFormulas))}}function BJ(t,e){if(1&t){const n=Dn();V(0,"label")(1,"input",54),Ie("change",function(){const s=je(n).$implicit;return Be(K(2).toggleCAGEDShape(s))}),P(),X(2),P()}if(2&t){const n=e.$implicit,r=K(2);F(),Oe("checked",r.selectedCAGEDShapes.includes(n)),F(),mr(" ",n," Shape ")}}function HJ(t,e){if(1&t){const n=Dn();V(0,"div",35)(1,"div",36)(2,"label")(3,"input",37),Cs("ngModelChange",function(s){je(n);const i=K();return Os(i.showOtherNotes,s)||(i.showOtherNotes=s),Be(s)}),P(),X(4," All Notes "),P()(),V(5,"div",38)(6,"label")(7,"input",39),Cs("ngModelChange",function(s){je(n);const i=K();return Os(i.handedness,s)||(i.handedness=s),Be(s)}),P(),X(8," Right-handed "),P(),V(9,"label")(10,"input",40),Cs("ngModelChange",function(s){je(n);const i=K();return Os(i.handedness,s)||(i.handedness=s),Be(s)}),P(),X(11," Left-handed "),P()(),V(12,"div",36)(13,"label",41),X(14,"Note:"),P(),V(15,"select",42),Cs("ngModelChange",function(s){je(n);const i=K();return Os(i.selectedNote,s)||(i.selectedNote=s),Be(s)}),Pt(16,FJ,2,2,"option",43),P()(),V(17,"div",38)(18,"label")(19,"input",44),Cs("ngModelChange",function(s){je(n);const i=K();return Os(i.displayMode,s)||(i.displayMode=s),Be(s)}),P(),X(20," Chord "),P(),V(21,"label")(22,"input",45),Cs("ngModelChange",function(s){je(n);const i=K();return Os(i.displayMode,s)||(i.displayMode=s),Be(s)}),P(),X(23," Scale "),P()(),Pt(24,LJ,6,4,"div",46)(25,jJ,6,4,"div",46),V(26,"button",47),Ie("click",function(){return je(n),Be(K().play())}),X(27),P(),V(28,"div",48),Pt(29,BJ,3,2,"label",12),P()()}if(2&t){const n=K();F(3),bs("ngModel",n.showOtherNotes),F(4),bs("ngModel",n.handedness),F(3),bs("ngModel",n.handedness),F(5),bs("ngModel",n.selectedNote),F(),Oe("ngForOf",n.notes),F(3),bs("ngModel",n.displayMode),F(3),bs("ngModel",n.displayMode),F(2),Oe("ngIf","Chord"===n.displayMode),F(),Oe("ngIf","Scale"===n.displayMode),F(2),mr("Play ",n.displayMode),F(2),Oe("ngForOf",n.cagedShapes)}}function UJ(t,e){if(1&t&&(V(0,"th",57),X(1),P()),2&t){const n=e.index;F(),mr(" ",n+1," ")}}function qJ(t,e){if(1&t){const n=Dn();V(0,"td",59)(1,"button",68),Ie("click",function(){const s=je(n),i=s.$implicit,o=s.index,a=K(2);return a.toggleChordOnFretboard(i),Be(a.activeChordIndex=o)}),V(2,"strong"),X(3),P(),X(4),P()()}if(2&t){const n=e.$implicit,r=e.index,s=K(2);F(),gr("active",s.activeChordIndex===r),Oe("ngStyle",s.activeChordIndex===r?gl(5,WO):gl(6,ZO)),F(2),vs(n.note),F(),mr(" ",n.chord," ")}}function $J(t,e){if(1&t){const n=Dn();V(0,"td",59)(1,"button",68),Ie("click",function(){const s=je(n),i=s.$implicit,o=s.index,a=K(2);return a.toggleBorrowedChordOnFretboard(i),Be(a.activeBorrowedChordIndex=o)}),V(2,"strong"),X(3),P(),X(4),P()()}if(2&t){const n=e.$implicit,r=e.index,s=K(2);F(),gr("active",s.activeBorrowedChordIndex===r),Oe("ngStyle",s.activeBorrowedChordIndex===r?gl(5,WO):gl(6,ZO)),F(2),vs(n.note),F(),mr(" ",n.chord," ")}}function zJ(t,e){if(1&t){const n=Dn();V(0,"button",69),Ie("click",function(){return je(n),Be(K(2).stopChordSequence())}),X(1,"Stop Sequence"),P()}}function GJ(t,e){if(1&t&&(V(0,"div",70)(1,"span"),X(2),P()()),2&t){const n=K(2);F(2),mr("Next chord in: ",n.countdown,"s")}}function WJ(t,e){if(1&t){const n=Dn();V(0,"div")(1,"div",55)(2,"table",56)(3,"thead")(4,"tr")(5,"th",57),X(6,"Reset"),P(),cr(7,"th",57),Pt(8,UJ,2,1,"th",58),P()(),V(9,"tbody")(10,"tr")(11,"td",59)(12,"button",60),Ie("click",function(){return je(n),Be(K().resetChordSequence())}),V(13,"strong"),X(14,"Reset"),P()()(),V(15,"td"),X(16),P(),Pt(17,qJ,5,7,"td",61),P(),V(18,"tr")(19,"td",59)(20,"button",60),Ie("click",function(){return je(n),Be(K().resetBorrowedChordSequence())}),V(21,"strong"),X(22,"Reset"),P()()(),V(23,"td"),X(24),P(),Pt(25,$J,5,7,"td",61),P()()(),V(26,"div",62)(27,"label",63),X(28,"Sequence Interval:"),P(),V(29,"select",64),Cs("ngModelChange",function(s){je(n);const i=K();return Os(i.sequenceInterval,s)||(i.sequenceInterval=s),Be(s)}),V(30,"option",49),X(31,"5 second"),P(),V(32,"option",49),X(33,"10 seconds"),P(),V(34,"option",49),X(35,"30 seconds"),P(),V(36,"option",49),X(37,"1 minute"),P()(),V(38,"button",65),Ie("click",function(){return je(n),Be(K().playChordSequence())}),X(39,"Play Sequence"),P(),Pt(40,zJ,2,0,"button",66)(41,GJ,3,1,"div",67),P()()()}if(2&t){const n=K();F(8),Oe("ngForOf",n.getChordSequence()),F(4),gr("active",null===n.activeChordIndex),F(4),cp("",n.selectedNote,"-",n.selectedScale),F(),Oe("ngForOf",n.getChordSequence()),F(3),gr("active",null===n.activeBorrowedChordIndex),F(4),cp("",n.selectedNote,"-",n.parallelScales[n.selectedScale]),F(),Oe("ngForOf",n.getBorrowedChordSequence()),F(4),bs("ngModel",n.sequenceInterval),F(),Oe("value",5e3),F(2),Oe("value",1e4),F(2),Oe("value",3e4),F(2),Oe("value",6e4),F(2),Oe("disabled",n.isSequencePlaying),F(2),Oe("ngIf",n.isSequencePlaying),F(),Oe("ngIf",n.isSequencePlaying)}}function ZJ(t,e){1&t&&(V(0,"div"),cr(1,"div",77),V(2,"p"),X(3,"Loading, please wait..."),P()())}function YJ(t,e){if(1&t){const n=Dn();V(0,"li",78)(1,"span",79),X(2),P(),V(3,"button",80),Ie("click",function(){const s=je(n).$implicit;return Be(K(3).connectToDevice(s))}),X(4," Connect "),P()()}if(2&t){const n=e.$implicit;F(2),vs(n.name||"Unnamed Device")}}function QJ(t,e){if(1&t&&(V(0,"ul",75),Pt(1,ZJ,4,0,"div",5)(2,YJ,5,1,"li",76),P()),2&t){const n=K(2);F(),Oe("ngIf",n.isLoading),F(),Oe("ngForOf",n.bluetoothDevices)}}function KJ(t,e){if(1&t){const n=Dn();V(0,"div",81)(1,"p"),X(2),V(3,"button",72),Ie("click",function(){return je(n),Be(K(2).disconnectDevice())}),X(4,"Disconnect"),P()(),V(5,"button",82),Ie("click",function(){return je(n),Be(K(2).sendDisplayedNotesToBluetooth())}),X(6," Send Displayed Notes to Guitar "),P(),V(7,"button",82),Ie("click",function(){return je(n),Be(K(2).sendDisplayedNotesToBluetoothUsingDataset())}),X(8," Send Displayed Notes to Guitar (Dataset) "),P()()}if(2&t){const n=K(2);F(2),mr("Connected to: ",n.connectedDevice.name," ")}}function XJ(t,e){if(1&t){const n=Dn();V(0,"div",71)(1,"button",72),Ie("click",function(){return je(n),Be(K().discoverDevices())}),X(2,"Discover Devices"),P(),Pt(3,QJ,3,2,"ul",73)(4,KJ,9,1,"div",74),P()}if(2&t){const n=K();F(3),Oe("ngIf",!n.connectedDevice),F(),Oe("ngIf",null!=n.connectedDevice)}}function JJ(t,e){1&t&&(V(0,"div"),cr(1,"guitar-pro"),P())}function eee(t,e){if(1&t&&(jr(),cr(0,"line",84)),2&t){const n=K().index,r=K();Et("x1",45*n)("y1",0)("x2",45*n)("y2",r.fretboardHeight)}}function tee(t,e){if(1&t&&(jr(),V(0,"g"),Pt(1,eee,1,4,"line",83),P()),2&t){const n=e.index;F(),Oe("ngIf",n>0)}}function nee(t,e){if(1&t){const n=Dn();jr(),V(0,"g")(1,"g",86),Ie("click",function(){const s=je(n),i=s.$implicit,o=s.index,a=K().index;return Be(K().playNote(i.note,a,o))}),cr(2,"circle"),V(3,"text",87),X(4),P()()()}if(2&t){const n=e.$implicit,r=e.index,s=K().index,i=K();F(2),Et("cx",45*r+22)("cy",50*s+25)("r",n.isPartOfChordOrScale?18:12)("fill",n.isAnimated?"#00ff00":n.isPartOfSelectedChord?"#001199":n.isPartOfSelectedBorrowedChord?"green":n.isPartOfCAGEDShape?"rgba(0,0,255,0.1)":n.isRootNote?"#ff5733":n.isPartOfChordOrScale?"#ffcc00":"#eee")("stroke",n.isAnimated?"#00ff00":n.isPartOfSelectedChord?"#001199":n.isPartOfSelectedBorrowedChord?"green":n.isPartOfCAGEDShape?"rgba(0,0,255,0.1)":n.isRootNote?"#ff5733":n.isPartOfChordOrScale?"#ffcc00":"#fff")("stroke-width",2)("opacity",n.isPartOfSelectedChord||n.isPartOfSelectedChord||n.isPartOfChordOrScale||i.showOtherNotes?1:0),F(),Et("x",45*r+22)("y",50*s+30)("font-size",n.isPartOfChordOrScale?14:12)("font-family","Helvetica")("fill",n.isRootNote||n.isPartOfSelectedChord?"#fff":"#333")("opacity",n.isPartOfChordOrScale||n.isPartOfSelectedChord?1:i.showOtherNotes?.3:0),F(),mr(" ",n.note," ")}}function ree(t,e){if(1&t&&(jr(),V(0,"g"),cr(1,"line",85),Pt(2,nee,5,14,"g",12),P()),2&t){const n=e.$implicit,r=e.index,s=K();F(),Et("x1",0)("y1",50*r+25)("x2",45*s.renderFretboard()[0].length)("y2",50*r+25),F(),Oe("ngForOf",n)}}let see=(()=>{class t{smartLightBluetoothService;ngZone;cdr;isLoading;bluetoothDevices=[];connectedDevice=null;sendDisplayedNotesToBluetooth(){var n=this;return ze(function*(){const r=n.getDisplayedNotes(),s=n.notes;for(const i of s){const o=r.includes(i);console.log("Sending note to Bluetooth:",i,"isOn:",o),yield n.smartLightBluetoothService.setLedByNote(i,o)}})()}sendDisplayedNotesToBluetoothUsingDataset(){var n=this;return ze(function*(){const r=n.getDisplayedNotes();yield n.smartLightBluetoothService.sendDataSet(r)})()}constructor(n,r,s){this.smartLightBluetoothService=n,this.ngZone=r,this.cdr=s,this.isLoading=!1}discoverDevices(){var n=this;return ze(function*(){n.isLoading=!0,n.bluetoothDevices=[];try{(yield n.smartLightBluetoothService.discoverDevices()).map(r=>{n.ngZone.run(()=>{n.bluetoothDevices.push(r),n.isLoading=!1})})}catch{n.bluetoothDevices=[]}finally{n.isLoading=!1}})()}connectToDevice(n){var r=this;return ze(function*(){r.isLoading=!0,r.connectedDevice=null;try{yield r.smartLightBluetoothService.connectToDevice(n),r.ngZone.run(()=>{r.connectedDevice=n,r.isLoading=!1})}catch{r.connectedDevice=null}finally{r.isLoading=!1}})()}disconnectDevice(){this.smartLightBluetoothService.disconnectDevice(),this.connectedDevice?console.log("Disconnected from device:",this.connectedDevice.name):console.log("Disconnected from device: (no device was connected)"),this.connectedDevice=null}advanceSelectedNoteInNotesArray(n=1){let s=(this.notes.indexOf(this.selectedNote)+n+this.notes.length)%this.notes.length;this.selectedNote=this.notes[s],this.sendDisplayedNotesToBluetooth()}getCircleRotation(n){return 30*(n-this.circleOfFifths.indexOf(this.normalizeNote(this.selectedNote)))-90}parallelScales={Major:"Minor",Minor:"Major",PentatonicMajor:"PentatonicMinor",PentatonicMinor:"PentatonicMajor",Blues:"Blues",HarmonicMinor:"Major",MelodicMinor:"Major",Dorian:"Mixolydian",Mixolydian:"Dorian",Phrygian:"Lydian",Lydian:"Phrygian",Locrian:"Locrian",Chromatic:"Chromatic"};isDiminishedChordInSequence(n){return this.chordSequenceFull.some(r=>this.normalizeNote(r.note)===this.normalizeNote(n)&&r.chord&&r.chord.toLowerCase().includes("diminished"))}diminishedCircle=["B","Gb","Db","Ab","Eb","Bb","F","C","G","D","A","E"];clickedCircleNote=null;ngOnInit(){}ngOnChanges(){"circlefifths"===this.activeTab&&(this.displayMode="Scale",this.selectedScale="Major")}isMinorChordInSequence(n){return this.chordSequenceFull.some(r=>this.normalizeNote(r.note)===n&&r.chord&&r.chord.toLowerCase().includes("minor"))}onCircleChordClick(n,r){if(this.clickedCircleNote===n&&(!r||r===this.getChordTypeForKey(n)))return this.clickedCircleNote=null,void this.clearChordOnFretboard();const s=r||this.getChordTypeForKey(n)||"Major";this.displayChordOnFretboard({note:n,chord:s}),this.clickedCircleNote=n}clearChordOnFretboard(){this.selectedChordNotes=[]}circleOfFifthsMinors=["A","E","B","Gb","Db","Ab","Eb","Bb","F","C","G","D"];circleOfFifths=["C","G","D","A","E","B","Gb","Db","Ab","Eb","Bb","F"];normalizeNote(n){return{Db:"C#","C#":"Db",Eb:"D#","D#":"Eb",Gb:"F#","F#":"Gb",Ab:"G#","G#":"Ab",Bb:"A#","A#":"Bb"}[n]||n}isChordSequenceKey(n){return this.chordSequenceFull.some(r=>this.normalizeNote(r.note)===n)}getChordTypeForKey(n){const r=this.chordSequenceFull.find(s=>this.normalizeNote(s.note)===n);return r?r.chord:""}get chordSequenceFull(){return this.getChordSequence()}get chordSequenceNotes(){return this.getChordSequence().map(n=>n.note)}getCircleLabelPosition(n,r=140){const s=this.circleOfFifths.indexOf(this.normalizeNote(this.selectedNote)),o=(30*(n-(s>=0?s:0))-90)*Math.PI/180;return{x:200+r*Math.cos(o),y:200+r*Math.sin(o)}}showOtherNotes=!1;sequenceIntervalId=null;countdown=0;sequenceInterval=5e3;_activeTab="controls";get activeTab(){return this._activeTab}set activeTab(n){this._activeTab=n,"circlefifths"===n&&(this.displayMode="Scale",this.selectedScale="Major"),"chordseq"===n&&(this.displayMode="Scale")}fretMarkers=[1,3,5,7,9,12,15,17,19,21,23];handedness="right";notes=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];_selectedNote="C";_selectedChord="Major";_selectedScale="Major";get selectedNote(){return this._selectedNote}set selectedNote(n){this._selectedNote=n,this.sendDisplayedNotesToBluetoothUsingDataset()}get selectedChord(){return this._selectedChord}set selectedChord(n){this._selectedChord=n,this.sendDisplayedNotesToBluetoothUsingDataset()}get selectedScale(){return this._selectedScale}set selectedScale(n){this._selectedScale=n,this.sendDisplayedNotesToBluetoothUsingDataset()}displayMode="Chord";animatedNotes=[];clickedNote=null;cagedShapes=["C","A","G","E","D"];selectedCAGEDShapes=[];displayedChordNotes=[];selectedChordNotes=[];selectedBorrowedChordNotes=[];isSequencePlaying=!1;activeChordIndex=null;activeBorrowedChordIndex=null;ischordActive=!1;selectedFifthCircleColor="#c47e7eff";strings=[this.generateString("E"),this.generateString("A"),this.generateString("D"),this.generateString("G"),this.generateString("B"),this.generateString("E")];getDisplayedNotes(){return"Chord"===this.displayMode?this.getChordNotes():this.getScaleNotes()}getCAGEDShapes(){return this.notes.indexOf(this.selectedNote),this.getDisplayedNotes(),[{shape:"C",intervals:[-1,3,2,0,1,0],rootString:5},{shape:"A",intervals:[0,0,2,2,2,0],rootString:2},{shape:"G",intervals:[3,2,0,0,0,3],rootString:4},{shape:"E",intervals:[0,2,2,1,0,0],rootString:6},{shape:"D",intervals:[-1,0,0,2,3,2],rootString:3}].map(i=>{const o=this.selectedNote,c=this.strings[i.rootString-1].findIndex(d=>d===o),l=c>=0&&"C"!==i.shape?c:c-1,u=i.intervals.map(d=>-1===d?-1:d+l);return{shape:i.shape,frets:u}})}getFilteredCAGEDShapes(){return this.getCAGEDShapes().filter(r=>this.selectedCAGEDShapes.includes(r.shape))}toggleCAGEDShape(n){this.selectedCAGEDShapes.includes(n)?this.selectedCAGEDShapes=this.selectedCAGEDShapes.filter(r=>r!==n):this.selectedCAGEDShapes.push(n)}generateString(n){const r=this.notes.indexOf(n),s=[];for(let i=0;i<24;i++)s.push(this.notes[(r+i)%12]);return s}chordFormulas={Major:[0,4,7],Minor:[0,3,7],Seventh:[0,4,7,10],MinorSeventh:[0,3,7,10],MajorSeventh:[0,4,7,11],Augmented:[0,4,8],Diminished:[0,3,6],Suspended2:[0,2,7],Suspended4:[0,5,7],Dim7:[0,3,6,9],HalfDim7:[0,3,6,10],Augmented7:[0,4,8,10],MinorMajor7:[0,3,7,11],Add9:[0,4,7,14],MinorAdd9:[0,3,7,14],Sixth:[0,4,7,9],MinorSixth:[0,3,7,9]};scaleFormulas={Major:[0,2,4,5,7,9,11],Minor:[0,2,3,5,7,8,10],PentatonicMajor:[0,2,4,7,9],PentatonicMinor:[0,3,5,7,10],Blues:[0,3,5,6,7,10],HarmonicMinor:[0,2,3,5,7,8,11],MelodicMinor:[0,2,3,5,7,9,11],Dorian:[0,2,3,5,7,9,10],Phrygian:[0,1,3,5,7,8,10],Lydian:[0,2,4,6,7,9,11],Mixolydian:[0,2,4,5,7,9,10],Locrian:[0,1,3,5,6,8,10],Chromatic:[0,1,2,3,4,5,6,7,8,9,10,11]};chordMappings={Major:["Major","Minor","Minor","Major","Major","Minor","Diminished","sus2","sus4","add9","add7","Major7","Minor7"],Minor:["Minor","Diminished","Major","Minor","Minor","Major","Major","sus2","sus4","add9","add7","Minor7","Diminished7"],PentatonicMajor:["Major","Major","Major","Major","Major"],PentatonicMinor:["Minor","Minor","Minor","Minor","Minor"],Blues:["Minor","Minor","Minor","Minor","Minor","Minor"],HarmonicMinor:["Minor","Diminished","Augmented","Minor","Major","Major","Diminished"],MelodicMinor:["Minor","Minor","Augmented","Major","Major","Diminished","Diminished"],Dorian:["Minor","Minor","Major","Major","Minor","Diminished","Major"],Phrygian:["Minor","Minor","Major","Major","Minor","Major","Major"],Lydian:["Major","Major","Minor","Diminished","Major","Minor","Minor"],Mixolydian:["Major","Minor","Diminished","Major","Minor","Minor","Major"],Locrian:["Diminished","Minor","Major","Minor","Major","Major","Major"],Chromatic:["Unknown"]};playChord(n){(new Ui).toDestination().triggerAttackRelease(`${n.note}4`,"1s"),console.log(`Playing chord: ${n.note} ${n.chord}`)}displayChordOnFretboard(n){const r=this.notes.indexOf(n.note);console.log("root: "+r);const s=this.chordFormulas[n.chord]||[];console.log("formula "+s),this.selectedChordNotes=s.map(i=>this.notes[(r+i)%12]),console.log(this.selectedChordNotes[0])}getChordSequence(){const n=this.scaleFormulas[this.selectedScale],r=this.notes.indexOf(this.selectedNote),s=n.map(o=>this.notes[(r+Number(o))%12]),i=this.chordMappings[this.selectedScale]||[];return s.map((o,a)=>({note:o,chord:i[a]||"Unknown"}))}getBorrowedChordSequence(){const n=this.parallelScales[this.selectedScale],r=this.scaleFormulas[n],s=this.notes.indexOf(this.selectedNote),i=r.map(a=>this.notes[(s+Number(a))%12]),o=this.chordMappings[n]||[];return i.map((a,c)=>({note:a,chord:o[c]||"Unknown"}))}toggleChordOnFretboard(n){this.resetBorrowedChordSequence();const r=this.notes.indexOf(n.note),i=(this.chordFormulas[n.chord]||[]).map(o=>this.notes[(r+Number(o))%12]);this.selectedChordNotes=this.selectedChordNotes.length>0&&this.selectedChordNotes.every(o=>i.includes(o))?[]:i}toggleBorrowedChordOnFretboard(n){this.resetChordSequence();const r=this.notes.indexOf(n.note),i=(this.chordFormulas[n.chord]||[]).map(o=>this.notes[(r+Number(o))%12]);this.selectedBorrowedChordNotes=this.selectedBorrowedChordNotes.length>0&&this.selectedBorrowedChordNotes.every(o=>i.includes(o))?[]:i}playChordSequence(){const n=this.getChordSequence();this.isSequencePlaying=!0;let r=0;const s=()=>{if(this.activeChordIndex=r,this.toggleChordOnFretboard(n[r]),r<n.length-1){let i=Math.floor(this.sequenceInterval/1e3);this.countdown=i,this.sequenceIntervalId=setInterval(()=>{i--,this.countdown=i,i<=0&&(clearInterval(this.sequenceIntervalId),r++,s())},1e3)}else setTimeout(()=>{this.isSequencePlaying=!1,this.activeChordIndex=null,this.countdown=0,this.resetChordSequence()},this.sequenceInterval)};s()}stopChordSequence(){this.isSequencePlaying=!1,this.activeChordIndex=null,this.countdown=0,this.sequenceIntervalId&&(clearInterval(this.sequenceIntervalId),this.sequenceIntervalId=null)}blinkChordOnFretboard(n){const r=this.getChordNotesForRoot(n);this.animatedNotes=r,setTimeout(()=>this.animatedNotes=[],1e3)}getChordNotesForRoot(n){const r=this.notes.indexOf(n);return(this.chordMappings[this.selectedScale]||[]).map(i=>this.notes[(r+Number(i))%12])}getFretboardForChord(){const n=this.chordFormulas[this.selectedChord],r=this.notes.indexOf(this.selectedNote);return this.strings.map(i=>i.map(o=>{const a=this.notes.indexOf(o);return n.some(c=>(r+c)%12===a)?o:""}))}getFretboardForScale(){const n=this.scaleFormulas[this.selectedScale],r=this.notes.indexOf(this.selectedNote);return this.strings.map(i=>i.map(o=>{const a=this.notes.indexOf(o);return n.some(c=>(r+c)%12===a)?o:""}))}getFretboard(){return"Chord"===this.displayMode?this.getFretboardForChord():this.getFretboardForScale()}isRootNote(n){return n===this.selectedNote}getChordNotes(){const n=this.chordFormulas[this.selectedChord],r=this.notes.indexOf(this.selectedNote);return n.map(s=>this.notes[(r+s)%12])}getScaleNotes(){const n=this.scaleFormulas[this.selectedScale],r=this.notes.indexOf(this.selectedNote);return n.map(s=>this.notes[(r+s)%12])}isPartOfChordOrScale(n){const r=this.getChordNotes(),s=this.getScaleNotes();return"Chord"===this.displayMode?r.includes(n):s.includes(n)}renderFretboard(){const n=this.getFilteredCAGEDShapes();let r=this.strings.map((s,i)=>s.map((o,a)=>{const c=n.some(u=>u.frets[i]===a&&o===this.selectedNote),l=n.some(u=>u.frets[i]===a&&-1!==u.frets[i]);return{note:o,isPartOfChordOrScale:this.isPartOfChordOrScale(o),isPartOfCAGEDShape:l,isPartOfSelectedChord:this.selectedChordNotes.includes(o),isPartOfSelectedBorrowedChord:this.selectedBorrowedChordNotes.includes(o),isAnimated:this.isAnimated(o),isRootNote:this.isRootNote(o)||c}}));return"right"===this.handedness&&(r=[...r].reverse()),r}get fretboardWidth(){return 45*this.strings[0].length}get fretboardHeight(){return 50*this.strings.length}play(){var n=this;return ze(function*(){console.log("Playing in mode:",n.displayMode);const r=(new Ui).toDestination(),s="Chord"===n.displayMode?n.getChordNotes():n.getScaleNotes();if(n.animatedNotes=[],"Chord"===n.displayMode){let i=qO();s.forEach((o,a)=>{r.triggerAttackRelease(`${o}4`,"0.5s",i),setTimeout(()=>{n.animatedNotes=[o]},500*a),i+=.5}),setTimeout(()=>n.animatedNotes=[],500*s.length)}else{let i=qO();s.forEach((o,a)=>{r.triggerAttackRelease(`${o}4`,"0.5s",i),setTimeout(()=>{n.animatedNotes=[o]},500*a),i+=.5}),setTimeout(()=>n.animatedNotes=[],500*s.length)}})()}isAnimated(n){return this.animatedNotes.includes(n)}playNote(n,r,s){(new Ui).toDestination().triggerAttackRelease(`${n}4`,"0.5s"),this.animatedNotes=[n],this.clickedNote=`String ${6-r}, Fret ${s}: ${n}`,setTimeout(()=>this.animatedNotes=[],500)}resetChordSequence(){this.activeChordIndex=null,this.selectedChordNotes=[],this.displayedChordNotes=[],this.isSequencePlaying=!1,this.ischordActive=!1}resetBorrowedChordSequence(){this.activeBorrowedChordIndex=null,this.selectedBorrowedChordNotes=[],this.displayedChordNotes=[],this.isSequencePlaying=!1,this.ischordActive=!1}static \u0275fac=function(r){return new(r||t)(z(EJ),z(Rt),z(vl))};static \u0275cmp=Xu({type:t,selectors:[["guitar-app"]],features:[ks],decls:34,vars:44,consts:[[1,"tabs-row"],[1,"tab-btn",3,"click"],["class","circle-fifths-section",4,"ngIf"],[1,"container"],["class","controls-row",4,"ngIf"],[4,"ngIf"],["class","bluetooth-section",4,"ngIf"],[1,"fretboard-wrapper"],[1,"fretboard-svg",2,"max-width","100%","height","auto","display","block","margin","0 auto"],["x","0","y","0","fill","#fff","stroke","#eee","stroke-width","4"],["x","0","y","0","width","8","fill","#222","rx","4"],["r","7","fill","#bbb","stroke","#888","stroke-width","1"],[4,"ngFor","ngForOf"],[1,"circle-fifths-section"],[2,"display","flex","justify-content","center","align-items","center","gap","16px","margin-bottom","12px"],[2,"padding","8px 16px","font-size","16px","border-radius","6px","border","1px solid #bbb","background","#f9f9f9","cursor","pointer","color","#a80000",3,"click"],[2,"font-size","20px","font-weight","bold","min-width","48px","text-align","center"],[2,"display","flex","justify-content","center","align-items","center","margin","32px 0"],["width","450","height","450","viewBox","-10 -10 450 450"],["cx","200","cy","200","r","200","fill","none","stroke","#bbb","stroke-width","5"],["cx","200","cy","200","r","160","fill","#f9f9f9","stroke","#bbb","stroke-width","4"],["cx","200","cy","200","r","110","fill","none","stroke","#bbb","stroke-width","3"],["width","36","height","36","rx","7","ry","7","fill","#f3e5f5","stroke","#8e24aa","stroke-width","3","style","cursor:pointer;",3,"click",4,"ngIf"],["text-anchor","middle","alignment-baseline","middle","font-size","14","font-family","Helvetica","font-weight","bold","stroke-width","0.5",2,"cursor","pointer",3,"click"],["width","36","height","36","rx","7","ry","7","fill","#f3e5f5","stroke","#8e24aa","stroke-width","3",2,"cursor","pointer",3,"click"],["width","36","height","36","rx","7","ry","7","stroke-width","2","style","cursor:pointer;",3,"click",4,"ngIf"],["stroke","#bbb","stroke-width","1.5"],["rx","12","ry","12","style","cursor:pointer;",3,"click",4,"ngIf"],["width","36","height","36","rx","7","ry","7","stroke-width","2",2,"cursor","pointer",3,"click"],["rx","12","ry","12",2,"cursor","pointer",3,"click"],["stroke","#aaa","stroke-width","2"],["text-anchor","middle","alignment-baseline","middle","font-family","Helvetica",2,"cursor","pointer",3,"click"],["text-anchor","middle","alignment-baseline","middle","font-size","14","font-family","Helvetica","fill","#e91e63","font-weight","bold","stroke","#fff","stroke-width","0.5",4,"ngIf"],["text-anchor","middle","alignment-baseline","middle","font-size","16","font-family","Helvetica","font-style","italic",2,"cursor","pointer",3,"click"],["text-anchor","middle","alignment-baseline","middle","font-size","14","font-family","Helvetica","fill","#e91e63","font-weight","bold","stroke","#fff","stroke-width","0.5"],[1,"controls-row"],[1,"control-block"],["type","checkbox",3,"ngModelChange","ngModel"],[1,"control-block","radio-group"],["type","radio","name","handedness","value","right",3,"ngModelChange","ngModel"],["type","radio","name","handedness","value","left",3,"ngModelChange","ngModel"],["for","note"],["id","note",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["type","radio","name","displayMode","value","Chord",3,"ngModelChange","ngModel"],["type","radio","name","displayMode","value","Scale",3,"ngModelChange","ngModel"],["class","control-block",4,"ngIf"],[1,"play-btn",3,"click"],[1,"caged-shapes"],[3,"value"],["for","chord"],["id","chord",3,"ngModelChange","ngModel"],["for","scale"],["id","scale",3,"ngModelChange","ngModel"],["type","checkbox",3,"change","checked"],[1,"chord-sequence-wrapper"],[1,"chord-sequence-table",2,"margin","0 auto","border-collapse","separate","border-spacing","8px"],[2,"text-align","center","font-size","16px","font-weight","bold","padding","8px"],["style","text-align:center; font-size:16px; font-weight:bold; padding:8px;",4,"ngFor","ngForOf"],[2,"padding","8px"],[1,"chord-card","reset-card",2,"width","100%","height","100%","font-size","15px","padding","10px","border-radius","8px","border","1px solid #bbb","background","#f9f9f9","cursor","pointer",3,"click"],["style","padding:8px;",4,"ngFor","ngForOf"],[1,"interval-select-row",2,"display","flex","align-items","center","gap","16px","justify-content","center","margin-top","12px"],["for","sequenceInterval"],["id","sequenceInterval",3,"ngModelChange","ngModel"],[3,"click","disabled"],["style","background:#d9534f;color:#fff;border:none;border-radius:6px;padding:8px 18px;font-weight:600;cursor:pointer;",3,"click",4,"ngIf"],["class","countdown-timer","style","margin-left: 12px;",4,"ngIf"],[1,"chord-card",2,"width","100%","height","100%","font-size","15px","padding","10px","border-radius","8px","cursor","pointer",3,"click","ngStyle"],[2,"background","#d9534f","color","#fff","border","none","border-radius","6px","padding","8px 18px","font-weight","600","cursor","pointer",3,"click"],[1,"countdown-timer",2,"margin-left","12px"],[1,"bluetooth-section"],[3,"click"],["class","device-list","style","list-style: none; padding: 0; margin: 0 auto; display: flex; flex-direction: column; align-items: center; width: fit-content;",4,"ngIf"],["class","connected-device",4,"ngIf"],[1,"device-list",2,"list-style","none","padding","0","margin","0 auto","display","flex","flex-direction","column","align-items","center","width","fit-content"],["style","display: flex; align-items: center; justify-content: space-between; \n      padding: 10px 16px; margin: 8px 0px; \n      border: 1px solid #ddd; border-radius: 8px; background: #fafbfc;",4,"ngFor","ngForOf"],[1,"spinner"],[2,"display","flex","align-items","center","justify-content","space-between","padding","10px 16px","margin","8px 0px","border","1px solid #ddd","border-radius","8px","background","#fafbfc"],[2,"font-size","16px","font-weight","500"],[2,"margin-left","16px","padding","6px 18px","border-radius","6px","border","1px solid #bbb","background","#1a0202","cursor","pointer","color","#fff",3,"click"],[1,"connected-device"],[2,"margin-top","16px",3,"click"],["stroke","#888","stroke-width","1.5",4,"ngIf"],["stroke","#888","stroke-width","1.5"],["stroke","#333","stroke-width","2"],[2,"cursor","pointer",3,"click"],["text-anchor","middle","alignment-baseline","middle",2,"pointer-events","none"]],template:function(r,s){1&r&&(V(0,"div",0)(1,"button",1),Ie("click",function(){return s.activeTab="controls"}),X(2,"Main"),P(),V(3,"button",1),Ie("click",function(){return s.activeTab="chordseq"}),X(4,"Progression"),P(),V(5,"button",1),Ie("click",function(){return s.activeTab="circlefifths"}),X(6,"Circle of Fifths"),P(),V(7,"button",1),Ie("click",function(){return s.activeTab="bluetooth"}),X(8,"Bluetooth"),P(),V(9,"button",1),Ie("click",function(){return s.activeTab="guitarpro"}),X(10,"Guitar Pro"),P()(),Pt(11,OJ,21,5,"div",2),V(12,"div",3),Pt(13,HJ,30,11,"div",4)(14,WJ,42,19,"div",5)(15,XJ,5,2,"div",6)(16,JJ,2,0,"div",5),cr(17,"br"),V(18,"div",7),jr(),V(19,"svg",8),cr(20,"rect",9)(21,"rect",10)(22,"circle",11)(23,"circle",11)(24,"circle",11)(25,"circle",11)(26,"circle",11)(27,"circle",11)(28,"circle",11)(29,"circle",11)(30,"circle",11)(31,"circle",11),Pt(32,tee,2,1,"g",12)(33,ree,3,5,"g",12),P()()()),2&r&&(F(),gr("active-tab","controls"===s.activeTab),F(2),gr("active-tab","chordseq"===s.activeTab),F(2),gr("active-tab","circlefifths"===s.activeTab),F(2),gr("active-tab","bluetooth"===s.activeTab),F(2),gr("active-tab","guitarpro"===s.activeTab),F(2),Oe("ngIf","circlefifths"===s.activeTab),F(2),Oe("ngIf","controls"===s.activeTab),F(),Oe("ngIf","chordseq"===s.activeTab),F(),Oe("ngIf","bluetooth"===s.activeTab),F(),Oe("ngIf","guitarpro"===s.activeTab),F(3),Et("width",s.fretboardWidth)("height",s.fretboardHeight)("viewBox","0 0 "+s.fretboardWidth+" "+s.fretboardHeight),F(),Et("width",s.fretboardWidth)("height",s.fretboardHeight),F(),Et("height",s.fretboardHeight),F(),Et("cx",157)("cy",s.fretboardHeight/2),F(),Et("cx",247)("cy",s.fretboardHeight/2),F(),Et("cx",337)("cy",s.fretboardHeight/2),F(),Et("cx",427)("cy",s.fretboardHeight/2),F(),Et("cx",562)("cy",s.fretboardHeight/2-14),F(),Et("cx",562)("cy",s.fretboardHeight/2+14),F(),Et("cx",697)("cy",s.fretboardHeight/2),F(),Et("cx",787)("cy",s.fretboardHeight/2),F(),Et("cx",877)("cy",s.fretboardHeight/2),F(),Et("cx",967)("cy",s.fretboardHeight/2),F(),Oe("ngForOf",gl(43,TJ).constructor(s.renderFretboard()[0].length)),F(),Oe("ngForOf",s.renderFretboard()))},dependencies:[c1,Qk,Xk,Gp,zp,ug,yC,sC,ag,T1,NC,kC,D1,O7,w1],styles:['.tabs-row[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:8px;margin-bottom:10px}.tab-btn[_ngcontent-%COMP%]{background:#e9e9f0;color:#333;border:none;border-radius:8px 8px 0 0;padding:8px 24px;font-size:1rem;font-weight:500;cursor:pointer;box-shadow:0 1px 4px #0000000f;transition:background .2s}.tab-btn.active-tab[_ngcontent-%COMP%]{background:#007bff;color:#fff;font-weight:600}.controls-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:center;gap:18px;background:#f8f8fa;border-radius:12px;box-shadow:0 2px 8px #00000012;padding:16px 12px;margin-bottom:18px}.controls-row[_ngcontent-%COMP%]   .control-block[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.controls-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;margin-right:4px}.controls-row[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .controls-row[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{font-size:1rem;padding:4px 8px;border-radius:6px;border:1px solid #ccc}.controls-row[_ngcontent-%COMP%]   .play-btn[_ngcontent-%COMP%]{background:#007bff;color:#fff;border:none;border-radius:6px;padding:8px 18px;font-size:1rem;font-weight:600;cursor:pointer;box-shadow:0 1px 4px #00000014;transition:background .2s}.controls-row[_ngcontent-%COMP%]   .play-btn[_ngcontent-%COMP%]:hover{background:#0056b3}.container[_ngcontent-%COMP%]{max-width:90%;margin:0 auto;text-align:center;padding:10px}select[_ngcontent-%COMP%]{margin:10px;padding:5px}.fretboard[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;margin:20px auto;border:5px solid #333;padding:10px;background-color:#f4f4f4;position:relative;overflow-x:auto}.string[_ngcontent-%COMP%]{display:flex;margin:0;position:relative}.fret[_ngcontent-%COMP%]{width:60px;height:40px;border-right:2px solid #000;display:flex;align-items:center;justify-content:center;font-size:12px;position:relative}.fret[_ngcontent-%COMP%]:last-child{border-right:none}.fret.highlight[_ngcontent-%COMP%]{background-color:#fc0;font-weight:700;border-radius:50%;border:2px solid #000;min-width:30px;width:30px;height:30px;margin:0 10px}.fret.root[_ngcontent-%COMP%]{background-color:#ff5733;color:#fff;font-weight:700;border-radius:50%}.string[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:0;right:0;height:2px;background-color:#333}.string-numbers[_ngcontent-%COMP%]{display:flex;margin:20px auto;padding:10px;background-color:#f4f4f4;position:relative}.string-numbers[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-weight:700;border:2px solid #000;min-width:30px;width:50px;height:30px;margin:0 10px}@media (max-width: 768px){.container[_ngcontent-%COMP%]{max-width:100%;padding:5px}.fretboard[_ngcontent-%COMP%]{border:1px solid #333;padding:5px}.fret[_ngcontent-%COMP%]{width:50px;height:30px;font-size:10px}select[_ngcontent-%COMP%]{font-size:.9rem}.string-numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px}}@media (max-width: 480px){.container[_ngcontent-%COMP%]{max-width:100%;padding:5px}.fretboard[_ngcontent-%COMP%]{border:1px solid #333;padding:5px;overflow-x:scroll}.fret[_ngcontent-%COMP%]{width:40px;height:25px;font-size:8px}select[_ngcontent-%COMP%]{font-size:.8rem}.string-numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:10px}}.fret.animated[_ngcontent-%COMP%]{background-color:#0f0;color:#fff;font-weight:700;border-radius:50%;animation:_ngcontent-%COMP%_pulse .5s ease-in-out infinite}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}50%{transform:scale(1.2)}to{transform:scale(1)}}.clicked-note[_ngcontent-%COMP%]{margin:20px auto;font-size:1.2rem;font-weight:700;color:#333}.fret.small[_ngcontent-%COMP%]{font-size:.8rem;color:#aaa}.caged-box[_ngcontent-%COMP%]{position:absolute;top:0;height:100%;background-color:#0000ff1a;border:3px solid #00f;border-radius:57px;text-align:center;font-size:.9rem;color:#00f;border-top:3px dotted rgba(0,0,255,.1)}.caged-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:relative;bottom:-100px;color:#333;z-index:1000;font-size:20px;border:0px solid #000}.fret.caged[_ngcontent-%COMP%]{border:2px solid #00f;border-radius:5px;background-color:#0000ff1a;z-index:2000}@keyframes _ngcontent-%COMP%_blink{0%{opacity:1}50%{opacity:.5}to{opacity:1}}.fret.selected-chord[_ngcontent-%COMP%]{font-weight:700;border-radius:20%;box-shadow:0 0 10px #ff5733cc;opacity:.5;width:20px;height:20px;border:1px solid white}.chord-sequence[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;margin:20px 0;justify-content:center}.chord-card[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:5px;padding:10px;background-color:#f9f9f9;box-shadow:0 2px 4px #0000001a;text-align:center;width:150px;cursor:pointer;transition:transform .2s,box-shadow .2s}.chord-card[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 4px 8px #0003}.chord-card.active[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;font-weight:700;box-shadow:0 0 10px #007bffcc}.chord-card.reset-card[_ngcontent-%COMP%]{background:#ffeaea;color:#d00;border:2px solid #ffd6d6;font-weight:700;box-shadow:0 2px 8px #dc000012}.fret.selected-chord[_ngcontent-%COMP%]{background-color:#ff5733;color:#fff;font-weight:700;border-radius:50%;box-shadow:0 0 10px #ff5733cc}.clicked-note[_ngcontent-%COMP%]{margin-top:20px;font-size:1.2rem;font-weight:700}button[_ngcontent-%COMP%]{margin-top:10px;padding:5px 10px;font-size:.9rem;background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.spinner[_ngcontent-%COMP%]{border:4px solid rgba(0,0,0,.1);border-left-color:#333;border-radius:50%;width:30px;height:30px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}']})}return t})();(function vG(t,e,n){return Mz({rootComponent:t,platformRef:n?.platformRef,...xA(e)})})((()=>{class t{title="guitar-app";static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Xu({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(r,s){1&r&&cr(0,"guitar-app")(1,"router-outlet")},dependencies:[Bb,see],encapsulation:2})}return t})(),f6).catch(t=>console.error(t))},579:(ne,Dt,mt)=>{var rt=mt(736);function _t(At,Vt){for(var gn=0;gn<Vt.length;gn++){var yn=Vt[gn];yn.enumerable=yn.enumerable||!1,yn.configurable=!0,"value"in yn&&(yn.writable=!0),Object.defineProperty(At,rt(yn.key),yn)}}ne.exports=function bt(At,Vt,gn){return Vt&&_t(At.prototype,Vt),gn&&_t(At,gn),Object.defineProperty(At,"prototype",{writable:!1}),At},ne.exports.__esModule=!0,ne.exports.default=ne.exports},582:function(ne,Dt,mt){!function(rt,_t,bt,At){"use strict";var Vt=function(re,te,J){return{endTime:te,insertTime:J,type:"exponentialRampToValue",value:re}},gn=function(re,te,J){return{endTime:te,insertTime:J,type:"linearRampToValue",value:re}},yn=function(re,te){return{startTime:te,type:"setValue",value:re}},Rr=function(re,te,J){return{duration:J,startTime:te,type:"setValueCurve",values:re}},ls=function(re,te,J){var et=J.target;return et+(te-et)*Math.exp((J.startTime-re)/J.timeConstant)},Ut=function(re){return"exponentialRampToValue"===re.type},Pn=function(re){return"linearRampToValue"===re.type},Sn=function(re){return Ut(re)||Pn(re)},us=function(re){return"setValue"===re.type},Nt=function(re){return"setValueCurve"===re.type},we=function(re,te,J,he){var et=re[te];return void 0===et?he:Sn(et)||us(et)?et.value:Nt(et)?et.values[et.values.length-1]:ls(J,we(re,te-1,et.startTime,he),et)},Ct=function(re,te,J,he,et){return void 0===J?[he.insertTime,et]:Sn(J)?[J.endTime,J.value]:us(J)?[J.startTime,J.value]:Nt(J)?[J.startTime+J.duration,J.values[J.values.length-1]]:[J.startTime,we(re,te-1,J.startTime,et)]},zi=function(re){return"cancelAndHold"===re.type},_i=function(re){return"cancelScheduledValues"===re.type},St=function(re){return zi(re)||_i(re)?re.cancelTime:Ut(re)||Pn(re)?re.endTime:re.startTime},yi=function(re,te,J,he){var se=he.value;return J===se?se:0<J&&0<se||J<0&&se<0?J*Math.pow(se/J,(re-te)/(he.endTime-te)):0},To=function(re,te,J,he){return J+(re-te)/(he.endTime-te)*(he.value-J)},_a=function(re,te){var et=te.values;return function(re,te){var J=Math.floor(te),he=Math.ceil(te);return J===he?re[J]:(1-(te-J))*re[J]+(1-(he-te))*re[he]}(et,(re-te.startTime)/te.duration*(et.length-1))},vi=function(re){return"setTarget"===re.type};rt.AutomationEventList=function(){return At(function Mt(re){bt(this,Mt),this._automationEvents=[],this._currenTime=0,this._defaultValue=re},[{key:Symbol.iterator,value:function(){return this._automationEvents[Symbol.iterator]()}},{key:"add",value:function(te){var J=St(te);if(zi(te)||_i(te)){var he=this._automationEvents.findIndex(function(hs){return _i(te)&&Nt(hs)?hs.startTime+hs.duration>=J:St(hs)>=J}),et=this._automationEvents[he];if(-1!==he&&(this._automationEvents=this._automationEvents.slice(0,he)),zi(te)){var se=this._automationEvents[this._automationEvents.length-1];if(void 0!==et&&Sn(et)){if(void 0!==se&&vi(se))throw new Error("The internal list is malformed.");var Zi=void 0===se?et.insertTime:Nt(se)?se.startTime+se.duration:St(se),Qs=void 0===se?this._defaultValue:Nt(se)?se.values[se.values.length-1]:se.value,Zr=Ut(et)?yi(J,Zi,Qs,et):To(J,Zi,Qs,et),ds=Ut(et)?Vt(Zr,J,this._currenTime):gn(Zr,J,this._currenTime);this._automationEvents.push(ds)}if(void 0!==se&&vi(se)&&this._automationEvents.push(yn(this.getValue(J),J)),void 0!==se&&Nt(se)&&se.startTime+se.duration>J){var hr=J-se.startTime,Yi=(se.values.length-1)/se.duration,Ln=Math.max(2,1+Math.ceil(hr*Yi)),Ci=hr/(Ln-1)*Yi,Di=se.values.slice(0,Ln);if(Ci<1)for(var Ks=1;Ks<Ln;Ks+=1){var wi=Ci*Ks%1;Di[Ks]=se.values[Ks-1]*(1-wi)+se.values[Ks]*wi}this._automationEvents[this._automationEvents.length-1]=Rr(Di,se.startTime,hr)}}}else{var Qi=this._automationEvents.findIndex(function(hs){return St(hs)>J}),Io=-1===Qi?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[Qi-1];if(void 0!==Io&&Nt(Io)&&St(Io)+Io.duration>J)return!1;var yc=Ut(te)?Vt(te.value,te.endTime,this._currenTime):Pn(te)?gn(te.value,J,this._currenTime):te;if(-1===Qi)this._automationEvents.push(yc);else{if(Nt(te)&&J+te.duration>St(this._automationEvents[Qi]))return!1;this._automationEvents.splice(Qi,0,yc)}}return!0}},{key:"flush",value:function(te){var J=this._automationEvents.findIndex(function(se){return St(se)>te});if(J>1){var he=this._automationEvents.slice(J-1),et=he[0];vi(et)&&he.unshift(yn(we(this._automationEvents,J-2,et.startTime,this._defaultValue),et.startTime)),this._automationEvents=he}}},{key:"getValue",value:function(te){if(0===this._automationEvents.length)return this._defaultValue;var J=this._automationEvents.findIndex(function(Di){return St(Di)>te}),he=this._automationEvents[J],et=(-1===J?this._automationEvents.length:J)-1,se=this._automationEvents[et];if(void 0!==se&&vi(se)&&(void 0===he||!Sn(he)||he.insertTime>te))return ls(te,we(this._automationEvents,et-1,se.startTime,this._defaultValue),se);if(void 0!==se&&us(se)&&(void 0===he||!Sn(he)))return se.value;if(void 0!==se&&Nt(se)&&(void 0===he||!Sn(he)||se.startTime+se.duration>te))return te<se.startTime+se.duration?_a(te,se):se.values[se.values.length-1];if(void 0!==se&&Sn(se)&&(void 0===he||!Sn(he)))return se.value;if(void 0!==he&&Ut(he)){var Zi=Ct(this._automationEvents,et,se,he,this._defaultValue),Qs=_t(Zi,2);return yi(te,Qs[0],Qs[1],he)}if(void 0!==he&&Pn(he)){var hr=Ct(this._automationEvents,et,se,he,this._defaultValue),Yi=_t(hr,2);return To(te,Yi[0],Yi[1],he)}return this._defaultValue}}])}(),rt.createCancelAndHoldAutomationEvent=function(re){return{cancelTime:re,type:"cancelAndHold"}},rt.createCancelScheduledValuesAutomationEvent=function(re){return{cancelTime:re,type:"cancelScheduledValues"}},rt.createExponentialRampToValueAutomationEvent=function(re,te){return{endTime:te,type:"exponentialRampToValue",value:re}},rt.createLinearRampToValueAutomationEvent=function(re,te){return{endTime:te,type:"linearRampToValue",value:re}},rt.createSetTargetAutomationEvent=function(re,te,J){return{startTime:te,target:re,timeConstant:J,type:"setTarget"}},rt.createSetValueAutomationEvent=yn,rt.createSetValueCurveAutomationEvent=Rr}(Dt,mt(715),mt(383),mt(579))},715:(ne,Dt,mt)=>{var rt=mt(987),_t=mt(156),bt=mt(122),At=mt(752);ne.exports=function Vt(gn,yn){return rt(gn)||_t(gn,yn)||bt(gn,yn)||At()},ne.exports.__esModule=!0,ne.exports.default=ne.exports},736:(ne,Dt,mt)=>{var rt=mt(738).default,_t=mt(45);ne.exports=function bt(At){var Vt=_t(At,"string");return"symbol"==rt(Vt)?Vt:Vt+""},ne.exports.__esModule=!0,ne.exports.default=ne.exports},738:ne=>{function Dt(mt){return ne.exports=Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(rt){return typeof rt}:function(rt){return rt&&"function"==typeof Symbol&&rt.constructor===Symbol&&rt!==Symbol.prototype?"symbol":typeof rt},ne.exports.__esModule=!0,ne.exports.default=ne.exports,Dt(mt)}ne.exports=Dt,ne.exports.__esModule=!0,ne.exports.default=ne.exports},752:ne=>{ne.exports=function Dt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},ne.exports.__esModule=!0,ne.exports.default=ne.exports},935:()=>{"use strict";const ne=globalThis;function Dt(w){return(ne.__Zone_symbol_prefix||"__zone_symbol__")+w}const _t=Object.getOwnPropertyDescriptor,bt=Object.defineProperty,At=Object.getPrototypeOf,Vt=Object.create,gn=Array.prototype.slice,yn="addEventListener",Rr="removeEventListener",ls=Dt(yn),Ut=Dt(Rr),Pn="true",Sn="false",us=Dt("");function Nt(w,E){return Zone.current.wrap(w,E)}function we(w,E,B,C,A){return Zone.current.scheduleMacroTask(w,E,B,C,A)}const Ct=Dt,zi=typeof window<"u",_i=zi?window:void 0,St=zi&&_i||globalThis;function To(w,E){for(let B=w.length-1;B>=0;B--)"function"==typeof w[B]&&(w[B]=Nt(w[B],E+"_"+B));return w}function _a(w){return!w||!1!==w.writable&&!("function"==typeof w.get&&typeof w.set>"u")}const vi=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,So=!("nw"in St)&&typeof St.process<"u"&&"[object process]"===St.process.toString(),bi=!So&&!vi&&!(!zi||!_i.HTMLElement),Ys=typeof St.process<"u"&&"[object process]"===St.process.toString()&&!vi&&!(!zi||!_i.HTMLElement),Mo={},Wi=Ct("enable_beforeunload"),_c=function(w){if(!(w=w||St.event))return;let E=Mo[w.type];E||(E=Mo[w.type]=Ct("ON_PROPERTY"+w.type));const B=this||w.target||St,C=B[E];let A;return bi&&B===_i&&"error"===w.type?(A=C&&C.call(this,w.message,w.filename,w.lineno,w.colno,w.error),!0===A&&w.preventDefault()):(A=C&&C.apply(this,arguments),"beforeunload"===w.type&&St[Wi]&&"string"==typeof A?w.returnValue=A:null!=A&&!A&&w.preventDefault()),A};function Mt(w,E,B){let C=_t(w,E);if(!C&&B&&_t(B,E)&&(C={enumerable:!0,configurable:!0}),!C||!C.configurable)return;const A=Ct("on"+E+"patched");if(w.hasOwnProperty(A)&&w[A])return;delete C.writable,delete C.value;const Q=C.get,ve=C.set,fe=E.slice(2);let Ee=Mo[fe];Ee||(Ee=Mo[fe]=Ct("ON_PROPERTY"+fe)),C.set=function($e){let pe=this;!pe&&w===St&&(pe=St),pe&&("function"==typeof pe[Ee]&&pe.removeEventListener(fe,_c),ve?.call(pe,null),pe[Ee]=$e,"function"==typeof $e&&pe.addEventListener(fe,_c,!1))},C.get=function(){let $e=this;if(!$e&&w===St&&($e=St),!$e)return null;const pe=$e[Ee];if(pe)return pe;if(Q){let He=Q.call(this);if(He)return C.set.call(this,He),"function"==typeof $e.removeAttribute&&$e.removeAttribute(E),He}return null},bt(w,E,C),w[A]=!0}function re(w,E,B){if(E)for(let C=0;C<E.length;C++)Mt(w,"on"+E[C],B);else{const C=[];for(const A in w)"on"==A.slice(0,2)&&C.push(A);for(let A=0;A<C.length;A++)Mt(w,C[A],B)}}const te=Ct("originalInstance");function J(w){const E=St[w];if(!E)return;St[Ct(w)]=E,St[w]=function(){const A=To(arguments,w);switch(A.length){case 0:this[te]=new E;break;case 1:this[te]=new E(A[0]);break;case 2:this[te]=new E(A[0],A[1]);break;case 3:this[te]=new E(A[0],A[1],A[2]);break;case 4:this[te]=new E(A[0],A[1],A[2],A[3]);break;default:throw new Error("Arg list too long.")}},se(St[w],E);const B=new E(function(){});let C;for(C in B)"XMLHttpRequest"===w&&"responseBlob"===C||function(A){"function"==typeof B[A]?St[w].prototype[A]=function(){return this[te][A].apply(this[te],arguments)}:bt(St[w].prototype,A,{set:function(Q){"function"==typeof Q?(this[te][A]=Nt(Q,w+"."+A),se(this[te][A],Q)):this[te][A]=Q},get:function(){return this[te][A]}})}(C);for(C in E)"prototype"!==C&&E.hasOwnProperty(C)&&(St[w][C]=E[C])}function he(w,E,B){let C=w;for(;C&&!C.hasOwnProperty(E);)C=At(C);!C&&w[E]&&(C=w);const A=Ct(E);let Q=null;if(C&&(!(Q=C[A])||!C.hasOwnProperty(A))&&(Q=C[A]=C[E],_a(C&&_t(C,E)))){const fe=B(Q,A,E);C[E]=function(){return fe(this,arguments)},se(C[E],Q)}return Q}function et(w,E,B){let C=null;function A(Q){const ve=Q.data;return ve.args[ve.cbIdx]=function(){Q.invoke.apply(this,arguments)},C.apply(ve.target,ve.args),Q}C=he(w,E,Q=>function(ve,fe){const Ee=B(ve,fe);return Ee.cbIdx>=0&&"function"==typeof fe[Ee.cbIdx]?we(Ee.name,fe[Ee.cbIdx],Ee,A):Q.apply(ve,fe)})}function se(w,E){w[Ct("OriginalDelegate")]=E}let Zi=!1,Qs=!1;function Zr(){if(Zi)return Qs;Zi=!0;try{const w=_i.navigator.userAgent;(-1!==w.indexOf("MSIE ")||-1!==w.indexOf("Trident/")||-1!==w.indexOf("Edge/"))&&(Qs=!0)}catch{}return Qs}function ds(w){return"function"==typeof w}function hr(w){return"number"==typeof w}const Yi={useG:!0},Ln={},Ci={},Di=new RegExp("^"+us+"(\\w+)(true|false)$"),Ks=Ct("propagationStopped");function wi(w,E){const B=(E?E(w):w)+Sn,C=(E?E(w):w)+Pn,A=us+B,Q=us+C;Ln[w]={},Ln[w][Sn]=A,Ln[w][Pn]=Q}function Qi(w,E,B,C){const A=C&&C.add||yn,Q=C&&C.rm||Rr,ve=C&&C.listeners||"eventListeners",fe=C&&C.rmAll||"removeAllListeners",Ee=Ct(A),$e="."+A+":",pe="prependListener",He="."+pe+":",ot=function(xe,ie,Fe){if(xe.isRemoved)return;const Ot=xe.callback;let vn;"object"==typeof Ot&&Ot.handleEvent&&(xe.callback=Ce=>Ot.handleEvent(Ce),xe.originalDelegate=Ot);try{xe.invoke(xe,ie,[Fe])}catch(Ce){vn=Ce}const Wt=xe.options;return Wt&&"object"==typeof Wt&&Wt.once&&ie[Q].call(ie,Fe.type,xe.originalDelegate?xe.originalDelegate:xe.callback,Wt),vn};function jt(xe,ie,Fe){if(!(ie=ie||w.event))return;const Ot=xe||ie.target||w,vn=Ot[Ln[ie.type][Fe?Pn:Sn]];if(vn){const Wt=[];if(1===vn.length){const Ce=ot(vn[0],Ot,ie);Ce&&Wt.push(Ce)}else{const Ce=vn.slice();for(let yt=0;yt<Ce.length&&(!ie||!0!==ie[Ks]);yt++){const at=ot(Ce[yt],Ot,ie);at&&Wt.push(at)}}if(1===Wt.length)throw Wt[0];for(let Ce=0;Ce<Wt.length;Ce++){const yt=Wt[Ce];E.nativeScheduleMicroTask(()=>{throw yt})}}}const Gt=function(xe){return jt(this,xe,!1)},nr=function(xe){return jt(this,xe,!0)};function Vn(xe,ie){if(!xe)return!1;let Fe=!0;ie&&void 0!==ie.useG&&(Fe=ie.useG);const Ot=ie&&ie.vh;let vn=!0;ie&&void 0!==ie.chkDup&&(vn=ie.chkDup);let Wt=!1;ie&&void 0!==ie.rt&&(Wt=ie.rt);let Ce=xe;for(;Ce&&!Ce.hasOwnProperty(A);)Ce=At(Ce);if(!Ce&&xe[A]&&(Ce=xe),!Ce||Ce[Ee])return!1;const yt=ie&&ie.eventNameToString,at={},be=Ce[Ee]=Ce[A],Ae=Ce[Ct(Q)]=Ce[Q],tt=Ce[Ct(ve)]=Ce[ve],br=Ce[Ct(fe)]=Ce[fe];let un;ie&&ie.prepend&&(un=Ce[Ct(ie.prepend)]=Ce[ie.prepend]);const ke=Fe?function(x){if(!at.isExisting)return be.call(at.target,at.eventName,at.capture?nr:Gt,at.options)}:function(x){return be.call(at.target,at.eventName,x.invoke,at.options)},wt=Fe?function(x){if(!x.isRemoved){const G=Ln[x.eventName];let Re;G&&(Re=G[x.capture?Pn:Sn]);const We=Re&&x.target[Re];if(We)for(let Te=0;Te<We.length;Te++)if(We[Te]===x){We.splice(Te,1),x.isRemoved=!0,x.removeAbortListener&&(x.removeAbortListener(),x.removeAbortListener=null),0===We.length&&(x.allRemoved=!0,x.target[Re]=null);break}}if(x.allRemoved)return Ae.call(x.target,x.eventName,x.capture?nr:Gt,x.options)}:function(x){return Ae.call(x.target,x.eventName,x.invoke,x.options)},fs=ie?.diff||function(x,G){const Re=typeof G;return"function"===Re&&x.callback===G||"object"===Re&&x.originalDelegate===G},Ei=Zone[Ct("UNPATCHED_EVENTS")],ps=w[Ct("PASSIVE_EVENTS")],k=function(x,G,Re,We,Te=!1,Ue=!1){return function(){const pt=this||w;let gt=arguments[0];ie&&ie.transferEventName&&(gt=ie.transferEventName(gt));let tn=arguments[1];if(!tn)return x.apply(this,arguments);if(So&&"uncaughtException"===gt)return x.apply(this,arguments);let Zt=!1;if("function"!=typeof tn){if(!tn.handleEvent)return x.apply(this,arguments);Zt=!0}if(Ot&&!Ot(x,tn,pt,arguments))return;const Ti=!!ps&&-1!==ps.indexOf(gt),Xs=function H(x){if("object"==typeof x&&null!==x){const G={...x};return x.signal&&(G.signal=x.signal),G}return x}(function T(x,G){return G?"boolean"==typeof x?{capture:x,passive:!0}:x?"object"==typeof x&&!1!==x.passive?{...x,passive:!0}:x:{passive:!0}:x}(arguments[2],Ti)),Ao=Xs?.signal;if(Ao?.aborted)return;if(Ei)for(let Ms=0;Ms<Ei.length;Ms++)if(gt===Ei[Ms])return Ti?x.call(pt,gt,tn,Xs):x.apply(this,arguments);const ph=!!Xs&&("boolean"==typeof Xs||Xs.capture),Wn=!(!Xs||"object"!=typeof Xs)&&Xs.once,De=Zone.current;let gh=Ln[gt];gh||(wi(gt,yt),gh=Ln[gt]);const Dm=gh[ph?Pn:Sn];let tu,No=pt[Dm],wm=!1;if(No){if(wm=!0,vn)for(let Ms=0;Ms<No.length;Ms++)if(fs(No[Ms],tn))return}else No=pt[Dm]=[];const _e=pt.constructor.name,Em=Ci[_e];Em&&(tu=Em[gt]),tu||(tu=_e+G+(yt?yt(gt):gt)),at.options=Xs,Wn&&(at.options.once=!1),at.target=pt,at.capture=ph,at.eventName=gt,at.isExisting=wm;const Ss=Fe?Yi:void 0;Ss&&(Ss.taskData=at),Ao&&(at.options.signal=void 0);const Cr=De.scheduleEventTask(tu,tn,Ss,Re,We);if(Ao){at.options.signal=Ao;const Ms=()=>Cr.zone.cancelTask(Cr);x.call(Ao,"abort",Ms,{once:!0}),Cr.removeAbortListener=()=>Ao.removeEventListener("abort",Ms)}return at.target=null,Ss&&(Ss.taskData=null),Wn&&(at.options.once=!0),"boolean"!=typeof Cr.options&&(Cr.options=Xs),Cr.target=pt,Cr.capture=ph,Cr.eventName=gt,Zt&&(Cr.originalDelegate=tn),Ue?No.unshift(Cr):No.push(Cr),Te?pt:void 0}};return Ce[A]=k(be,$e,ke,wt,Wt),un&&(Ce[pe]=k(un,He,function(x){return un.call(at.target,at.eventName,x.invoke,at.options)},wt,Wt,!0)),Ce[Q]=function(){const x=this||w;let G=arguments[0];ie&&ie.transferEventName&&(G=ie.transferEventName(G));const Re=arguments[2],We=!!Re&&("boolean"==typeof Re||Re.capture),Te=arguments[1];if(!Te)return Ae.apply(this,arguments);if(Ot&&!Ot(Ae,Te,x,arguments))return;const Ue=Ln[G];let pt;Ue&&(pt=Ue[We?Pn:Sn]);const gt=pt&&x[pt];if(gt)for(let tn=0;tn<gt.length;tn++){const Zt=gt[tn];if(fs(Zt,Te))return gt.splice(tn,1),Zt.isRemoved=!0,0!==gt.length||(Zt.allRemoved=!0,x[pt]=null,We||"string"!=typeof G)||(x[us+"ON_PROPERTY"+G]=null),Zt.zone.cancelTask(Zt),Wt?x:void 0}return Ae.apply(this,arguments)},Ce[ve]=function(){const x=this||w;let G=arguments[0];ie&&ie.transferEventName&&(G=ie.transferEventName(G));const Re=[],We=Io(x,yt?yt(G):G);for(let Te=0;Te<We.length;Te++){const Ue=We[Te];Re.push(Ue.originalDelegate?Ue.originalDelegate:Ue.callback)}return Re},Ce[fe]=function(){const x=this||w;let G=arguments[0];if(G){ie&&ie.transferEventName&&(G=ie.transferEventName(G));const Re=Ln[G];if(Re){const Ue=x[Re[Sn]],pt=x[Re[Pn]];if(Ue){const gt=Ue.slice();for(let tn=0;tn<gt.length;tn++){const Zt=gt[tn];this[Q].call(this,G,Zt.originalDelegate?Zt.originalDelegate:Zt.callback,Zt.options)}}if(pt){const gt=pt.slice();for(let tn=0;tn<gt.length;tn++){const Zt=gt[tn];this[Q].call(this,G,Zt.originalDelegate?Zt.originalDelegate:Zt.callback,Zt.options)}}}}else{const Re=Object.keys(x);for(let We=0;We<Re.length;We++){const Ue=Di.exec(Re[We]);let pt=Ue&&Ue[1];pt&&"removeListener"!==pt&&this[fe].call(this,pt)}this[fe].call(this,"removeListener")}if(Wt)return this},se(Ce[A],be),se(Ce[Q],Ae),br&&se(Ce[fe],br),tt&&se(Ce[ve],tt),!0}let qt=[];for(let xe=0;xe<B.length;xe++)qt[xe]=Vn(B[xe],C);return qt}function Io(w,E){if(!E){const Q=[];for(let ve in w){const fe=Di.exec(ve);let Ee=fe&&fe[1];if(Ee&&(!E||Ee===E)){const $e=w[ve];if($e)for(let pe=0;pe<$e.length;pe++)Q.push($e[pe])}}return Q}let B=Ln[E];B||(wi(E),B=Ln[E]);const C=w[B[Sn]],A=w[B[Pn]];return C?A?C.concat(A):C.slice():A?A.slice():[]}function yc(w,E){const B=w.Event;B&&B.prototype&&E.patchMethod(B.prototype,"stopImmediatePropagation",C=>function(A,Q){A[Ks]=!0,C&&C.apply(A,Q)})}const ya=Ct("zoneTask");function va(w,E,B,C){let A=null,Q=null;B+=C;const ve={};function fe($e){const pe=$e.data;pe.args[0]=function(){return $e.invoke.apply(this,arguments)};const He=A.apply(w,pe.args);return hr(He)?pe.handleId=He:(pe.handle=He,pe.isRefreshable=ds(He.refresh)),$e}function Ee($e){const{handle:pe,handleId:He}=$e.data;return Q.call(w,pe??He)}A=he(w,E+=C,$e=>function(pe,He){if(ds(He[0])){const ot={isRefreshable:!1,isPeriodic:"Interval"===C,delay:"Timeout"===C||"Interval"===C?He[1]||0:void 0,args:He},jt=He[0];He[0]=function(){try{return jt.apply(this,arguments)}finally{const{handle:Fe,handleId:Ot,isPeriodic:vn,isRefreshable:Wt}=ot;!vn&&!Wt&&(Ot?delete ve[Ot]:Fe&&(Fe[ya]=null))}};const Gt=we(E,He[0],ot,fe,Ee);if(!Gt)return Gt;const{handleId:nr,handle:Vn,isRefreshable:qt,isPeriodic:xe}=Gt.data;if(nr)ve[nr]=Gt;else if(Vn&&(Vn[ya]=Gt,qt&&!xe)){const ie=Vn.refresh;Vn.refresh=function(){const{zone:Fe,state:Ot}=Gt;return"notScheduled"===Ot?(Gt._state="scheduled",Fe._updateTaskCount(Gt,1)):"running"===Ot&&(Gt._state="scheduling"),ie.call(this)}}return Vn??nr??Gt}return $e.apply(w,He)}),Q=he(w,B,$e=>function(pe,He){const ot=He[0];let jt;hr(ot)?(jt=ve[ot],delete ve[ot]):(jt=ot?.[ya],jt?ot[ya]=null:jt=ot),jt?.type?jt.cancelFn&&jt.zone.cancelTask(jt):$e.apply(w,He)})}function vc(w,E,B){if(!B||0===B.length)return E;const C=B.filter(Q=>Q.target===w);if(0===C.length)return E;const A=C[0].ignoreProperties;return E.filter(Q=>-1===A.indexOf(Q))}function bc(w,E,B,C){w&&re(w,vc(w,E,B),C)}function xo(w){return Object.getOwnPropertyNames(w).filter(E=>E.startsWith("on")&&E.length>2).map(E=>E.substring(2))}function Ki(w,E,B,C,A){const Q=Zone.__symbol__(C);if(E[Q])return;const ve=E[Q]=E[C];E[C]=function(fe,Ee,$e){return Ee&&Ee.prototype&&A.forEach(function(pe){const He=`${B}.${C}::`+pe,ot=Ee.prototype;try{if(ot.hasOwnProperty(pe)){const jt=w.ObjectGetOwnPropertyDescriptor(ot,pe);jt&&jt.value?(jt.value=w.wrapWithCurrentZone(jt.value,He),w._redefineProperty(Ee.prototype,pe,jt)):ot[pe]&&(ot[pe]=w.wrapWithCurrentZone(ot[pe],He))}else ot[pe]&&(ot[pe]=w.wrapWithCurrentZone(ot[pe],He))}catch{}}),ve.call(E,fe,Ee,$e)},w.attachOriginToPatched(E[C],ve)}const ba=function rt(){const w=globalThis,E=!0===w[Dt("forceDuplicateZoneCheck")];if(w.Zone&&(E||"function"!=typeof w.Zone.__symbol__))throw new Error("Zone already loaded.");return w.Zone??=function mt(){const w=ne.performance;function E(T){w&&w.mark&&w.mark(T)}function B(T,me){w&&w.measure&&w.measure(T,me)}E("Zone");let C=(()=>{class T{static __symbol__=Dt;static assertZonePatched(){if(ne.Promise!==at.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let b=T.current;for(;b.parent;)b=b.parent;return b}static get current(){return Ae.zone}static get currentTask(){return tt}static __load_patch(b,D,Ne=!1){if(at.hasOwnProperty(b)){const Ge=!0===ne[Dt("forceDuplicateZoneCheck")];if(!Ne&&Ge)throw Error("Already loaded patch: "+b)}else if(!ne["__Zone_disable_"+b]){const Ge="Zone:"+b;E(Ge),at[b]=D(ne,T,be),B(Ge,Ge)}}get parent(){return this._parent}get name(){return this._name}_parent;_name;_properties;_zoneDelegate;constructor(b,D){this._parent=b,this._name=D?D.name||"unnamed":"<root>",this._properties=D&&D.properties||{},this._zoneDelegate=new Q(this,this._parent&&this._parent._zoneDelegate,D)}get(b){const D=this.getZoneWith(b);if(D)return D._properties[b]}getZoneWith(b){let D=this;for(;D;){if(D._properties.hasOwnProperty(b))return D;D=D._parent}return null}fork(b){if(!b)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,b)}wrap(b,D){if("function"!=typeof b)throw new Error("Expecting function got: "+b);const Ne=this._zoneDelegate.intercept(this,b,D),Ge=this;return function(){return Ge.runGuarded(Ne,this,arguments,D)}}run(b,D,Ne,Ge){Ae={parent:Ae,zone:this};try{return this._zoneDelegate.invoke(this,b,D,Ne,Ge)}finally{Ae=Ae.parent}}runGuarded(b,D=null,Ne,Ge){Ae={parent:Ae,zone:this};try{try{return this._zoneDelegate.invoke(this,b,D,Ne,Ge)}catch(ke){if(this._zoneDelegate.handleError(this,ke))throw ke}}finally{Ae=Ae.parent}}runTask(b,D,Ne){if(b.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(b.zone||Vn).name+"; Execution: "+this.name+")");const Ge=b,{type:ke,data:{isPeriodic:wt=!1,isRefreshable:bn=!1}={}}=b;if(b.state===qt&&(ke===yt||ke===Ce))return;const fs=b.state!=Fe;fs&&Ge._transitionTo(Fe,ie);const Ei=tt;tt=Ge,Ae={parent:Ae,zone:this};try{ke==Ce&&b.data&&!wt&&!bn&&(b.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,Ge,D,Ne)}catch(ps){if(this._zoneDelegate.handleError(this,ps))throw ps}}finally{const ps=b.state;if(ps!==qt&&ps!==vn)if(ke==yt||wt||bn&&ps===xe)fs&&Ge._transitionTo(ie,Fe,xe);else{const H=Ge._zoneDelegates;this._updateTaskCount(Ge,-1),fs&&Ge._transitionTo(qt,Fe,qt),bn&&(Ge._zoneDelegates=H)}Ae=Ae.parent,tt=Ei}}scheduleTask(b){if(b.zone&&b.zone!==this){let Ne=this;for(;Ne;){if(Ne===b.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${b.zone.name}`);Ne=Ne.parent}}b._transitionTo(xe,qt);const D=[];b._zoneDelegates=D,b._zone=this;try{b=this._zoneDelegate.scheduleTask(this,b)}catch(Ne){throw b._transitionTo(vn,xe,qt),this._zoneDelegate.handleError(this,Ne),Ne}return b._zoneDelegates===D&&this._updateTaskCount(b,1),b.state==xe&&b._transitionTo(ie,xe),b}scheduleMicroTask(b,D,Ne,Ge){return this.scheduleTask(new ve(Wt,b,D,Ne,Ge,void 0))}scheduleMacroTask(b,D,Ne,Ge,ke){return this.scheduleTask(new ve(Ce,b,D,Ne,Ge,ke))}scheduleEventTask(b,D,Ne,Ge,ke){return this.scheduleTask(new ve(yt,b,D,Ne,Ge,ke))}cancelTask(b){if(b.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(b.zone||Vn).name+"; Execution: "+this.name+")");if(b.state===ie||b.state===Fe){b._transitionTo(Ot,ie,Fe);try{this._zoneDelegate.cancelTask(this,b)}catch(D){throw b._transitionTo(vn,Ot),this._zoneDelegate.handleError(this,D),D}return this._updateTaskCount(b,-1),b._transitionTo(qt,Ot),b.runCount=-1,b}}_updateTaskCount(b,D){const Ne=b._zoneDelegates;-1==D&&(b._zoneDelegates=null);for(let Ge=0;Ge<Ne.length;Ge++)Ne[Ge]._updateTaskCount(b.type,D)}}return T})();const A={name:"",onHasTask:(T,me,b,D)=>T.hasTask(b,D),onScheduleTask:(T,me,b,D)=>T.scheduleTask(b,D),onInvokeTask:(T,me,b,D,Ne,Ge)=>T.invokeTask(b,D,Ne,Ge),onCancelTask:(T,me,b,D)=>T.cancelTask(b,D)};class Q{get zone(){return this._zone}_zone;_taskCounts={microTask:0,macroTask:0,eventTask:0};_parentDelegate;_forkDlgt;_forkZS;_forkCurrZone;_interceptDlgt;_interceptZS;_interceptCurrZone;_invokeDlgt;_invokeZS;_invokeCurrZone;_handleErrorDlgt;_handleErrorZS;_handleErrorCurrZone;_scheduleTaskDlgt;_scheduleTaskZS;_scheduleTaskCurrZone;_invokeTaskDlgt;_invokeTaskZS;_invokeTaskCurrZone;_cancelTaskDlgt;_cancelTaskZS;_cancelTaskCurrZone;_hasTaskDlgt;_hasTaskDlgtOwner;_hasTaskZS;_hasTaskCurrZone;constructor(me,b,D){this._zone=me,this._parentDelegate=b,this._forkZS=D&&(D&&D.onFork?D:b._forkZS),this._forkDlgt=D&&(D.onFork?b:b._forkDlgt),this._forkCurrZone=D&&(D.onFork?this._zone:b._forkCurrZone),this._interceptZS=D&&(D.onIntercept?D:b._interceptZS),this._interceptDlgt=D&&(D.onIntercept?b:b._interceptDlgt),this._interceptCurrZone=D&&(D.onIntercept?this._zone:b._interceptCurrZone),this._invokeZS=D&&(D.onInvoke?D:b._invokeZS),this._invokeDlgt=D&&(D.onInvoke?b:b._invokeDlgt),this._invokeCurrZone=D&&(D.onInvoke?this._zone:b._invokeCurrZone),this._handleErrorZS=D&&(D.onHandleError?D:b._handleErrorZS),this._handleErrorDlgt=D&&(D.onHandleError?b:b._handleErrorDlgt),this._handleErrorCurrZone=D&&(D.onHandleError?this._zone:b._handleErrorCurrZone),this._scheduleTaskZS=D&&(D.onScheduleTask?D:b._scheduleTaskZS),this._scheduleTaskDlgt=D&&(D.onScheduleTask?b:b._scheduleTaskDlgt),this._scheduleTaskCurrZone=D&&(D.onScheduleTask?this._zone:b._scheduleTaskCurrZone),this._invokeTaskZS=D&&(D.onInvokeTask?D:b._invokeTaskZS),this._invokeTaskDlgt=D&&(D.onInvokeTask?b:b._invokeTaskDlgt),this._invokeTaskCurrZone=D&&(D.onInvokeTask?this._zone:b._invokeTaskCurrZone),this._cancelTaskZS=D&&(D.onCancelTask?D:b._cancelTaskZS),this._cancelTaskDlgt=D&&(D.onCancelTask?b:b._cancelTaskDlgt),this._cancelTaskCurrZone=D&&(D.onCancelTask?this._zone:b._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const Ne=D&&D.onHasTask;(Ne||b&&b._hasTaskZS)&&(this._hasTaskZS=Ne?D:A,this._hasTaskDlgt=b,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=this._zone,D.onScheduleTask||(this._scheduleTaskZS=A,this._scheduleTaskDlgt=b,this._scheduleTaskCurrZone=this._zone),D.onInvokeTask||(this._invokeTaskZS=A,this._invokeTaskDlgt=b,this._invokeTaskCurrZone=this._zone),D.onCancelTask||(this._cancelTaskZS=A,this._cancelTaskDlgt=b,this._cancelTaskCurrZone=this._zone))}fork(me,b){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,me,b):new C(me,b)}intercept(me,b,D){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,me,b,D):b}invoke(me,b,D,Ne,Ge){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,me,b,D,Ne,Ge):b.apply(D,Ne)}handleError(me,b){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,me,b)}scheduleTask(me,b){let D=b;if(this._scheduleTaskZS)this._hasTaskZS&&D._zoneDelegates.push(this._hasTaskDlgtOwner),D=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,me,b),D||(D=b);else if(b.scheduleFn)b.scheduleFn(b);else{if(b.type!=Wt)throw new Error("Task is missing scheduleFn.");Gt(b)}return D}invokeTask(me,b,D,Ne){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,me,b,D,Ne):b.callback.apply(D,Ne)}cancelTask(me,b){let D;if(this._cancelTaskZS)D=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,me,b);else{if(!b.cancelFn)throw Error("Task is not cancelable");D=b.cancelFn(b)}return D}hasTask(me,b){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,me,b)}catch(D){this.handleError(me,D)}}_updateTaskCount(me,b){const D=this._taskCounts,Ne=D[me],Ge=D[me]=Ne+b;if(Ge<0)throw new Error("More tasks executed then were scheduled.");0!=Ne&&0!=Ge||this.hasTask(this._zone,{microTask:D.microTask>0,macroTask:D.macroTask>0,eventTask:D.eventTask>0,change:me})}}class ve{type;source;invoke;callback;data;scheduleFn;cancelFn;_zone=null;runCount=0;_zoneDelegates=null;_state="notScheduled";constructor(me,b,D,Ne,Ge,ke){if(this.type=me,this.source=b,this.data=Ne,this.scheduleFn=Ge,this.cancelFn=ke,!D)throw new Error("callback is not defined");this.callback=D;const wt=this;this.invoke=me===yt&&Ne&&Ne.useG?ve.invokeTask:function(){return ve.invokeTask.call(ne,wt,this,arguments)}}static invokeTask(me,b,D){me||(me=this),br++;try{return me.runCount++,me.zone.runTask(me,b,D)}finally{1==br&&nr(),br--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(qt,xe)}_transitionTo(me,b,D){if(this._state!==b&&this._state!==D)throw new Error(`${this.type} '${this.source}': can not transition to '${me}', expecting state '${b}'${D?" or '"+D+"'":""}, was '${this._state}'.`);this._state=me,me==qt&&(this._zoneDelegates=null)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const fe=Dt("setTimeout"),Ee=Dt("Promise"),$e=Dt("then");let ot,pe=[],He=!1;function jt(T){if(ot||ne[Ee]&&(ot=ne[Ee].resolve(0)),ot){let me=ot[$e];me||(me=ot.then),me.call(ot,T)}else ne[fe](T,0)}function Gt(T){0===br&&0===pe.length&&jt(nr),T&&pe.push(T)}function nr(){if(!He){for(He=!0;pe.length;){const T=pe;pe=[];for(let me=0;me<T.length;me++){const b=T[me];try{b.zone.runTask(b,null,null)}catch(D){be.onUnhandledError(D)}}}be.microtaskDrainDone(),He=!1}}const Vn={name:"NO ZONE"},qt="notScheduled",xe="scheduling",ie="scheduled",Fe="running",Ot="canceling",vn="unknown",Wt="microTask",Ce="macroTask",yt="eventTask",at={},be={symbol:Dt,currentZoneFrame:()=>Ae,onUnhandledError:un,microtaskDrainDone:un,scheduleMicroTask:Gt,showUncaughtError:()=>!C[Dt("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:un,patchMethod:()=>un,bindArguments:()=>[],patchThen:()=>un,patchMacroTask:()=>un,patchEventPrototype:()=>un,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>un,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>un,wrapWithCurrentZone:()=>un,filterProperties:()=>[],attachOriginToPatched:()=>un,_redefineProperty:()=>un,patchCallbacks:()=>un,nativeScheduleMicroTask:jt};let Ae={parent:null,zone:new C(null,null)},tt=null,br=0;function un(){}return B("Zone","Zone"),C}(),w.Zone}();(function fh(w){(function dh(w){w.__load_patch("ZoneAwarePromise",(E,B,C)=>{const A=Object.getOwnPropertyDescriptor,Q=Object.defineProperty,fe=C.symbol,Ee=[],$e=!1!==E[fe("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],pe=fe("Promise"),He=fe("then");C.onUnhandledError=H=>{if(C.showUncaughtError()){const k=H&&H.rejection;k?console.error("Unhandled Promise rejection:",k instanceof Error?k.message:k,"; Zone:",H.zone.name,"; Task:",H.task&&H.task.source,"; Value:",k,k instanceof Error?k.stack:void 0):console.error(H)}},C.microtaskDrainDone=()=>{for(;Ee.length;){const H=Ee.shift();try{H.zone.runGuarded(()=>{throw H.throwOriginal?H.rejection:H})}catch(k){Gt(k)}}};const jt=fe("unhandledPromiseRejectionHandler");function Gt(H){C.onUnhandledError(H);try{const k=B[jt];"function"==typeof k&&k.call(this,H)}catch{}}function nr(H){return H&&"function"==typeof H.then}function Vn(H){return H}function qt(H){return wt.reject(H)}const xe=fe("state"),ie=fe("value"),Fe=fe("finally"),Ot=fe("parentPromiseValue"),vn=fe("parentPromiseState"),Ce=null,at=!1;function Ae(H,k){return x=>{try{T(H,k,x)}catch(G){T(H,!1,G)}}}const tt=function(){let H=!1;return function(x){return function(){H||(H=!0,x.apply(null,arguments))}}},br="Promise resolved with itself",un=fe("currentTaskTrace");function T(H,k,x){const G=tt();if(H===x)throw new TypeError(br);if(H[xe]===Ce){let Re=null;try{("object"==typeof x||"function"==typeof x)&&(Re=x&&x.then)}catch(We){return G(()=>{T(H,!1,We)})(),H}if(k!==at&&x instanceof wt&&x.hasOwnProperty(xe)&&x.hasOwnProperty(ie)&&x[xe]!==Ce)b(x),T(H,x[xe],x[ie]);else if(k!==at&&"function"==typeof Re)try{Re.call(x,G(Ae(H,k)),G(Ae(H,!1)))}catch(We){G(()=>{T(H,!1,We)})()}else{H[xe]=k;const We=H[ie];if(H[ie]=x,H[Fe]===Fe&&!0===k&&(H[xe]=H[vn],H[ie]=H[Ot]),k===at&&x instanceof Error){const Te=B.currentTask&&B.currentTask.data&&B.currentTask.data.__creationTrace__;Te&&Q(x,un,{configurable:!0,enumerable:!1,writable:!0,value:Te})}for(let Te=0;Te<We.length;)D(H,We[Te++],We[Te++],We[Te++],We[Te++]);if(0==We.length&&k==at){H[xe]=0;let Te=x;try{throw new Error("Uncaught (in promise): "+function ve(H){return H&&H.toString===Object.prototype.toString?(H.constructor&&H.constructor.name||"")+": "+JSON.stringify(H):H?H.toString():Object.prototype.toString.call(H)}(x)+(x&&x.stack?"\n"+x.stack:""))}catch(Ue){Te=Ue}$e&&(Te.throwOriginal=!0),Te.rejection=x,Te.promise=H,Te.zone=B.current,Te.task=B.currentTask,Ee.push(Te),C.scheduleMicroTask()}}}return H}const me=fe("rejectionHandledHandler");function b(H){if(0===H[xe]){try{const k=B[me];k&&"function"==typeof k&&k.call(this,{rejection:H[ie],promise:H})}catch{}H[xe]=at;for(let k=0;k<Ee.length;k++)H===Ee[k].promise&&Ee.splice(k,1)}}function D(H,k,x,G,Re){b(H);const We=H[xe],Te=We?"function"==typeof G?G:Vn:"function"==typeof Re?Re:qt;k.scheduleMicroTask("Promise.then",()=>{try{const Ue=H[ie],pt=!!x&&Fe===x[Fe];pt&&(x[Ot]=Ue,x[vn]=We);const gt=k.run(Te,void 0,pt&&Te!==qt&&Te!==Vn?[]:[Ue]);T(x,!0,gt)}catch(Ue){T(x,!1,Ue)}},x)}const Ge=function(){},ke=E.AggregateError;class wt{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(k){return k instanceof wt?k:T(new this(null),!0,k)}static reject(k){return T(new this(null),at,k)}static withResolvers(){const k={};return k.promise=new wt((x,G)=>{k.resolve=x,k.reject=G}),k}static any(k){if(!k||"function"!=typeof k[Symbol.iterator])return Promise.reject(new ke([],"All promises were rejected"));const x=[];let G=0;try{for(let Te of k)G++,x.push(wt.resolve(Te))}catch{return Promise.reject(new ke([],"All promises were rejected"))}if(0===G)return Promise.reject(new ke([],"All promises were rejected"));let Re=!1;const We=[];return new wt((Te,Ue)=>{for(let pt=0;pt<x.length;pt++)x[pt].then(gt=>{Re||(Re=!0,Te(gt))},gt=>{We.push(gt),G--,0===G&&(Re=!0,Ue(new ke(We,"All promises were rejected")))})})}static race(k){let x,G,Re=new this((Ue,pt)=>{x=Ue,G=pt});function We(Ue){x(Ue)}function Te(Ue){G(Ue)}for(let Ue of k)nr(Ue)||(Ue=this.resolve(Ue)),Ue.then(We,Te);return Re}static all(k){return wt.allWithCallback(k)}static allSettled(k){return(this&&this.prototype instanceof wt?this:wt).allWithCallback(k,{thenCallback:G=>({status:"fulfilled",value:G}),errorCallback:G=>({status:"rejected",reason:G})})}static allWithCallback(k,x){let G,Re,We=new this((gt,tn)=>{G=gt,Re=tn}),Te=2,Ue=0;const pt=[];for(let gt of k){nr(gt)||(gt=this.resolve(gt));const tn=Ue;try{gt.then(Zt=>{pt[tn]=x?x.thenCallback(Zt):Zt,Te--,0===Te&&G(pt)},Zt=>{x?(pt[tn]=x.errorCallback(Zt),Te--,0===Te&&G(pt)):Re(Zt)})}catch(Zt){Re(Zt)}Te++,Ue++}return Te-=2,0===Te&&G(pt),We}constructor(k){const x=this;if(!(x instanceof wt))throw new Error("Must be an instanceof Promise.");x[xe]=Ce,x[ie]=[];try{const G=tt();k&&k(G(Ae(x,!0)),G(Ae(x,at)))}catch(G){T(x,!1,G)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return wt}then(k,x){let G=this.constructor?.[Symbol.species];(!G||"function"!=typeof G)&&(G=this.constructor||wt);const Re=new G(Ge),We=B.current;return this[xe]==Ce?this[ie].push(We,Re,k,x):D(this,We,Re,k,x),Re}catch(k){return this.then(null,k)}finally(k){let x=this.constructor?.[Symbol.species];(!x||"function"!=typeof x)&&(x=wt);const G=new x(Ge);G[Fe]=Fe;const Re=B.current;return this[xe]==Ce?this[ie].push(Re,G,k,k):D(this,Re,G,k,k),G}}wt.resolve=wt.resolve,wt.reject=wt.reject,wt.race=wt.race,wt.all=wt.all;const bn=E[pe]=E.Promise;E.Promise=wt;const fs=fe("thenPatched");function Ei(H){const k=H.prototype,x=A(k,"then");if(x&&(!1===x.writable||!x.configurable))return;const G=k.then;k[He]=G,H.prototype.then=function(Re,We){return new wt((Ue,pt)=>{G.call(this,Ue,pt)}).then(Re,We)},H[fs]=!0}return C.patchThen=Ei,bn&&(Ei(bn),he(E,"fetch",H=>function ps(H){return function(k,x){let G=H.apply(k,x);if(G instanceof wt)return G;let Re=G.constructor;return Re[fs]||Ei(Re),G}}(H))),Promise[B.__symbol__("uncaughtPromiseErrors")]=Ee,wt})})(w),function hh(w){w.__load_patch("toString",E=>{const B=Function.prototype.toString,C=Ct("OriginalDelegate"),A=Ct("Promise"),Q=Ct("Error"),ve=function(){if("function"==typeof this){const pe=this[C];if(pe)return"function"==typeof pe?B.call(pe):Object.prototype.toString.call(pe);if(this===Promise){const He=E[A];if(He)return B.call(He)}if(this===Error){const He=E[Q];if(He)return B.call(He)}}return B.call(this)};ve[C]=B,Function.prototype.toString=ve;const fe=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":fe.call(this)}})}(w),function Cc(w){w.__load_patch("util",(E,B,C)=>{const A=xo(E);C.patchOnProperties=re,C.patchMethod=he,C.bindArguments=To,C.patchMacroTask=et;const Q=B.__symbol__("BLACK_LISTED_EVENTS"),ve=B.__symbol__("UNPATCHED_EVENTS");E[ve]&&(E[Q]=E[ve]),E[Q]&&(B[Q]=B[ve]=E[Q]),C.patchEventPrototype=yc,C.patchEventTarget=Qi,C.isIEOrEdge=Zr,C.ObjectDefineProperty=bt,C.ObjectGetOwnPropertyDescriptor=_t,C.ObjectCreate=Vt,C.ArraySlice=gn,C.patchClass=J,C.wrapWithCurrentZone=Nt,C.filterProperties=vc,C.attachOriginToPatched=se,C._redefineProperty=Object.defineProperty,C.patchCallbacks=Ki,C.getGlobalObjects=()=>({globalSources:Ci,zoneSymbolEventNames:Ln,eventNames:A,isBrowser:bi,isMix:Ys,isNode:So,TRUE_STR:Pn,FALSE_STR:Sn,ZONE_SYMBOL_PREFIX:us,ADD_EVENT_LISTENER_STR:yn,REMOVE_EVENT_LISTENER_STR:Rr})})}(w)})(ba),function uh(w){w.__load_patch("legacy",E=>{const B=E[w.__symbol__("legacyPatch")];B&&B()}),w.__load_patch("timers",E=>{const C="clear";va(E,"set",C,"Timeout"),va(E,"set",C,"Interval"),va(E,"set",C,"Immediate")}),w.__load_patch("requestAnimationFrame",E=>{va(E,"request","cancel","AnimationFrame"),va(E,"mozRequest","mozCancel","AnimationFrame"),va(E,"webkitRequest","webkitCancel","AnimationFrame")}),w.__load_patch("blocking",(E,B)=>{const C=["alert","prompt","confirm"];for(let A=0;A<C.length;A++)he(E,C[A],(ve,fe,Ee)=>function($e,pe){return B.current.run(ve,E,pe,Ee)})}),w.__load_patch("EventTarget",(E,B,C)=>{(function en(w,E){E.patchEventPrototype(w,E)})(E,C),function Cm(w,E){if(Zone[E.symbol("patchEventTarget")])return;const{eventNames:B,zoneSymbolEventNames:C,TRUE_STR:A,FALSE_STR:Q,ZONE_SYMBOL_PREFIX:ve}=E.getGlobalObjects();for(let Ee=0;Ee<B.length;Ee++){const $e=B[Ee],ot=ve+($e+Q),jt=ve+($e+A);C[$e]={},C[$e][Q]=ot,C[$e][A]=jt}const fe=w.EventTarget;fe&&fe.prototype&&E.patchEventTarget(w,E,[fe&&fe.prototype])}(E,C);const A=E.XMLHttpRequestEventTarget;A&&A.prototype&&C.patchEventTarget(E,C,[A.prototype])}),w.__load_patch("MutationObserver",(E,B,C)=>{J("MutationObserver"),J("WebKitMutationObserver")}),w.__load_patch("IntersectionObserver",(E,B,C)=>{J("IntersectionObserver")}),w.__load_patch("FileReader",(E,B,C)=>{J("FileReader")}),w.__load_patch("on_property",(E,B,C)=>{!function tr(w,E){if(So&&!Ys||Zone[w.symbol("patchEvents")])return;const B=E.__Zone_ignore_on_properties;let C=[];if(bi){const A=window;C=C.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const Q=[];bc(A,xo(A),B&&B.concat(Q),At(A))}C=C.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let A=0;A<C.length;A++){const Q=E[C[A]];Q?.prototype&&bc(Q.prototype,xo(Q.prototype),B)}}(C,E)}),w.__load_patch("customElements",(E,B,C)=>{!function eu(w,E){const{isBrowser:B,isMix:C}=E.getGlobalObjects();(B||C)&&w.customElements&&"customElements"in w&&E.patchCallbacks(E,w.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback","formAssociatedCallback","formDisabledCallback","formResetCallback","formStateRestoreCallback"])}(E,C)}),w.__load_patch("XHR",(E,B)=>{!function $e(pe){const He=pe.XMLHttpRequest;if(!He)return;const ot=He.prototype;let Gt=ot[ls],nr=ot[Ut];if(!Gt){const be=pe.XMLHttpRequestEventTarget;if(be){const Ae=be.prototype;Gt=Ae[ls],nr=Ae[Ut]}}const Vn="readystatechange",qt="scheduled";function xe(be){const Ae=be.data,tt=Ae.target;tt[ve]=!1,tt[Ee]=!1;const br=tt[Q];Gt||(Gt=tt[ls],nr=tt[Ut]),br&&nr.call(tt,Vn,br);const un=tt[Q]=()=>{if(tt.readyState===tt.DONE)if(!Ae.aborted&&tt[ve]&&be.state===qt){const me=tt[B.__symbol__("loadfalse")];if(0!==tt.status&&me&&me.length>0){const b=be.invoke;be.invoke=function(){const D=tt[B.__symbol__("loadfalse")];for(let Ne=0;Ne<D.length;Ne++)D[Ne]===be&&D.splice(Ne,1);!Ae.aborted&&be.state===qt&&b.call(be)},me.push(be)}else be.invoke()}else!Ae.aborted&&!1===tt[ve]&&(tt[Ee]=!0)};return Gt.call(tt,Vn,un),tt[C]||(tt[C]=be),yt.apply(tt,Ae.args),tt[ve]=!0,be}function ie(){}function Fe(be){const Ae=be.data;return Ae.aborted=!0,at.apply(Ae.target,Ae.args)}const Ot=he(ot,"open",()=>function(be,Ae){return be[A]=0==Ae[2],be[fe]=Ae[1],Ot.apply(be,Ae)}),Wt=Ct("fetchTaskAborting"),Ce=Ct("fetchTaskScheduling"),yt=he(ot,"send",()=>function(be,Ae){if(!0===B.current[Ce]||be[A])return yt.apply(be,Ae);{const tt={target:be,url:be[fe],isPeriodic:!1,args:Ae,aborted:!1},br=we("XMLHttpRequest.send",ie,tt,xe,Fe);be&&!0===be[Ee]&&!tt.aborted&&br.state===qt&&br.invoke()}}),at=he(ot,"abort",()=>function(be,Ae){const tt=function jt(be){return be[C]}(be);if(tt&&"string"==typeof tt.type){if(null==tt.cancelFn||tt.data&&tt.data.aborted)return;tt.zone.cancelTask(tt)}else if(!0===B.current[Wt])return at.apply(be,Ae)})}(E);const C=Ct("xhrTask"),A=Ct("xhrSync"),Q=Ct("xhrListener"),ve=Ct("xhrScheduled"),fe=Ct("xhrURL"),Ee=Ct("xhrErrorBeforeScheduled")}),w.__load_patch("geolocation",E=>{E.navigator&&E.navigator.geolocation&&function Gi(w,E){const B=w.constructor.name;for(let C=0;C<E.length;C++){const A=E[C],Q=w[A];if(Q){if(!_a(_t(w,A)))continue;w[A]=(fe=>{const Ee=function(){return fe.apply(this,To(arguments,B+"."+A))};return se(Ee,fe),Ee})(Q)}}}(E.navigator.geolocation,["getCurrentPosition","watchPosition"])}),w.__load_patch("PromiseRejectionEvent",(E,B)=>{function C(A){return function(Q){Io(E,A).forEach(fe=>{const Ee=E.PromiseRejectionEvent;if(Ee){const $e=new Ee(A,{promise:Q.promise,reason:Q.rejection});fe.invoke($e)}})}}E.PromiseRejectionEvent&&(B[Ct("unhandledPromiseRejectionHandler")]=C("unhandledrejection"),B[Ct("rejectionHandledHandler")]=C("rejectionhandled"))}),w.__load_patch("queueMicrotask",(E,B,C)=>{!function hs(w,E){E.patchMethod(w,"queueMicrotask",B=>function(C,A){Zone.current.scheduleMicroTask("queueMicrotask",A[0])})}(E,C)})}(ba)},987:ne=>{ne.exports=function Dt(mt){if(Array.isArray(mt))return mt},ne.exports.__esModule=!0,ne.exports.default=ne.exports}},ne=>{ne(ne.s=508)}]);